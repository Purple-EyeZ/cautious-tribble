"use strict";(()=>{var __create=Object.create;var __defProp=Object.defineProperty;var __getOwnPropDesc=Object.getOwnPropertyDescriptor;var __getOwnPropNames=Object.getOwnPropertyNames;var __getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty;var __esm=(fn,res)=>function(){return fn&&(res=(0,fn[__getOwnPropNames(fn)[0]])(fn=0)),res};var __commonJS=(cb,mod2)=>function(){return mod2||(0,cb[__getOwnPropNames(cb)[0]])((mod2={exports:{}}).exports,mod2),mod2.exports};var __export=(target,all)=>{for(var name in all)__defProp(target,name,{get:all[name],enumerable:!0})},__copyProps=(to,from,except,desc)=>{if(from&&typeof from=="object"||typeof from=="function")for(var keys=__getOwnPropNames(from),i=0,n=keys.length,key;i<n;i++)key=keys[i],!__hasOwnProp.call(to,key)&&key!==except&&__defProp(to,key,{get:(k=>from[k]).bind(null,key),enumerable:!(desc=__getOwnPropDesc(from,key))||desc.enumerable});return to};var __toESM=(mod2,isNodeMode,target)=>(target=mod2!=null?__create(__getProtoOf(mod2)):{},__copyProps(isNodeMode||!mod2||!mod2.__esModule?__defProp(target,"default",{value:mod2,enumerable:!0}):target,mod2)),__toCommonJS=mod2=>__copyProps(__defProp({},"__esModule",{value:!0}),mod2);function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){reject(error);return}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _async_to_generator(fn){return function(){var self2=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self2,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err3){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err3)}_next(void 0)})}}var init_async_to_generator=__esm({"node_modules/@swc/helpers/esm/_async_to_generator.js"(){}});function noop(){}function noopPromise(){return _noopPromise.apply(this,arguments)}function _noopPromise(){return _noopPromise=_async_to_generator(function*(){}),_noopPromise.apply(this,arguments)}var objectSeal,objectFreeze,sleep,init_functions=__esm({"libraries/utils/src/functions.ts"(){"use strict";init_async_to_generator();objectSeal=Object.seal,objectFreeze=Object.freeze,sleep=ms=>new Promise(resolve=>setTimeout(resolve,ms))}});function createLogger(name){var tag=`[revenge.${name}]`;return{log:message2=>console.log(`${tag} ${message2}`),warn:message2=>console.warn(`${tag} ${message2}`),error:message2=>console.error(`${tag} ${message2}`)}}var init_library=__esm({"libraries/utils/src/library.ts"(){"use strict"}});function timeOf(time){return timestampOf(time)-PerformanceTimes.Native_RequiredIndex}function timestampOf(time){var timestamp=PerformanceTimes[time];return timestamp===-1?Number.NaN:timestamp}function recordTimestamp(time){return PerformanceTimes[time]=nativePerformanceNow()}var PerformanceTimes,init_src=__esm({"libraries/debug/src/index.ts"(){"use strict";PerformanceTimes={Native_RequiredIndex:-1,Init_Initialize:-1,Modules_TriedRestoreCache:-1,Modules_HookedFactories:-1,Modules_IndexRequired:-1,Init_PromiseResolved:-1,Modules_RequiredAssets:-1,App_RunApplicationCalled:-1,App_AfterRunRACallbacks:-1,Plugins_Registered:-1,Storage_Initialized:-1,Plugins_Started:-1,App_CreateElementCalled:-1,App_AfterRunCECallbacks:-1}}});function createBitFlagEnum(...flags){for(var _enum={},i=0;i<flags.length;i++){var flag=flags[i];_enum[flag]=1<<i}return _enum}var init_enums=__esm({"libraries/utils/src/enums.ts"(){"use strict"}});var constants_exports={};__export(constants_exports,{FirstAssetTypeRegisteredKey:()=>FirstAssetTypeRegisteredKey,IndexMetroModuleId:()=>IndexMetroModuleId,MetroCacheRelativeFilePath:()=>MetroCacheRelativeFilePath,MetroCacheVersion:()=>MetroCacheVersion,MetroModuleFilePathKey:()=>MetroModuleFilePathKey,MetroModuleFlags:()=>MetroModuleFlags,MetroModuleLookupFlags:()=>MetroModuleLookupFlags,SafeModuleHookAmountBeforeDefer:()=>SafeModuleHookAmountBeforeDefer,assetCacheIndexSymbol:()=>assetCacheIndexSymbol});var MetroModuleFlags,MetroModuleLookupFlags,IndexMetroModuleId,SafeModuleHookAmountBeforeDefer,MetroCacheVersion,MetroCacheRelativeFilePath,FirstAssetTypeRegisteredKey,MetroModuleFilePathKey,assetCacheIndexSymbol,init_constants=__esm({"libraries/modules/src/constants.ts"(){"use strict";init_enums();MetroModuleFlags=createBitFlagEnum("Blacklisted","Asset"),MetroModuleLookupFlags=createBitFlagEnum("NotFound","FullLookup"),IndexMetroModuleId=0,SafeModuleHookAmountBeforeDefer=1500,MetroCacheVersion=2,MetroCacheRelativeFilePath="RevengeMetroCache",FirstAssetTypeRegisteredKey="__firstAssetTypeRegistered",MetroModuleFilePathKey="__moduleFilePath",assetCacheIndexSymbol=Symbol.for("revenge.modules.metro.caches.assetCacheIndex")}});function lazyValue(factory,opts={}){var cache2,HintMap={object:{},function:function(){}},dummy=HintMap[opts.hint??"function"],proxyFactory=()=>cache2??=factory(),proxy=new Proxy(dummy,lazyHandler);return factories.set(proxy,proxyFactory),proxyContextHolder.set(dummy,{factory,options:opts}),proxy}function lazyDestructure(factory,opts={}){var proxiedObject=lazyValue(factory);return new Proxy({},{get(_3,property){return property===Symbol.iterator?function*(){throw yield proxiedObject,yield new Proxy({},{get:(_4,p)=>lazyValue(()=>proxiedObject[p],opts)}),new Error("This is not a real iterator, this is likely used incorrectly")}:lazyValue(()=>proxiedObject[property],opts)}})}function getProxyFactory(obj){return factories.get(obj)}var unconfigurable,isUnconfigurable,factories,proxyContextHolder,lazyHandler,init_lazy=__esm({"libraries/utils/src/lazy.ts"(){"use strict";unconfigurable=new Set(["arguments","caller","prototype"]),isUnconfigurable=key=>typeof key=="string"&&unconfigurable.has(key),factories=new WeakMap,proxyContextHolder=new WeakMap,lazyHandler={...Object.fromEntries(Object.getOwnPropertyNames(Reflect).map(fnName=>[fnName,(target,...args)=>{var contextHolder=proxyContextHolder.get(target),resolved=contextHolder?.factory();if(!resolved)throw new Error(`Cannot run Reflect.${fnName} on ${typeof resolved}`);return Reflect[fnName](resolved,...args)}])),has(target,p){var contextHolder=proxyContextHolder.get(target);if(contextHolder?.options){var{exemptedEntries:isolatedEntries}=contextHolder.options;if(isolatedEntries&&p in isolatedEntries)return!0}var resolved=contextHolder?.factory();if(!resolved)throw new Error(`Cannot read keys of ${typeof resolved} (reading '${String(p)})`);return Reflect.has(resolved,p)},get(target,p,receiver){var contextHolder=proxyContextHolder.get(target);if(contextHolder?.options){var{exemptedEntries:isolatedEntries}=contextHolder.options;if(isolatedEntries?.[p])return isolatedEntries[p]}var resolved=contextHolder?.factory();if(!resolved)throw new Error(`Cannot read properties of ${typeof resolved} (reading '${String(p)}')`);return Reflect.get(resolved,p,receiver)},ownKeys:target=>{var contextHolder=proxyContextHolder.get(target),resolved=contextHolder?.factory();if(!resolved)throw new Error(`Cannot get keys of ${typeof resolved}`);var cacheKeys=Reflect.ownKeys(resolved);for(var key of unconfigurable)cacheKeys.includes(key)||cacheKeys.push(key);return cacheKeys},getOwnPropertyDescriptor:(target,p)=>{var contextHolder=proxyContextHolder.get(target),resolved=contextHolder?.factory();if(!resolved)throw new Error(`Cannot get property descriptor of ${typeof resolved} (getting '${String(p)}')`);if(isUnconfigurable(p))return Reflect.getOwnPropertyDescriptor(target,p);var descriptor=Reflect.getOwnPropertyDescriptor(resolved,p);return descriptor&&Object.defineProperty(target,p,descriptor),descriptor}}}});var nmp,CacheModule,FileModule,ClientInfoModule,DeviceModule,BundleUpdaterManager,ThemeModule,init_modules=__esm({"libraries/modules/src/native/modules.ts"(){"use strict";init_lazy();nmp=nativeModuleProxy,CacheModule=lazyValue(()=>nmp.NativeCacheModule??nmp.MMKVManager,{hint:"object"}),FileModule=lazyValue(()=>nmp.NativeFileModule??nmp.RTNFileManager??nmp.DCDFileManager,{hint:"object"}),ClientInfoModule=lazyValue(()=>nmp.NativeClientInfoModule??nmp.RTNClientInfoManager??nmp.InfoDictionaryManager,{hint:"object"}),DeviceModule=lazyValue(()=>nmp.NativeDeviceModule??nmp.RTNDeviceManager??nmp.DCDDeviceManager,{hint:"object"}),BundleUpdaterManager=lazyValue(()=>nmp.BundleUpdaterManager,{hint:"object"}),ThemeModule=lazyValue(()=>nmp.NativeThemeModule??nmp.RTNThemeManager??nmp.DCDThemeManager,{hint:"object"})}});var native_exports={};__export(native_exports,{BundleUpdaterManager:()=>BundleUpdaterManager,CacheModule:()=>CacheModule,ClientInfoModule:()=>ClientInfoModule,DeviceModule:()=>DeviceModule,FileModule:()=>FileModule,ThemeModule:()=>ThemeModule});var init_native=__esm({"libraries/modules/src/native/index.ts"(){"use strict";init_modules()}});function unpatch(patchedFunction,hookId,type){var patch=patchedFunctions.get(patchedFunction);return!(!patch||!patch[type].delete(hookId))}var hook_default,getPatchFunc,patchedFunctions,unpatchAll,before,instead,after,init_dist=__esm({"node_modules/@marshift/strawberry/dist/index.mjs"(){hook_default=(patchedFunc,origFunc,funcArgs,ctx,isConstruct)=>{var patch=patchedFunctions.get(patchedFunc);if(!patch)return isConstruct?Reflect.construct(origFunc,funcArgs,ctx):origFunc.apply(ctx,funcArgs);for(var hook of patch.b.values()){var maybefuncArgs=hook.call(ctx,funcArgs);Array.isArray(maybefuncArgs)&&(funcArgs=maybefuncArgs)}var workingRetVal=[...patch.i.values()].reduce((prev,current)=>(...args)=>current.call(ctx,args,prev),(...args)=>isConstruct?Reflect.construct(origFunc,args,ctx):origFunc.apply(ctx,args))(...funcArgs);for(var hook1 of patch.a.values())workingRetVal=hook1.call(ctx,funcArgs,workingRetVal)??workingRetVal;for(var cleanup of patch.c)cleanup();return patch.c=[],workingRetVal},getPatchFunc=patchType=>(funcParent,funcName,callback,oneTime=!1)=>{var origFunc=funcParent[funcName];if(typeof origFunc!="function")throw new Error(`${String(funcName)} is not a function in ${funcParent.constructor.name}`);var funcPatch=patchedFunctions.get(origFunc);if(!funcPatch){funcPatch={b:new Map,i:new Map,a:new Map,c:[]};var replaceProxy=new Proxy(origFunc,{apply:(_3,ctx,args)=>runHook(ctx,args,!1),construct:(_3,args)=>runHook(origFunc,args,!0),get:(target,prop,receiver)=>prop=="toString"?origFunc.toString.bind(origFunc):Reflect.get(target,prop,receiver)}),runHook=(ctx,args,construct)=>hook_default(replaceProxy,origFunc,args,ctx,construct);patchedFunctions.set(replaceProxy,funcPatch),Reflect.defineProperty(funcParent,funcName,{value:replaceProxy,configurable:!0,writable:!0})||(funcParent[funcName]=replaceProxy)}var hookId=Symbol(),patchedFunc=funcParent[funcName],unpatchThisPatch=()=>unpatch(patchedFunc,hookId,patchType);return oneTime&&funcPatch.c.push(unpatchThisPatch),funcPatch[patchType].set(hookId,callback),unpatchThisPatch};unpatchAll=()=>patchedFunctions=new WeakMap;unpatchAll();before=getPatchFunc("b"),instead=getPatchFunc("i"),after=getPatchFunc("a")}});function createExtendedPatchFunction(fn){function patchFn(...args){if(patcherLazyModuleSymbol in args[0]){var onceModuleLoaded=args[0][patcherLazyModuleSymbol],cancel=!1,unpatch2=()=>cancel=!0;return onceModuleLoaded(target=>{cancel||(args[0]=target,unpatch2=fn.apply(this,args))}),unpatch2}return fn.apply(this,args)}function promisePatchFn(...args){var thenable=args[0];if(!thenable||!("then"in thenable))throw new Error("Cannot await a non-thenable object");var cancel=!1,unpatch2=()=>cancel=!0;return thenable.then(target=>{cancel||(args[0]=target,unpatch2=patchFn.apply(this,args))}),unpatch2}return Object.assign(patchFn,{await:promisePatchFn})}function trapFunctionCallsRecursive(func,onBeforeCall,onReturn){return new Proxy(func,{apply(target,thisArg,args){var ret=target.apply(thisArg,onBeforeCall(args));return onReturn(ret)},get(target,prop){var maybeFunc=Reflect.get(target,prop);return typeof maybeFunc!="function"?maybeFunc:trapFunctionCallsRecursive(maybeFunc,onBeforeCall,onReturn)}})}var init_utils=__esm({"libraries/patcher/src/utils.ts"(){"use strict";init_src2()}});function createPatcherInstance(name){if(patcherInstances.has(name))throw new Error(`Patcher instance with the name "${name}" already exists`);var unpatches=new Set,cleanups=new WeakMap;patcherInstances.set(name,unpatches);var onBeforeCall=_args=>{var args=_args,debugKey=args[3]??"[NO_DEBUG_KEY]",callback=args[2];return args[2]=function(patchArgs,origOrRval){try{return callback.apply(this,[patchArgs,origOrRval])}catch(e){throw console.error(`Patch ${name}:${debugKey} threw an error: ${e}`),new Error(`Patch ${name}:${debugKey} threw an error: ${e}`,{cause:e})}},args[3]=void 0,Object.defineProperty(args[2],"name",{value:`revenge.patcher.patch:${name}:${debugKey}`,writable:!1}),args},onReturn=ret=>(unpatches.add(ret),()=>{ret(),unpatches.delete(ret)});return{after:trapFunctionCallsRecursive(_after,onBeforeCall,onReturn),before:trapFunctionCallsRecursive(_before,onBeforeCall,onReturn),instead:trapFunctionCallsRecursive(_instead,onBeforeCall,onReturn),unpatchAll(){for(var unpatch2 of unpatches){unpatch2();var clups=cleanups.get(unpatch2);if(clups)for(var cleanup of clups)cleanup()}},destroy(){this.unpatchAll(),patcherInstances.delete(name)||console.warn(`Patcher instance with the name "${name}" was not found, and cannot be deleted`)},get destroyed(){return!patcherInstances.has(name)},get totalPatches(){return unpatches.size}}}var patcherLazyModuleSymbol,patcherInstances,_after,_before,_instead,init_src2=__esm({"libraries/patcher/src/index.ts"(){"use strict";init_dist();init_utils();patcherLazyModuleSymbol=Symbol.for("revenge.patcher.lazyModule"),patcherInstances=new Map,_after=createExtendedPatchFunction(after),_before=createExtendedPatchFunction(before),_instead=createExtendedPatchFunction(instead)}});function getErrorStack(e){return e?.stack||String(e)}var init_errors=__esm({"libraries/utils/src/errors.ts"(){"use strict"}});var patcher,logger,init_shared=__esm({"libraries/modules/src/shared.ts"(){"use strict";init_src2();init_library();patcher=createPatcherInstance("revenge.library.modules"),logger=createLogger("modules")}});function subscribeModuleLazy(proxy,callback){var info=getLazyContext(proxy);if(!info)throw new Error("No lazy module attached to this proxy");var moduleId=info?.getModuleId();if(!moduleId)throw new Error(`Lazy module has no module ID attached, check if your filter matches any modules: ${info.filter.key}`);return subscribeModule(moduleId,()=>callback(find.eager(info.filter)))}function getLazyContext(proxy){return lazyContexts.get(proxy)}function createLazyModule(filter){var moduleIds=indexedModuleIdsForLookup(filter.key),moduleId,cachedValue,context={filter,getModuleId:()=>moduleId,getExports(cb){for(var id of moduleIds){if(moduleId=id,getMetroModules()[moduleId]?.isInitialized){if(!cachedValue&&!this.forceLoad()){delete cache.lookupFlags[filter.key]?.[moduleId];continue}return cb(cachedValue),noop}return this.subscribe(cb)}return cachedValue||this.forceLoad()?(cb(cachedValue),noop):(moduleId=void 0,noop)},subscribe(cb){return subscribeModuleLazy(proxy,cb)},get cache(){return cachedValue},forceLoad(){return cachedValue??=find.eager(filter),cachedValue}},proxy=lazyValue(()=>context.forceLoad(),{exemptedEntries:{[lazyContextSymbol]:context,[patcherLazyModuleSymbol]:cb=>context.getExports(cb)}});return lazyContexts.set(proxy,context),proxy}var lazyContextSymbol,lazyContexts,init_lazy2=__esm({"libraries/modules/src/utils/lazy.ts"(){"use strict";init_src2();init_functions();init_lazy();init_finders();init_metro();init_caches();lazyContextSymbol=Symbol.for("revenge.modules.lazyContext"),lazyContexts=new WeakMap}});var finders_exports={};__export(finders_exports,{find:()=>find,findByDisplayName:()=>findByDisplayName,findByFilePath:()=>findByFilePath,findByName:()=>findByName,findByProps:()=>findByProps,findByQuery:()=>findByQuery,findBySingleProp:()=>findBySingleProp,findByStoreName:()=>findByStoreName,findByTypeName:()=>findByTypeName,findId:()=>findId,findProp:()=>findProp,findSingleProp:()=>findSingleProp});function filterExports(moduleExports,moduleId,filter){return moduleExports.default&&moduleExports.__esModule&&filter(moduleExports.default,moduleId,!0)?{exports:filter.raw?moduleExports:moduleExports.default,isDefaultExport:!filter.raw}:!filter.raw&&filter(moduleExports,moduleId,!1)?{exports:moduleExports,isDefaultExport:!1}:{}}var findId,find,findByProps,findByName,findByDisplayName,findByTypeName,findByStoreName,findByFilePath,findProp,findBySingleProp,findSingleProp,findByQuery,init_finders=__esm({"libraries/modules/src/finders.ts"(){"use strict";init_lazy();init_filters2();init_metro();init_lazy2();findId=Object.assign(function(filter){var{cache:cache2,finish}=cacherFor(filter.key);for(var[id,moduleExports]of modulesForFinder(filter.key)){var{exports,isDefaultExport}=filterExports(moduleExports,id,filter);if(typeof exports<"u")return cache2(id,exports),finish(!1),[id,isDefaultExport]}return finish(!0),[]},{all:function*(filter){var{cache:cache2,finish}=cacherFor(filter.key),found=!1;for(var[id,moduleExports]of modulesForFinder(filter.key,!0)){var{exports,isDefaultExport}=filterExports(moduleExports,id,filter);typeof exports<"u"&&(cache2(id,exports),found=!0,yield[id,isDefaultExport])}finish(found,!0)}}),find=Object.assign(function(filter){return createLazyModule(filter)},{all:function*(filter){for(var[id,isDefaultExport]of findId.all(filter))typeof id=="number"&&(yield isDefaultExport?requireModule(id).default:requireModule(id))},eager:function(filter){var[id,defaultExport]=findId(filter);if(typeof id=="number")return defaultExport?requireModule(id).default:requireModule(id)}}),findByProps=Object.assign(function(prop,...props){return find(byProps(prop,...props))},{async:function(prop,...propsAndOrTimeout){var cloned=[...propsAndOrTimeout],timeout=typeof cloned[cloned.length-1]=="number"?cloned.pop():1e3;return new Promise(resolve=>{var id=setTimeout(()=>resolve(void 0),timeout);findByProps(prop,...cloned)[lazyContextSymbol].getExports(exp=>{clearTimeout(id),resolve(exp)})})},eager:function(prop,...props){return find.eager(byProps(prop,...props))},all:function(prop,...props){return find.all(byProps(prop,...props))}}),findByName=Object.assign(function(name,returnDefaultExport=!0){return find(returnDefaultExport?byName(name):byName.raw(name))},{async:function(name,returnDefaultExport=!0,timeout=1e3){return new Promise(resolve=>{var id=setTimeout(()=>resolve(void 0),timeout);findByName(name,returnDefaultExport)[lazyContextSymbol].getExports(exp=>{clearTimeout(id),resolve(exp)})})},eager:function(name,returnDefaultExport=!0){return find.eager(returnDefaultExport?byName(name):byName.raw(name))},all:function(name,returnDefaultExport=!0){return find.all(returnDefaultExport?byName(name):byName.raw(name))}}),findByDisplayName=Object.assign(function(name,returnDefaultExport=!0){return find(returnDefaultExport?byDisplayName(name):byDisplayName.raw(name))},{async:function(name,returnDefaultExport=!0,timeout=1e3){return new Promise(resolve=>{var id=setTimeout(()=>resolve(void 0),timeout);findByDisplayName(name,returnDefaultExport)[lazyContextSymbol].getExports(exp=>{clearTimeout(id),resolve(exp)})})},eager:function(name,returnDefaultExport=!0){return find.eager(returnDefaultExport?byDisplayName(name):byDisplayName.raw(name))},all:function(name,returnDefaultExport=!0){return find.all(returnDefaultExport?byDisplayName(name):byDisplayName.raw(name))}}),findByTypeName=Object.assign(function(name,returnDefaultExport=!0){return find(returnDefaultExport?byTypeName(name):byTypeName.raw(name))},{async:function(name,returnDefaultExport=!0,timeout=1e3){return new Promise(resolve=>{var id=setTimeout(()=>resolve(void 0),timeout);findByTypeName(name,returnDefaultExport)[lazyContextSymbol].getExports(exp=>{clearTimeout(id),resolve(exp)})})},eager:function(name,returnDefaultExport=!0){return find.eager(returnDefaultExport?byTypeName(name):byTypeName.raw(name))},all:function(name,returnDefaultExport=!0){return find.all(returnDefaultExport?byTypeName(name):byTypeName.raw(name))}}),findByStoreName=Object.assign(function(name){return find(byStoreName(name))},{async:function(name,timeout=5e3){return new Promise(resolve=>{var id=setTimeout(()=>resolve(void 0),timeout);findByStoreName(name)[lazyContextSymbol].getExports(exp=>{clearTimeout(id),resolve(exp)})})},eager:function(name){return find.eager(byStoreName(name))}}),findByFilePath=Object.assign(function(path,returnDefaultExport=!1){return find(byFilePath(path,returnDefaultExport))},{async:function(path,returnDefaultExport=!0,timeout=1e3){return new Promise(resolve=>{var id=setTimeout(()=>resolve(void 0),timeout);findByFilePath(path,returnDefaultExport)[lazyContextSymbol].getExports(exp=>{clearTimeout(id),resolve(exp)})})},eager:function(path,returnDefaultExport=!0){return find.eager(byFilePath(path,returnDefaultExport))}}),findProp=Object.assign(function(prop,...filterProps){return lazyValue(()=>findByProps.eager(prop,...filterProps)?.[prop])},{async:function(prop,...filterPropsAndOrTimeout){return findByProps.async(prop,...filterPropsAndOrTimeout).then(exports=>exports?.[prop])},eager:function(prop,...filterProps){return findByProps.eager(prop,...filterProps)?.[prop]}}),findBySingleProp=Object.assign(function(name){return find(bySingleProp(name))},{async:function(name,timeout=1e3){return new Promise(resolve=>{var id=setTimeout(()=>resolve(void 0),timeout);findBySingleProp(name)[lazyContextSymbol].getExports(exp=>{clearTimeout(id),resolve(exp)})})},eager:function(name){return find.eager(bySingleProp(name))}}),findSingleProp=Object.assign(function(name){return lazyValue(()=>findBySingleProp.eager(name)?.[name])},{async:function(name,timeout=1e3){return findBySingleProp.async(name,timeout).then(exports=>exports?.[name])},eager:function(name){return findBySingleProp.eager(name)?.[name]}}),findByQuery=Object.assign(function(){throw new Error("Lazy finding for byQuery(...) is not supported, use findByQuery.eager(...) instead")},{eager:function(query,caseSensitive=!1){return find(byQuery(query,caseSensitive))},all:function(query,caseSensitive=!1){return find.all(byQuery(query,caseSensitive))}})}});function restoreCache(){return _restoreCache.apply(this,arguments)}function _restoreCache(){return _restoreCache=_async_to_generator(function*(){logger.log("Attempting to restore cache..."),resolveModuleDependencies(getMetroModules(),IndexMetroModuleId);var path=`${FileModule.getConstants().CacheDirPath}/${MetroCacheRelativeFilePath}`;if(!(yield FileModule.fileExists(path)))return!1;var savedCache=yield FileModule.readFile(path,"utf8"),storedCache=JSON.parse(savedCache);return logger.log(`Cache found, validating... (compare: ${storedCache.v} === ${MetroCacheVersion}, ${storedCache.b} === ${ClientInfoModule.Build}, ${storedCache.t} === ${dependencies.size})`),storedCache.v!==MetroCacheVersion||storedCache.b!==ClientInfoModule.Build||storedCache.t!==dependencies.size?!1:(logger.log(`Restoring cache of ${dependencies.size} modules`),cache.totalModules=storedCache.t,cache.exportsFlags=storedCache.e,cache.lookupFlags=storedCache.l,cache.assetModules=storedCache.a,cache.assets[assetCacheIndexSymbol]={},cache.assetModules[assetCacheIndexSymbol]={},!0)}),_restoreCache.apply(this,arguments)}function requireAssetModules(){var[assetsRegistryModuleId]=findId(byProps("registerAsset"));if(!assetsRegistryModuleId)return void logger.warn("Unable to create asset cache, cannot find assets-registry module ID, some assets may not load");var assetsRegistryExporterModuleId=0;for(var id of dependencies){var module=modules[id];if(module?.dependencyMap&&module.dependencyMap.length===1&&module.dependencyMap[0]===assetsRegistryModuleId){assetsRegistryExporterModuleId=id;break}}if(!assetsRegistryExporterModuleId)return void logger.warn("Unable to create asset cache, cannot find assets-registry exporter module ID, some assets may not load");logger.log("Importing all assets modules...");for(var id1 of dependencies){var module1=modules[id1];module1?.dependencyMap&&module1.dependencyMap.length===1&&module1.dependencyMap[0]===assetsRegistryExporterModuleId&&requireModule(id1)}}function saveCache(){saveCacheDebounceTimeoutId&&clearTimeout(saveCacheDebounceTimeoutId),saveCacheDebounceTimeoutId=setTimeout(()=>{FileModule.writeFile("cache",MetroCacheRelativeFilePath,JSON.stringify({v:MetroCacheVersion,b:ClientInfoModule.Build,t:cache.totalModules,e:cache.exportsFlags,l:cache.lookupFlags,a:cache.assetModules,p:cache.patchableModules}),"utf8"),logger.log(`Cache saved (${cache.totalModules} modules)`)},1e3)}function invalidateCache(){FileModule.removeFile("cache",MetroCacheRelativeFilePath),logger.warn("Cache invalidated")}function cacherFor(key){var registry=cache.lookupFlags[key]??={},invalidated=!1;return{cache:(id,exports)=>{registry[id]??=(invalidated=!0,0),isModuleExportsBad(exports)&&(blacklistModule(id),invalidated=!0,id in registry&&delete registry[id])},finish:(notFound,fullLookup=!1)=>{registry.flags??=0,notFound&&(registry.flags|=MetroModuleLookupFlags.NotFound),fullLookup&&(registry.flags|=MetroModuleLookupFlags.FullLookup),invalidated&&saveCache()}}}function cacheModuleAsBlacklisted(id){cache.exportsFlags[id]|=MetroModuleFlags.Blacklisted}function cacheAsset(name,index,moduleId,type){cache.assets[name]??={},cache.assetModules[name]??={[FirstAssetTypeRegisteredKey]:type},cache.assets[name][type]=index,cache.assetModules[name][type]??=moduleId,cache.assets[assetCacheIndexSymbol][index]=name,cache.assetModules[assetCacheIndexSymbol][index]=cache.assetModules[name][type],cache.exportsFlags[moduleId]|=MetroModuleFlags.Asset,saveCache()}function*indexedModuleIdsForLookup(key){var modulesMap=cache.lookupFlags[key];if(modulesMap)for(var k in modulesMap)k!=="flags"&&(yield Number(k))}var cache,saveCacheDebounceTimeoutId,init_caches=__esm({"libraries/modules/src/metro/caches.ts"(){"use strict";init_async_to_generator();init_constants();init_filters2();init_finders();init_native();init_shared();init_metro();cache={exportsFlags:{},lookupFlags:{},assets:{[assetCacheIndexSymbol]:{}},assetModules:{[assetCacheIndexSymbol]:{}},patchableModules:{},totalModules:0}}});function initializeModulePatches(patcher6,logger5,metroModules){subscribePatchableModule("f",exports=>exports.fileFinishedImporting,exports=>{patcher6.before(exports,"fileFinishedImporting",([filePath])=>{var importingModuleId2=getImportingModuleId();importingModuleId2===-1||!filePath||(metroModules[importingModuleId2][MetroModuleFilePathKey]=filePath)},"trackFilePath")}),subscribePatchableModule("r",exports=>["customBubblingEventTypes","customDirectEventTypes","register","get"].every(x2=>exports[x2]),exports=>{patcher6.instead(exports,"register",(args,origFunc)=>{try{return origFunc(...args)}catch{}},"fixNativeComponentRegistryDuplicateRegister")}),subscribePatchableModule("b",(exports,id)=>exports.default?.reactProfilingEnabled&&!metroModules[id+1]?.publicModule.exports.default,(_3,id)=>{isModuleBlacklisted(id+1)||(blacklistModule(id+1),logger5.log(`Blacklisted module ${id+1} as it causes freeze when initialized`))}),subscribePatchableModule("s",m2=>m2.initSentry,m2=>m2.initSentry=noop),subscribePatchableModule("d",m2=>m2.default?.track&&m2.default.trackMaker,m2=>m2.default.track=()=>noopPromise),subscribePatchableModule("m",m2=>m2.isMoment,moment=>patcher6.instead(moment,"defineLocale",(args,orig)=>{var origLocale=moment.locale();orig(...args),moment.locale(origLocale)}))}function subscribePatchableModule(patchId,filter,patch){var cachedId=cache.patchableModules[patchId],unsub=cachedId?subscribeModule(cachedId,exports=>{patch(exports,cachedId)}):subscribeModule.all((id,exports)=>{filter(exports,id)&&(unsub(),cache.patchableModules[patchId]=id,patch(exports,id),subscribePatchableModule(patchId,filter,patch))})}var init_patches=__esm({"libraries/modules/src/metro/patches.ts"(){"use strict";init_constants();init_metro();init_functions()}});var metro_exports={};__export(metro_exports,{blacklistModule:()=>blacklistModule,cache:()=>cache,cacheAsset:()=>cacheAsset,cacheModuleAsBlacklisted:()=>cacheModuleAsBlacklisted,cacherFor:()=>cacherFor,dependencies:()=>dependencies,getImportingModuleId:()=>getImportingModuleId,getMetroModules:()=>getMetroModules,indexedModuleIdsForLookup:()=>indexedModuleIdsForLookup,initializeModules:()=>initializeModules,invalidateCache:()=>invalidateCache,isModuleAssetRegistrar:()=>isModuleAssetRegistrar,isModuleBlacklisted:()=>isModuleBlacklisted,isModuleExportsBad:()=>isModuleExportsBad,modulesForFinder:()=>modulesForFinder,requireModule:()=>requireModule,resolveModuleDependencies:()=>resolveModuleDependencies,subscribeModule:()=>subscribeModule});function getMetroModules(){return globalThis.modules}function getImportingModuleId(){return importingModuleId}function resolveModuleDependencies(modules3,id){var metroModule=modules3[id];if(!metroModule)return void metroDependencies.delete(id);if(!(!metroModule.dependencyMap||resolvedModules.has(id))){resolvedModules.add(id);for(var depId of metroModule.dependencyMap)metroDependencies.add(depId),resolveModuleDependencies(modules3,depId)}}function hookModule(id,metroModule){if(metroModule.isInitialized){if(logger.warn(`Hooking already initialized module: ${id}`),isModuleExportsBad(metroModule.publicModule.exports))return blacklistModule(id),!1;var subs=subscriptions[id];if(subs)for(var sub of subs)sub(id,metroModule.publicModule.exports);for(var sub1 of subscriptions.all)sub1(id,metroModule.publicModule.exports);return!1}var unpatch2=patcher.instead(metroModule,"factory",(args,origFunc)=>{unpatch2();var originalImportingId=importingModuleId,{4:moduleObject}=args;try{importingModuleId=id,origFunc(...args)}catch(error){logger.log(`Blacklisted module ${id} because it could not be initialized: ${error}`),blacklistModule(id)}if(importingModuleId=originalImportingId,isModuleExportsBad(moduleObject.exports))blacklistModule(id);else{var subs2=subscriptions[id];if(subs2)for(var sub2 of subs2)sub2(id,moduleObject.exports);for(var sub12 of subscriptions.all)sub12(id,moduleObject.exports)}},"moduleFactory");return!0}function initializeModules(){return _initializeModules.apply(this,arguments)}function _initializeModules(){return _initializeModules=_async_to_generator(function*(){var metroModules=getMetroModules();if(metroModules[IndexMetroModuleId]?.isInitialized)throw new Error("Metro modules has already been initialized");var cacheRestored=yield restoreCache();recordTimestamp("Modules_TriedRestoreCache"),initializeModulePatches(patcher,logger,metroModules);for(var moduleIds=metroDependencies.values(),hookCountLeft=Math.min(metroDependencies.size,SafeModuleHookAmountBeforeDefer);hookCountLeft>-1;){var id=moduleIds.next().value;moduleShouldNotBeHooked(id)||(hookModule(id,metroModules[id]),--hookCountLeft)}logger.log("Importing index module..."),__r(IndexMetroModuleId),recordTimestamp("Modules_IndexRequired");var id1=moduleIds.next().value;if(id1){do moduleShouldNotBeHooked(id1)||hookModule(id1,metroModules[id1]);while(id1=moduleIds.next().value);recordTimestamp("Modules_HookedFactories"),cacheRestored||(requireAssetModules(),recordTimestamp("Modules_RequiredAssets")),cache.totalModules=metroDependencies.size,saveCache()}}),_initializeModules.apply(this,arguments)}function blacklistModule(id){cacheModuleAsBlacklisted(id),saveCache()}function requireModule(id){var metroModules=getMetroModules();if(!isModuleBlacklisted(id)){var metroModule=metroModules[id];if(metroModule?.isInitialized&&!metroModule.hasError)return __r(id);var ogHandler=ErrorUtils.getGlobalHandler();ErrorUtils.setGlobalHandler((err3,isFatal)=>{logger.error(`Blacklisting module ${id} because it could not be imported (fatal = ${isFatal}): ${err3} `),blacklistModule(id)});var originalImportingId=id,moduleExports;try{importingModuleId=id,moduleExports=__r(id)}catch(error){logger.error(`Blacklisting module ${id} because it could not be imported: ${error}`),blacklistModule(id)}finally{importingModuleId=originalImportingId,ErrorUtils.setGlobalHandler(ogHandler)}return moduleExports}}function isModuleBlacklisted(id){return id in cache.exportsFlags?cache.exportsFlags[id]&MetroModuleFlags.Blacklisted:0}function isModuleAssetRegistrar(id){return id in cache.exportsFlags?cache.exportsFlags[id]&MetroModuleFlags.Asset:0}function moduleShouldNotBeHooked(id){return isModuleBlacklisted(id)||isModuleAssetRegistrar(id)}function*modulesForFinder(key,fullLookup=!1){var lookupCache=cache.lookupFlags[key];if(lookupCache?.flags&&!(lookupCache.flags&MetroModuleLookupFlags.NotFound)&&(!fullLookup||lookupCache.flags&MetroModuleLookupFlags.FullLookup))for(var id in indexedModuleIdsForLookup(key))isModuleBlacklisted(id)||(yield[id,requireModule(Number(id))]);else for(var id1 of metroDependencies){var mid=Number(id1);if(!isModuleBlacklisted(mid)){var exports=requireModule(mid);exports&&(yield[mid,exports])}}}function isModuleExportsBad(exports){return typeof exports>"u"||exports===null||exports===globalThis||exports[""]===null||exports.__proto__===Object.prototype&&Reflect.ownKeys(exports).length===0}var importingModuleId,subscriptions,metroDependencies,dependencies,resolvedModules,subscribeModule,init_metro=__esm({"libraries/modules/src/metro/index.ts"(){"use strict";init_async_to_generator();init_src();init_constants();init_shared();init_caches();init_patches();init_caches();importingModuleId=-1;subscriptions={all:new Set},metroDependencies=new Set,dependencies=metroDependencies,resolvedModules=new Set;subscribeModule=Object.assign(function(id,callback){id in subscriptions||(subscriptions[id]=new Set);var set=subscriptions[id];return set.add(callback),()=>set.delete(callback)},{once:function(id,callback){var unsub=subscribeModule(id,(...args)=>{unsub(),callback(...args)});return unsub}},{all:function(callback){return subscriptions.all.add(callback),()=>subscriptions.all.delete(callback)}})}});function createFilter(predicate,keyFor){var createHolder=(func,args,raw)=>Object.assign(func,{filter:predicate,raw,key:`${raw?"raw:":""}${keyFor(args)}`}),curry=raw=>(...args)=>createHolder((m2,id,raw2)=>predicate(args,m2,id,raw2),args,raw);return Object.assign(curry(!1),{raw:curry(!0),keyFor})}function createSimpleFilter(predicate,key){return createFilter((_3,m2)=>predicate(m2),()=>`dyn:${key}`)()}var init_filters=__esm({"libraries/modules/src/utils/filters.ts"(){"use strict"}});var filters_exports={};__export(filters_exports,{byDisplayName:()=>byDisplayName,byFilePath:()=>byFilePath,byMutableProp:()=>byMutableProp,byName:()=>byName,byProps:()=>byProps,byQuery:()=>byQuery,bySingleProp:()=>bySingleProp,byStoreName:()=>byStoreName,byTypeName:()=>byTypeName,createFilter:()=>createFilter,createSimpleFilter:()=>createSimpleFilter});var byProps,byMutableProp,byName,byDisplayName,byTypeName,byStoreName,modules2,byFilePath,bySingleProp,byQuery,init_filters2=__esm({"libraries/modules/src/filters.ts"(){"use strict";init_constants();init_metro();init_filters();init_filters();byProps=createFilter((props,m2)=>props.length===0?m2[props[0]]:props.every(p=>m2[p]),props=>`revenge.props(${props.join(",")})`),byMutableProp=createFilter(([prop],m2)=>m2?.[prop]&&!Object.getOwnPropertyDescriptor(m2,prop)?.get,prop=>`revenge.mutableProp(${prop})`),byName=createFilter(([name],m2)=>m2.name===name,name=>`revenge.name(${name})`),byDisplayName=createFilter(([displayName],m2)=>m2.displayName===displayName,name=>`revenge.displayName(${name})`),byTypeName=createFilter(([typeName],m2)=>m2.type?.name===typeName,name=>`revenge.typeName(${name})`),byStoreName=createFilter(([name],m2)=>m2.getName?.length===0&&m2.getName()===name,name=>`revenge.storeName(${name})`),modules2=getMetroModules(),byFilePath=createFilter(([path,returnDefaultExport],_3,id,isDefaultExport)=>returnDefaultExport===isDefaultExport&&modules2[id]?.[MetroModuleFilePathKey]===path,([path,returnDefaultExport])=>`revenge.filePath(${path},${returnDefaultExport})`),bySingleProp=createFilter(([prop],m2)=>m2[prop]&&Object.keys(m2).length===1,prop=>`revenge.singleProp(${prop})`),byQuery=createFilter(([query,caseSensitive],m2)=>{var applyStringTransformation=str2=>caseSensitive?str2:str2.toLowerCase(),transformedQuery=applyStringTransformation(query);try{return m2.name?.toLowerCase()?.includes(transformedQuery)||m2.displayName?.toLowerCase()?.includes(transformedQuery)||m2.type?.name?.toLowerCase()?.includes(transformedQuery)||m2.getName?.length===0&&m2.getName?.()?.toLowerCase()?.includes(transformedQuery)||modules2[m2.id]?.[MetroModuleFilePathKey]?.toLowerCase()?.includes(transformedQuery)||Object.keys(m2).some(k=>k.toLowerCase().includes(transformedQuery))||Object.values(m2).some(v2=>String(v2).toLowerCase().includes(transformedQuery))}catch{return!1}},([query,caseSensitive])=>`revenge.query(${caseSensitive?query:query.toLowerCase()})`)}});var deps_exports={};__export(deps_exports,{default:()=>deps_default});var lazyFindByProps,deps_default,init_deps=__esm({"shims/deps.ts"(){"use strict";lazyFindByProps=(...props)=>{var{findByProps:findByProps2}=(init_finders(),__toCommonJS(finders_exports));return findByProps2(...props)},deps_default={react:()=>globalThis.React=lazyFindByProps("createElement"),"react-native":()=>globalThis.ReactNative=lazyFindByProps("AppRegistry"),util:()=>lazyFindByProps("inspect","isNullOrUndefined"),moment:()=>lazyFindByProps("isMoment"),"chroma-js":()=>lazyFindByProps("brewer"),lodash:()=>lazyFindByProps("forEachRight"),"@shopify/react-native-skia":()=>lazyFindByProps("useFont")}}});var require_react=__commonJS({"globals:react"(exports,module){module.exports=(init_deps(),__toCommonJS(deps_exports)).default.react()}});var require_react_native=__commonJS({"globals:react-native"(exports,module){module.exports=(init_deps(),__toCommonJS(deps_exports)).default["react-native"]()}});var icons_exports={};__export(icons_exports,{CheckmarkLargeIcon:()=>CheckmarkLargeIcon,CopyIcon:()=>CopyIcon,DownloadIcon:()=>DownloadIcon,FolderIcon:()=>FolderIcon});function wrapIcon(Comp){return function(props){return Comp(props??{})}}var CheckmarkLargeIcon,CopyIcon,DownloadIcon,FolderIcon,init_icons=__esm({"libraries/modules/src/common/components/icons.ts"(){"use strict";init_finders();CheckmarkLargeIcon=wrapIcon(findProp("CheckmarkLargeIcon")),CopyIcon=wrapIcon(findProp("CopyIcon")),DownloadIcon=wrapIcon(findProp("DownloadIcon")),FolderIcon=wrapIcon(findProp("FolderIcon"))}});var components_exports={};__export(components_exports,{AlertActionButton:()=>AlertActionButton,AlertModal:()=>AlertModal,Button:()=>Button,Card:()=>Card,ContextMenu:()=>ContextMenu,FlashList:()=>FlashList,FloatingActionButton:()=>FloatingActionButton,FormCheckbox:()=>FormCheckbox,FormRadio:()=>FormRadio,FormSwitch:()=>FormSwitch,GhostInput:()=>GhostInput,IconButton:()=>IconButton,Icons:()=>icons_exports,ImageButton:()=>ImageButton,IntlLink:()=>IntlLink,MasonryFlashList:()=>MasonryFlashList,PressableScale:()=>PressableScale,RowButton:()=>RowButton,SafeAreaProvider:()=>SafeAreaProvider,SafeAreaView:()=>SafeAreaView,Slider:()=>Slider,Stack:()=>Stack,TableCheckboxRow:()=>TableCheckboxRow,TableRadioGroup:()=>TableRadioGroup,TableRadioRow:()=>TableRadioRow,TableRow:()=>TableRow,TableRowGroup:()=>TableRowGroup,TableRowGroupTitle:()=>TableRowGroupTitle,TableRowIcon:()=>TableRowIcon,TableRowTrailingText:()=>TableRowTrailingText,TableSwitchRow:()=>TableSwitchRow,Text:()=>Text,TextArea:()=>TextArea,TextField:()=>TextField,TextInput:()=>TextInput,TwinButtons:()=>TwinButtons});var SafeAreaProvider,SafeAreaView,TwinButtons,Button,IconButton,ImageButton,FloatingActionButton,RowButton,ContextMenu,TableRow,TableSwitchRow,TableRowGroup,TableRowGroupTitle,TableRowIcon,TableRadioGroup,TableCheckboxRow,TableRadioRow,AlertModal,AlertActionButton,TextInput,TextField,TextArea,GhostInput,Card,Stack,Slider,Text,IntlLink,PressableScale,TableRowTrailingText,FormSwitch,FormRadio,FormCheckbox,FlashList,MasonryFlashList,init_components=__esm({"libraries/modules/src/common/components/index.ts"(){"use strict";init_lazy();init_finders();init_icons();({SafeAreaProvider,SafeAreaView}=lazyDestructure(()=>findByProps.eager("useSafeAreaInsets"))),TwinButtons=findProp("TwinButtons"),{Button,IconButton,ImageButton,FloatingActionButton,RowButton,ContextMenu,TableRow,TableSwitchRow,TableRowGroup,TableRowGroupTitle,TableRowIcon,TableRadioGroup,TableCheckboxRow,TableRadioRow,AlertModal,AlertActionButton,TextInput,TextField,TextArea,GhostInput,Card,Stack,Slider,Text}=lazyDestructure(()=>findByProps.eager("TextField","ContextMenu")),IntlLink=findProp("IntlLink"),PressableScale=findProp("PressableScale"),TableRowTrailingText=findProp("TableRowTrailingText"),FormSwitch=findSingleProp("FormSwitch"),FormRadio=findSingleProp("FormRadio"),FormCheckbox=findSingleProp("FormCheckbox"),{FlashList,MasonryFlashList}=lazyDestructure(()=>findByProps.eager("FlashList"))}});var stores_exports={};__export(stores_exports,{ThemeStore:()=>ThemeStore});var ThemeStore,init_stores=__esm({"libraries/modules/src/common/stores.ts"(){"use strict";init_finders();ThemeStore=findByStoreName("ThemeStore")}});var EventEmitter,init_events=__esm({"shims/events.ts"(){"use strict";init_finders();EventEmitter=findProp("EventEmitter")}});var require_lodash=__commonJS({"globals:lodash"(exports,module){module.exports=(init_deps(),__toCommonJS(deps_exports)).default.lodash()}});var common_exports={};__export(common_exports,{EventEmitter:()=>EventEmitter,Flux:()=>Flux,FluxDispatcher:()=>FluxDispatcher,Logger:()=>Logger,NavigationNative:()=>NavigationNative,NavigationStack:()=>NavigationStack,React:()=>import_react.default,ReactJSXRuntime:()=>ReactJSXRuntime,ReactNative:()=>import_react_native.default,TextStyleSheet:()=>TextStyleSheet,_:()=>_,alerts:()=>alerts,assetsRegistry:()=>assetsRegistry,channels:()=>channels,clipboard:()=>clipboard,commands:()=>commands,components:()=>components_exports,constants:()=>constants,createStyles:()=>createStyles,dismissAlerts:()=>dismissAlerts,filePicker:()=>filePicker,intl:()=>intl,intlModule:()=>intlModule,invites:()=>invites,links:()=>links,messages:()=>messages,nobleHashesUtils:()=>nobleHashesUtils,openAlert:()=>openAlert,semver:()=>semver,stores:()=>stores_exports,toasts:()=>toasts,tokens:()=>tokens,xxhash64:()=>xxhash64});var import_react,import_react_native,constants,tokens,intl,intlModule,Logger,alerts,channels,links,clipboard,invites,commands,toasts,filePicker,messages,NavigationStack,NavigationNative,TextStyleSheet,createStyles,dismissAlerts,openAlert,Flux,FluxDispatcher,assetsRegistry,ReactJSXRuntime,semver,xxhash64,nobleHashesUtils,_,init_common=__esm({"libraries/modules/src/common/index.ts"(){"use strict";init_lazy();init_finders();import_react=__toESM(require_react(),1),import_react_native=__toESM(require_react_native(),1);init_components();init_stores();init_events();constants=findByProps("Fonts"),tokens=findByProps("internal","colors"),intl=findByProps("intl"),intlModule=findByProps("runtimeHashMessageKey"),Logger=findByName("Logger"),alerts=findByProps("openAlert","dismissAlert"),channels=findByProps("getVoiceChannelId"),links=findByProps("openURL","openDeeplink"),clipboard=findByProps("getImagePNG"),invites=findByProps("createInvite"),commands=findByProps("getBuiltInCommands"),toasts=findByFilePath("modules/toast/native/ToastActionCreators.tsx",!0),filePicker=findByProps("handleDocumentSelection"),messages=findByProps("sendBotMessage"),NavigationStack=findByProps("createStackNavigator"),NavigationNative=findByProps("NavigationContainer"),{TextStyleSheet,createStyles,dismissAlerts,openAlert}=lazyDestructure(()=>findByProps.eager("createStyles","TextStyleSheet")),Flux=findByProps("connectStores"),FluxDispatcher=findByProps("_interceptors"),assetsRegistry=findByProps("registerAsset"),ReactJSXRuntime=findByProps("jsx","jsxs"),semver=findByProps("SEMVER_SPEC_VERSION"),xxhash64=findByProps("XXH64"),nobleHashesUtils=findByProps("randomBytes"),_=lazyValue(()=>require_lodash())}});var src_exports={};__export(src_exports,{constants:()=>constants_exports,createModulesLibrary:()=>createModulesLibrary});function createModulesLibrary(){return _createModulesLibrary.apply(this,arguments)}function _createModulesLibrary(){return _createModulesLibrary=_async_to_generator(function*(){yield initializeModules();var common=yield Promise.resolve().then(()=>(init_common(),common_exports)),native=yield Promise.resolve().then(()=>(init_native(),native_exports));return{constants:constants_exports,common,filters:filters_exports,native,metro:metro_exports,...finders_exports}}),_createModulesLibrary.apply(this,arguments)}var init_src3=__esm({"libraries/modules/src/index.ts"(){"use strict";init_async_to_generator();init_constants();init_filters2();init_finders();init_metro()}});function unproxyFirstArg(args){if(!args[0])throw new Error("The passed component is falsy. Ensure that you are passing a valid component.");var factory=getProxyFactory(args[0]);return factory&&(args[0]=factory()),args}var jsxRuntime,Fragment,jsx,jsxs,init_react_jsx_runtime=__esm({"shims/react~jsx-runtime.ts"(){"use strict";init_src3();init_finders();init_lazy();jsxRuntime=findByProps("jsx","jsxs","Fragment");Fragment=Symbol.for("react.fragment"),jsx=(...args)=>jsxRuntime.jsx(...unproxyFirstArg(args)),jsxs=(...args)=>jsxRuntime.jsxs(...unproxyFirstArg(args))}});var patcher2,init_shared2=__esm({"libraries/react/src/shared.ts"(){"use strict";init_src2();patcher2=createPatcherInstance("revenge.react")}});var jsx_exports={};__export(jsx_exports,{ReactJSXLibrary:()=>ReactJSXLibrary,afterJSXElementCreate:()=>afterJSXElementCreate,beforeJSXElementCreate:()=>beforeJSXElementCreate,isNativeJSXElement:()=>isNativeJSXElement});function afterJSXElementCreate(elementName,callback){patchJsxRuntimeIfNotPatched();var set=afterCallbacks[elementName]??=new Set;return set.add(callback),()=>{set.delete(callback),unpatchIfNoListenersLeft()}}function beforeJSXElementCreate(elementName,callback){patchJsxRuntimeIfNotPatched();var set=beforeCallbacks[elementName]??=new Set;return set.add(callback),()=>{set.delete(callback),unpatchIfNoListenersLeft()}}function isNativeJSXElement(element){return typeof element=="string"}var import_react_native2,styles,patched,persistentPatch,beforeCallbacks,afterCallbacks,patchCallback,patchJsxRuntimeIfNotPatched,unpatchIfNoListenersLeft,ReactJSXLibrary,init_jsx=__esm({"libraries/react/src/jsx.ts"(){"use strict";init_common();init_shared2();import_react_native2=__toESM(require_react_native(),1),styles=import_react_native2.StyleSheet.create({hidden:{display:"none"}}),patched=!1,persistentPatch=import_react_native2.Platform.OS==="ios",beforeCallbacks={},afterCallbacks={},patchCallback=(args,orig)=>{var[Comp,props]=args;if(typeof(Comp?.type??Comp)>"u")return args[0]="RCTView",args[1]={style:styles.hidden},orig.apply(ReactJSXRuntime,args);var name=typeof Comp=="string"?Comp:Comp?.name??(typeof Comp?.type=="string"?Comp.type:Comp?.type?.name)??Comp?.displayName;if(!name)return orig.apply(ReactJSXRuntime,args);var newArgs=args;if(name in beforeCallbacks)for(var cb of beforeCallbacks[name]){var maybeArgs=cb(newArgs);maybeArgs&&(newArgs=maybeArgs)}var tree=orig.apply(ReactJSXRuntime,newArgs);if(name in afterCallbacks)for(var cb1 of afterCallbacks[name]){var maybeTree=cb1(Comp,props,tree);typeof maybeTree<"u"&&(tree=maybeTree)}return tree};setTimeout(()=>persistentPatch&&patchJsxRuntimeIfNotPatched());patchJsxRuntimeIfNotPatched=()=>{patched||(patched=!0,patcher2.instead(ReactJSXRuntime,"jsx",patchCallback,"patchJsxRuntime"),patcher2.instead(ReactJSXRuntime,"jsxs",patchCallback,"patchJsxRuntime"))},unpatchIfNoListenersLeft=()=>{persistentPatch||Object.values(beforeCallbacks).some(set=>set.size)||Object.values(afterCallbacks).some(set=>set.size)||(patcher2.unpatchAll(),patched=!1)},ReactJSXLibrary={beforeElementCreate:beforeJSXElementCreate,afterElementCreate:afterJSXElementCreate,isNativeElement:isNativeJSXElement}}});var colors_exports={};__export(colors_exports,{RawColor:()=>RawColor,SemanticColor:()=>SemanticColor,isSemanticColor:()=>isSemanticColor,resolveSemanticColor:()=>resolveSemanticColor});function isSemanticColor(key){return tokens.internal.isSemanticColor(key)}function resolveSemanticColor(key,theme=ThemeStore.theme){return tokens.internal.resolveSemanticColor(theme,key)}var SemanticColor,RawColor,init_colors=__esm({"libraries/ui/src/colors.ts"(){"use strict";init_common();init_stores();init_lazy();SemanticColor=lazyValue(()=>tokens.colors,{hint:"object"}),RawColor=lazyValue(()=>tokens.unsafe_rawColors,{hint:"object"})}});var ErrorBoundaryScreen_exports={};__export(ErrorBoundaryScreen_exports,{LabeledCard:()=>LabeledCard,default:()=>ErrorBoundaryScreen});function ErrorBoundaryScreen(props){var errorBoundaryStyles=useErrorBoundaryStyles(),error=props.error;return jsxs(SafeAreaView,{style:errorBoundaryStyles.view,children:[jsxs(import_react_native3.View,{style:{gap:4},children:[jsx(Text,{variant:"display-lg",children:"Error!"}),jsxs(Text,{variant:"text-md/normal",children:["An error was thrown while rendering components. This could be caused by plugins, Revenge or Discord."," ",Math.floor(Number(ClientInfoModule.Build)%1e3/100)>0?jsx(Text,{variant:"text-md/normal",color:"text-danger",children:"You are not on a stable version of Discord which may explain why you are experiencing this issue."}):null]}),jsxs(Text,{variant:"text-sm/normal",color:"text-muted",children:[ClientInfoModule.Version," (",ClientInfoModule.Build,") \u2022 Revenge ","local"," (","d4ca2de","-dirty",")"]})]}),jsxs(LabeledCard,{label:"Error",rawContent:getErrorStack(error),children:[jsx(Text,{variant:"text-md/medium",children:String(error)}),error instanceof Error&&error.stack&&jsxs(Fragment,{children:[jsx(Text,{variant:"heading-xl/semibold",children:"Call Stack"}),jsx(import_react_native3.ScrollView,{style:styles2.scrollView,fadingEdgeLength:64,children:parseStackTrace(error.stack?.slice(String(error).length+1)).map(({at,file,line,column})=>jsxs(Text,{variant:"heading-md/extrabold",style:{fontFamily:"monospace",fontWeight:"bold"},children:[at,`
`,jsxs(Text,{variant:"text-sm/medium",style:{fontFamily:"monospace"},color:"text-muted",children:[file,typeof line=="number"&&typeof column=="number"&&jsxs(Fragment,{children:[":",line,":",column]})]})]}))})]})]}),error instanceof Error&&"componentStack"in error&&jsx(LabeledCard,{scrollable:!0,label:"Component Stack",style:styles2.resizable,rawContent:error.componentStack,children:jsx(Text,{selectable:!0,variant:"text-md/medium",children:[...error.componentStack.slice(1).split(`
`).map(line=>["<",jsx(Text,{variant:"text-md/bold",children:line.slice(7)}),`/>
`])]})}),jsxs(Stack,{direction:"horizontal",spacing:16,children:[jsx(Button,{style:styles2.growable,variant:"destructive",text:"Reload Discord",onPress:props.reload}),jsx(Button,{style:styles2.growable,text:"Retry Render",onPress:props.rerender})]})]})}function LabeledCard(props){var ViewComponent=props.scrollable?import_react_native3.ScrollView:import_react_native3.View;return jsxs(Card,{...props,style:[styles2.scrollView,...Array.isArray(props.style)?props.style:[props.style]],children:[jsxs(import_react_native3.View,{style:{flexDirection:"row",alignItems:"center"},children:[jsx(Text,{variant:"heading-xl/semibold",style:styles2.growable,children:props.label}),props.rawContent&&jsx(Button,{variant:"secondary",size:"sm",text:"Copy",onPress:()=>clipboard.setString(props.rawContent)})]}),jsx(ViewComponent,{style:styles2.scrollView,fadingEdgeLength:32,children:props.children})]})}function parseStackTrace(stackTrace){var frames=[],lines=stackTrace.split(`
`);for(var line of lines){var match=StackFrameRegex.exec(line.trim());if(match){var at=void 0,path=void 0,ln2=null,col=null;match[3]&&match[4]?(at=match[1],path=match[2],ln2=Number(match[3]),col=Number(match[4])):(at=match[5],path=match[6]),path===IndexBundleFilePath&&(path="(Discord)"),frames.push({at,file:path,line:ln2,column:col})}else frames.push({at:"UNABLE TO PARSE LINE",file:line,line:null,column:null})}return frames}var import_react_native3,useErrorBoundaryStyles,styles2,IndexBundleFilePath,StackFrameRegex,init_ErrorBoundaryScreen=__esm({"libraries/app/src/components/ErrorBoundaryScreen.tsx"(){"use strict";init_react_jsx_runtime();init_common();init_components();init_native();init_colors();init_errors();import_react_native3=__toESM(require_react_native(),1),useErrorBoundaryStyles=createStyles({view:{backgroundColor:SemanticColor.BG_BASE_SECONDARY,paddingHorizontal:16,paddingVertical:24,flex:1,gap:16}}),styles2=import_react_native3.StyleSheet.create({scrollView:{gap:8,flex:1},growable:{flexGrow:1},resizable:{flex:1}});IndexBundleFilePath=HermesInternal.getFunctionLocation(__r).fileName,StackFrameRegex=/at (.+) \(([^:]+):(\d+):(\d+)\)|at (.+)? \(([^)]+)\)/}});var src_exports2={};__export(src_exports2,{AppLibrary:()=>AppLibrary,afterAppInitialize:()=>afterAppInitialize,afterAppRender:()=>afterAppRender,isAppInitialized:()=>isAppInitialized,isAppRendered:()=>isAppRendered});function afterAppInitialize(callback){if(isAppInitialized)throw new Error("Cannot attach a callback after the app has already been initialized");initializeCallbacks.add(callback)}function afterAppRender(callback){if(isAppRendered)throw new Error("Cannot attach a callback after the App component has been rendered");renderCallbacks.add(callback)}var patcher3,logger2,initializeCallbacks,renderCallbacks,isAppInitialized,isAppRendered,unpatchRunApplication,unpatchCreateElement,afterErrorBoundaryPatchable,AppLibrary,init_src4=__esm({"libraries/app/src/index.tsx"(){"use strict";init_async_to_generator();init_react_jsx_runtime();init_src();init_common();init_finders();init_native();init_src2();init_jsx();init_library();patcher3=createPatcherInstance("revenge.library.app"),logger2=createLogger("app");logger2.log("Library loaded");initializeCallbacks=new Set,renderCallbacks=new Set,isAppInitialized=!1,isAppRendered=!1;afterAppInitialize(()=>isAppInitialized=!0);afterAppRender(()=>isAppRendered=!0);unpatchRunApplication=patcher3.after(import_react_native.default.AppRegistry,"runApplication",()=>{unpatchRunApplication(),recordTimestamp("App_RunApplicationCalled"),logger2.log("AppRegistry.runApplication called");for(var callback of initializeCallbacks)callback();recordTimestamp("App_AfterRunRACallbacks"),logger2.log("Initialized callbacks called")},"runInitializeCallbacks"),unpatchCreateElement=patcher3.after(import_react.default,"createElement",()=>{unpatchCreateElement(),recordTimestamp("App_CreateElementCalled"),logger2.log("React.createElement called");for(var callback of renderCallbacks)callback();recordTimestamp("App_AfterRunCECallbacks"),logger2.log("Rendered callbacks called")},"runRenderCallbacks"),afterErrorBoundaryPatchable=import_react_native.default.Platform.OS==="ios"?afterAppRender:afterAppInitialize;afterErrorBoundaryPatchable(function(){var _patchErrorBoundary=_async_to_generator(function*(){import_react_native.default.Platform.OS==="ios"&&ReactJSXLibrary.afterElementCreate("PortalKeyboardPlaceholderInner",()=>null);var{default:Screen}=yield Promise.resolve().then(()=>(init_ErrorBoundaryScreen(),ErrorBoundaryScreen_exports));setImmediate(()=>{patcher3.after.await(findByName.async("ErrorBoundary").then(it=>it.prototype),"render",function(){if(this.state.error)return jsx(Screen,{error:this.state.error,rerender:()=>this.setState({error:null,info:null}),reload:this.handleReload})},"patchErrorBoundary"),logger2.log("ErrorBoundary patched")})});function patchErrorBoundary(){return _patchErrorBoundary.apply(this,arguments)}return patchErrorBoundary}());AppLibrary={get initialized(){return isAppInitialized},get rendered(){return isAppRendered},afterRender:afterAppRender,afterInitialize:afterAppInitialize,reload:()=>BundleUpdaterManager.reload()}}});var src_exports3={};__export(src_exports3,{AssetsLibrary:()=>AssetsLibrary,customAssets:()=>customAssets,getAssetByIndex:()=>getAssetByIndex,getAssetByName:()=>getAssetByName,getAssetIndexByName:()=>getAssetIndexByName,getAssetModuleIdByIndex:()=>getAssetModuleIdByIndex,getAssetModuleIdByName:()=>getAssetModuleIdByName,getAssetTypesByIndex:()=>getAssetTypesByIndex,getAssetTypesByName:()=>getAssetTypesByName,getFirstRegisteredAssetTypeByName:()=>getFirstRegisteredAssetTypeByName,isCustomAsset:()=>isCustomAsset,registerCustomAsset:()=>registerCustomAsset,setDefaultPreferredAssetType:()=>setDefaultPreferredAssetType});function maybeResolveCustomAsset(args,orig){return CustomAssetBrandKey in this.asset?{uri:this.asset[CustomAssetBrandKey]}:orig.apply(this,args)}function registerCustomAsset(asset,source){if(asset.name in customAssets)throw new Error("Custom asset with the same name already exists, and registering multiple custom assets with the same name is not supported yet");return customAssets[asset.name]=assetsRegistry.registerAsset({...asset,__packager_asset:!0,scales:[1],[CustomAssetBrandKey]:source,hash:"",httpServerLocation:`/(custom)/${asset.name}.${asset.type}`})}function isCustomAsset(asset){return CustomAssetBrandKey in asset}function getAssetByName(name,preferredType=defaultPreferredType){return name in customAssets?getAssetByIndex(customAssets[name]):getAssetByIndex(getAssetIndexByName(name,preferredType))}function getAssetByIndex(index){return assetsIndex[index]}function getAssetIndexByName(name,preferredType=defaultPreferredType){if(name in customAssets)return customAssets[name];var assetModule=cache.assetModules[name];if(assetModule){var mid=assetModule[preferredType]??assetModule[getFirstRegisteredAssetTypeByName(name)];if(!(typeof mid>"u"))return requireModule(mid)}}function getAssetModuleIdByName(name,preferredType=defaultPreferredType){var moduleIds=cache.assetModules[name];if(moduleIds)return moduleIds[preferredType]??moduleIds[getFirstRegisteredAssetTypeByName(name)]}function getAssetModuleIdByIndex(index){return cache.assetModules[assetCacheIndexSymbol][index]}function getAssetTypesByName(name,preferredType=defaultPreferredType){return getAssetTypesByIndex(getAssetIndexByName(name,preferredType))}function getAssetTypesByIndex(index){return Object.keys(cache.assetModules[assetCacheIndexSymbol][index]??{})}function getFirstRegisteredAssetTypeByName(name){return cache.assetModules[name]?.[FirstAssetTypeRegisteredKey]}function setDefaultPreferredAssetType(type){defaultPreferredType=type}var patcher4,CustomAssetBrandKey,customAssets,defaultPreferredType,AssetSourceResolver,assetsIndex,AssetsLibrary,init_src5=__esm({"libraries/assets/src/index.ts"(){"use strict";init_common();init_finders();init_metro();init_src2();init_constants();patcher4=createPatcherInstance("revenge.library.assets"),CustomAssetBrandKey="__revenge_asset",customAssets={},defaultPreferredType=ReactNative.Platform.OS==="ios"?"png":"svg";patcher4.after(assetsRegistry,"registerAsset",([asset],index)=>{if(!(CustomAssetBrandKey in asset)){var moduleId=getImportingModuleId();cacheAsset(asset.name,index,moduleId,asset.type)}},"patchRegisterAsset");AssetSourceResolver=findByName.async("AssetSourceResolver").then(it=>it.prototype);patcher4.instead.await(AssetSourceResolver,"defaultAsset",maybeResolveCustomAsset);patcher4.instead.await(AssetSourceResolver,"fromSource",maybeResolveCustomAsset);assetsIndex=new Proxy({},{get(cache2,prop){return cache2[prop]?cache2[prop]:cache2[prop]=assetsRegistry.getAssetByID(Number(prop))}}),AssetsLibrary={index:assetsIndex,registerCustom:registerCustomAsset,getByName:getAssetByName,getIndexByName:getAssetIndexByName,getByIndex:getAssetByIndex,getModuleIdByName:getAssetModuleIdByName,getModuleIdByIndex:getAssetModuleIdByIndex,getTypesByName:getAssetTypesByName,getTypesByIndex:getAssetTypesByIndex,setDefaultPreferredType:setDefaultPreferredAssetType}}});var settings_exports={};__export(settings_exports,{SettingsUILibrary:()=>SettingsUILibrary,customData:()=>customData});function createSettingsSection(section){if(section.name in customData.sections)throw new Error(`The settings section with the name "${section.name}" already exists`);return customData.sections[section.name]=section,()=>delete customData.sections[section.name]}function createSettingsRoute(key,route){return customData.rows[key]=route,()=>delete customData.rows[key]}function addSettingsRowsToSection(name,rows){if(!(name in customData.sections))throw new Error(`No setting section exists with the name "${name}"`);var section=customData.sections[name];return Object.assign(section.settings,rows),()=>{for(var key in rows)delete section.settings[key]}}var customData,SettingsUILibrary,init_settings=__esm({"libraries/ui/src/settings.ts"(){"use strict";customData={sections:{},rows:{}},SettingsUILibrary={addRowsToSection:addSettingsRowsToSection,createSection:createSettingsSection,createRoute:createSettingsRoute}}});function _get_prototype_of(o){return _get_prototype_of=Object.setPrototypeOf?Object.getPrototypeOf:function(o2){return o2.__proto__||Object.getPrototypeOf(o2)},_get_prototype_of(o)}var init_get_prototype_of=__esm({"node_modules/@swc/helpers/esm/_get_prototype_of.js"(){}});function _is_native_reflect_construct(){try{var result=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_is_native_reflect_construct=function(){return!!result})()}var init_is_native_reflect_construct=__esm({"node_modules/@swc/helpers/esm/_is_native_reflect_construct.js"(){}});function _assert_this_initialized(self2){if(self2===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self2}var init_assert_this_initialized=__esm({"node_modules/@swc/helpers/esm/_assert_this_initialized.js"(){}});function _type_of(obj){"@swc/helpers - typeof";return obj&&typeof Symbol<"u"&&obj.constructor===Symbol?"symbol":typeof obj}var init_type_of=__esm({"node_modules/@swc/helpers/esm/_type_of.js"(){}});function _possible_constructor_return(self2,call){return call&&(_type_of(call)==="object"||typeof call=="function")?call:_assert_this_initialized(self2)}var init_possible_constructor_return=__esm({"node_modules/@swc/helpers/esm/_possible_constructor_return.js"(){init_assert_this_initialized();init_type_of()}});function _call_super(_this,derived,args){return derived=_get_prototype_of(derived),_possible_constructor_return(_this,_is_native_reflect_construct()?Reflect.construct(derived,args||[],_get_prototype_of(_this).constructor):derived.apply(_this,args))}var init_call_super=__esm({"node_modules/@swc/helpers/esm/_call_super.js"(){init_get_prototype_of();init_is_native_reflect_construct();init_possible_constructor_return()}});function _class_call_check(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var init_class_call_check=__esm({"node_modules/@swc/helpers/esm/_class_call_check.js"(){}});function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _create_class(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}var init_create_class=__esm({"node_modules/@swc/helpers/esm/_create_class.js"(){}});function _set_prototype_of(o,p){return _set_prototype_of=Object.setPrototypeOf||function(o2,p2){return o2.__proto__=p2,o2},_set_prototype_of(o,p)}var init_set_prototype_of=__esm({"node_modules/@swc/helpers/esm/_set_prototype_of.js"(){}});function _inherits(subClass,superClass){if(typeof superClass!="function"&&superClass!==null)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_set_prototype_of(subClass,superClass)}var init_inherits=__esm({"node_modules/@swc/helpers/esm/_inherits.js"(){init_set_prototype_of()}});function isBytes(a){return a instanceof Uint8Array||a!=null&&typeof a=="object"&&a.constructor.name==="Uint8Array"}function bytes(b5,...lengths){if(!isBytes(b5))throw new Error("Uint8Array expected");if(lengths.length>0&&!lengths.includes(b5.length))throw new Error(`Uint8Array expected of length ${lengths}, not of length=${b5.length}`)}function exists(instance,checkFinished=!0){if(instance.destroyed)throw new Error("Hash instance has been destroyed");if(checkFinished&&instance.finished)throw new Error("Hash#digest() has already been called")}function output(out,instance){bytes(out);var min=instance.outputLen;if(out.length<min)throw new Error(`digestInto() expects output buffer of length at least ${min}`)}var init_assert=__esm({"node_modules/@noble/hashes/esm/_assert.js"(){}});function utf8ToBytes(str2){if(typeof str2!="string")throw new Error(`utf8ToBytes expected string, got ${typeof str2}`);return new Uint8Array(new TextEncoder().encode(str2))}function toBytes(data){return typeof data=="string"&&(data=utf8ToBytes(data)),bytes(data),data}function wrapConstructor(hashCons){var hashC=msg=>hashCons().update(toBytes(msg)).digest(),tmp=hashCons();return hashC.outputLen=tmp.outputLen,hashC.blockLen=tmp.blockLen,hashC.create=()=>hashCons(),hashC}var createView,isLE,Hash,toStr,init_utils2=__esm({"node_modules/@noble/hashes/esm/utils.js"(){init_class_call_check();init_create_class();init_assert();createView=arr=>new DataView(arr.buffer,arr.byteOffset,arr.byteLength),isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;Hash=function(){"use strict";function Hash2(){_class_call_check(this,Hash2)}return _create_class(Hash2,[{key:"clone",value:function(){return this._cloneInto()}}]),Hash2}(),toStr={}.toString}});function setBigUint64(view,byteOffset,value,isLE2){if(typeof view.setBigUint64=="function")return view.setBigUint64(byteOffset,value,isLE2);var _32n2=BigInt(32),_u32_max=BigInt(4294967295),wh=Number(value>>_32n2&_u32_max),wl=Number(value&_u32_max),h=isLE2?4:0,l=isLE2?0:4;view.setUint32(byteOffset+h,wh,isLE2),view.setUint32(byteOffset+l,wl,isLE2)}var HashMD,init_md=__esm({"node_modules/@noble/hashes/esm/_md.js"(){init_call_super();init_class_call_check();init_create_class();init_inherits();init_assert();init_utils2();HashMD=function(Hash2){"use strict";_inherits(HashMD2,Hash2);function HashMD2(blockLen,outputLen,padOffset,isLE2){_class_call_check(this,HashMD2);var _this;return _this=_call_super(this,HashMD2),_this.blockLen=blockLen,_this.outputLen=outputLen,_this.padOffset=padOffset,_this.isLE=isLE2,_this.finished=!1,_this.length=0,_this.pos=0,_this.destroyed=!1,_this.buffer=new Uint8Array(blockLen),_this.view=createView(_this.buffer),_this}return _create_class(HashMD2,[{key:"update",value:function(data){exists(this);var{view,buffer,blockLen}=this;data=toBytes(data);for(var len=data.length,pos=0;pos<len;){var take=Math.min(blockLen-this.pos,len-pos);if(take===blockLen){for(var dataView=createView(data);blockLen<=len-pos;pos+=blockLen)this.process(dataView,pos);continue}buffer.set(data.subarray(pos,pos+take),this.pos),this.pos+=take,pos+=take,this.pos===blockLen&&(this.process(view,0),this.pos=0)}return this.length+=data.length,this.roundClean(),this}},{key:"digestInto",value:function(out){exists(this),output(out,this),this.finished=!0;var{buffer,view,blockLen,isLE:isLE2}=this,{pos}=this;buffer[pos++]=128,this.buffer.subarray(pos).fill(0),this.padOffset>blockLen-pos&&(this.process(view,0),pos=0);for(var i=pos;i<blockLen;i++)buffer[i]=0;setBigUint64(view,blockLen-8,BigInt(this.length*8),isLE2),this.process(view,0);var oview=createView(out),len=this.outputLen;if(len%4)throw new Error("_sha2: outputLen should be aligned to 32bit");var outLen=len/4,state=this.get();if(outLen>state.length)throw new Error("_sha2: outputLen bigger than state");for(var i1=0;i1<outLen;i1++)oview.setUint32(4*i1,state[i1],isLE2)}},{key:"digest",value:function(){var{buffer,outputLen}=this;this.digestInto(buffer);var res=buffer.slice(0,outputLen);return this.destroy(),res}},{key:"_cloneInto",value:function(to){to||(to=new this.constructor),to.set(...this.get());var{blockLen,buffer,length,finished,destroyed,pos}=this;return to.length=length,to.pos=pos,to.finished=finished,to.destroyed=destroyed,length%blockLen&&to.buffer.set(buffer),to}}]),HashMD2}(Hash)}});function fromBig(n,le=!1){return le?{h:Number(n&U32_MASK64),l:Number(n>>_32n&U32_MASK64)}:{h:Number(n>>_32n&U32_MASK64)|0,l:Number(n&U32_MASK64)|0}}function split(lst,le=!1){for(var Ah=new Uint32Array(lst.length),Al=new Uint32Array(lst.length),i=0;i<lst.length;i++){var{h,l}=fromBig(lst[i],le);[Ah[i],Al[i]]=[h,l]}return[Ah,Al]}function add(Ah,Al,Bh,Bl){var l=(Al>>>0)+(Bl>>>0);return{h:Ah+Bh+(l/2**32|0)|0,l:l|0}}var U32_MASK64,_32n,toBig,shrSH,shrSL,rotrSH,rotrSL,rotrBH,rotrBL,rotr32H,rotr32L,rotlSH,rotlSL,rotlBH,rotlBL,add3L,add3H,add4L,add4H,add5L,add5H,u64,u64_default,init_u64=__esm({"node_modules/@noble/hashes/esm/_u64.js"(){U32_MASK64=BigInt(4294967295),_32n=BigInt(32);toBig=(h,l)=>BigInt(h>>>0)<<_32n|BigInt(l>>>0),shrSH=(h,_l,s)=>h>>>s,shrSL=(h,l,s)=>h<<32-s|l>>>s,rotrSH=(h,l,s)=>h>>>s|l<<32-s,rotrSL=(h,l,s)=>h<<32-s|l>>>s,rotrBH=(h,l,s)=>h<<64-s|l>>>s-32,rotrBL=(h,l,s)=>h>>>s-32|l<<64-s,rotr32H=(_h,l)=>l,rotr32L=(h,_l)=>h,rotlSH=(h,l,s)=>h<<s|l>>>32-s,rotlSL=(h,l,s)=>l<<s|h>>>32-s,rotlBH=(h,l,s)=>l<<s-32|h>>>64-s,rotlBL=(h,l,s)=>h<<s-32|l>>>64-s;add3L=(Al,Bl,Cl)=>(Al>>>0)+(Bl>>>0)+(Cl>>>0),add3H=(low,Ah,Bh,Ch)=>Ah+Bh+Ch+(low/2**32|0)|0,add4L=(Al,Bl,Cl,Dl)=>(Al>>>0)+(Bl>>>0)+(Cl>>>0)+(Dl>>>0),add4H=(low,Ah,Bh,Ch,Dh)=>Ah+Bh+Ch+Dh+(low/2**32|0)|0,add5L=(Al,Bl,Cl,Dl,El)=>(Al>>>0)+(Bl>>>0)+(Cl>>>0)+(Dl>>>0)+(El>>>0),add5H=(low,Ah,Bh,Ch,Dh,Eh)=>Ah+Bh+Ch+Dh+Eh+(low/2**32|0)|0,u64={fromBig,split,toBig,shrSH,shrSL,rotrSH,rotrSL,rotrBH,rotrBL,rotr32H,rotr32L,rotlSH,rotlSL,rotlBH,rotlBL,add,add3L,add3H,add4L,add4H,add5H,add5L},u64_default=u64}});var SHA512_Kh,SHA512_Kl,SHA512_W_H,SHA512_W_L,SHA512,sha512,init_sha512=__esm({"node_modules/@noble/hashes/esm/sha512.js"(){init_call_super();init_class_call_check();init_create_class();init_inherits();init_md();init_u64();init_utils2();[SHA512_Kh,SHA512_Kl]=u64_default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),SHA512_W_H=new Uint32Array(80),SHA512_W_L=new Uint32Array(80),SHA512=function(HashMD2){"use strict";_inherits(SHA5122,HashMD2);function SHA5122(){_class_call_check(this,SHA5122);var _this;return _this=_call_super(this,SHA5122,[128,64,16,!1]),_this.Ah=1779033703,_this.Al=-205731576,_this.Bh=-1150833019,_this.Bl=-2067093701,_this.Ch=1013904242,_this.Cl=-23791573,_this.Dh=-1521486534,_this.Dl=1595750129,_this.Eh=1359893119,_this.El=-1377402159,_this.Fh=-1694144372,_this.Fl=725511199,_this.Gh=528734635,_this.Gl=-79577749,_this.Hh=1541459225,_this.Hl=327033209,_this}return _create_class(SHA5122,[{key:"get",value:function(){var{Ah,Al,Bh,Bl,Ch,Cl,Dh,Dl,Eh,El,Fh,Fl,Gh,Gl,Hh,Hl}=this;return[Ah,Al,Bh,Bl,Ch,Cl,Dh,Dl,Eh,El,Fh,Fl,Gh,Gl,Hh,Hl]}},{key:"set",value:function(Ah,Al,Bh,Bl,Ch,Cl,Dh,Dl,Eh,El,Fh,Fl,Gh,Gl,Hh,Hl){this.Ah=Ah|0,this.Al=Al|0,this.Bh=Bh|0,this.Bl=Bl|0,this.Ch=Ch|0,this.Cl=Cl|0,this.Dh=Dh|0,this.Dl=Dl|0,this.Eh=Eh|0,this.El=El|0,this.Fh=Fh|0,this.Fl=Fl|0,this.Gh=Gh|0,this.Gl=Gl|0,this.Hh=Hh|0,this.Hl=Hl|0}},{key:"process",value:function(view,offset){for(var i=0;i<16;i++,offset+=4)SHA512_W_H[i]=view.getUint32(offset),SHA512_W_L[i]=view.getUint32(offset+=4);for(var i1=16;i1<80;i1++){var W15h=SHA512_W_H[i1-15]|0,W15l=SHA512_W_L[i1-15]|0,s0h=u64_default.rotrSH(W15h,W15l,1)^u64_default.rotrSH(W15h,W15l,8)^u64_default.shrSH(W15h,W15l,7),s0l=u64_default.rotrSL(W15h,W15l,1)^u64_default.rotrSL(W15h,W15l,8)^u64_default.shrSL(W15h,W15l,7),W2h=SHA512_W_H[i1-2]|0,W2l=SHA512_W_L[i1-2]|0,s1h=u64_default.rotrSH(W2h,W2l,19)^u64_default.rotrBH(W2h,W2l,61)^u64_default.shrSH(W2h,W2l,6),s1l=u64_default.rotrSL(W2h,W2l,19)^u64_default.rotrBL(W2h,W2l,61)^u64_default.shrSL(W2h,W2l,6),SUMl=u64_default.add4L(s0l,s1l,SHA512_W_L[i1-7],SHA512_W_L[i1-16]),SUMh=u64_default.add4H(SUMl,s0h,s1h,SHA512_W_H[i1-7],SHA512_W_H[i1-16]);SHA512_W_H[i1]=SUMh|0,SHA512_W_L[i1]=SUMl|0}for(var{Ah,Al,Bh,Bl,Ch,Cl,Dh,Dl,Eh,El,Fh,Fl,Gh,Gl,Hh,Hl}=this,i2=0;i2<80;i2++){var sigma1h=u64_default.rotrSH(Eh,El,14)^u64_default.rotrSH(Eh,El,18)^u64_default.rotrBH(Eh,El,41),sigma1l=u64_default.rotrSL(Eh,El,14)^u64_default.rotrSL(Eh,El,18)^u64_default.rotrBL(Eh,El,41),CHIh=Eh&Fh^~Eh&Gh,CHIl=El&Fl^~El&Gl,T1ll=u64_default.add5L(Hl,sigma1l,CHIl,SHA512_Kl[i2],SHA512_W_L[i2]),T1h=u64_default.add5H(T1ll,Hh,sigma1h,CHIh,SHA512_Kh[i2],SHA512_W_H[i2]),T1l=T1ll|0,sigma0h=u64_default.rotrSH(Ah,Al,28)^u64_default.rotrBH(Ah,Al,34)^u64_default.rotrBH(Ah,Al,39),sigma0l=u64_default.rotrSL(Ah,Al,28)^u64_default.rotrBL(Ah,Al,34)^u64_default.rotrBL(Ah,Al,39),MAJh=Ah&Bh^Ah&Ch^Bh&Ch,MAJl=Al&Bl^Al&Cl^Bl&Cl;Hh=Gh|0,Hl=Gl|0,Gh=Fh|0,Gl=Fl|0,Fh=Eh|0,Fl=El|0,{h:Eh,l:El}=u64_default.add(Dh|0,Dl|0,T1h|0,T1l|0),Dh=Ch|0,Dl=Cl|0,Ch=Bh|0,Cl=Bl|0,Bh=Ah|0,Bl=Al|0;var All=u64_default.add3L(T1l,sigma0l,MAJl);Ah=u64_default.add3H(All,T1h,sigma0h,MAJh),Al=All|0}({h:Ah,l:Al}=u64_default.add(this.Ah|0,this.Al|0,Ah|0,Al|0)),{h:Bh,l:Bl}=u64_default.add(this.Bh|0,this.Bl|0,Bh|0,Bl|0),{h:Ch,l:Cl}=u64_default.add(this.Ch|0,this.Cl|0,Ch|0,Cl|0),{h:Dh,l:Dl}=u64_default.add(this.Dh|0,this.Dl|0,Dh|0,Dl|0),{h:Eh,l:El}=u64_default.add(this.Eh|0,this.El|0,Eh|0,El|0),{h:Fh,l:Fl}=u64_default.add(this.Fh|0,this.Fl|0,Fh|0,Fl|0),{h:Gh,l:Gl}=u64_default.add(this.Gh|0,this.Gl|0,Gh|0,Gl|0),{h:Hh,l:Hl}=u64_default.add(this.Hh|0,this.Hl|0,Hh|0,Hl|0),this.set(Ah,Al,Bh,Bl,Ch,Cl,Dh,Dl,Eh,El,Fh,Fl,Gh,Gl,Hh,Hl)}},{key:"roundClean",value:function(){SHA512_W_H.fill(0),SHA512_W_L.fill(0)}},{key:"destroy",value:function(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}]),SHA5122}(HashMD),sha512=wrapConstructor(()=>new SHA512)}});function hashFinish(asynchronous,res){return asynchronous?sha512a(res.hashable).then(res.finish):res.finish(sha512s(res.hashable))}var P,N,Gx,Gy,CURVE,err,str,isu8,au8,u8n,toU8,mod,isPoint,Point,G,I,padh,b2h,h2b,n2b_32LE,b2n_LE,concatB,invert,pow2,pow_2_252_3,RM1,uvRatio,modL_LE,_shaS,sha512a,sha512s,hash2extK,getExtendedPublicKey,getPublicKey,_sign,sign,dvo,_verify,verify,cr,etc,W,precompute,Gpows,wNAF,init_ed25519=__esm({"node_modules/@noble/ed25519/index.js"(){init_async_to_generator();init_class_call_check();init_create_class();P=2n**255n-19n,N=2n**252n+27742317777372353535851937790883648493n,Gx=0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51an,Gy=0x6666666666666666666666666666666666666666666666666666666666666658n,CURVE={a:-1n,d:37095705934669439343138083508754565189542113879843219016388785533085940283555n,p:P,n:N,h:8,Gx,Gy},err=(m2="")=>{throw new Error(m2)},str=s=>typeof s=="string",isu8=a=>a instanceof Uint8Array||a!=null&&typeof a=="object"&&a.constructor.name==="Uint8Array",au8=(a,l)=>!isu8(a)||typeof l=="number"&&l>0&&a.length!==l?err("Uint8Array of valid length expected"):a,u8n=data=>new Uint8Array(data),toU8=(a,len)=>au8(str(a)?h2b(a):u8n(au8(a)),len),mod=(a,b5=P)=>{var r=a%b5;return r>=0n?r:b5+r},isPoint=p=>p instanceof Point?p:err("Point expected"),Point=function(){"use strict";function Point2(ex,ey,ez,et2){_class_call_check(this,Point2),this.ex=ex,this.ey=ey,this.ez=ez,this.et=et2}return _create_class(Point2,[{key:"x",get:function(){return this.toAffine().x}},{key:"y",get:function(){return this.toAffine().y}},{key:"equals",value:function(other){var{ex:X1,ey:Y1,ez:Z1}=this,{ex:X22,ey:Y2,ez:Z2}=isPoint(other),X1Z2=mod(X1*Z2),X2Z1=mod(X22*Z1),Y1Z2=mod(Y1*Z2),Y2Z1=mod(Y2*Z1);return X1Z2===X2Z1&&Y1Z2===Y2Z1}},{key:"is0",value:function(){return this.equals(I)}},{key:"negate",value:function(){return new Point2(mod(-this.ex),this.ey,this.ez,mod(-this.et))}},{key:"double",value:function(){var{ex:X1,ey:Y1,ez:Z1}=this,{a}=CURVE,A=mod(X1*X1),B2=mod(Y1*Y1),C3=mod(2n*mod(Z1*Z1)),D2=mod(a*A),x1y1=X1+Y1,E2=mod(mod(x1y1*x1y1)-A-B2),G4=D2+B2,F3=G4-C3,H3=D2-B2,X3=mod(E2*F3),Y3=mod(G4*H3),T3=mod(E2*H3),Z3=mod(F3*G4);return new Point2(X3,Y3,Z3,T3)}},{key:"add",value:function(other){var{ex:X1,ey:Y1,ez:Z1,et:T1}=this,{ex:X22,ey:Y2,ez:Z2,et:T2}=isPoint(other),{a,d}=CURVE,A=mod(X1*X22),B2=mod(Y1*Y2),C3=mod(T1*d*T2),D2=mod(Z1*Z2),E2=mod((X1+Y1)*(X22+Y2)-A-B2),F3=mod(D2-C3),G4=mod(D2+C3),H3=mod(B2-a*A),X3=mod(E2*F3),Y3=mod(G4*H3),T3=mod(E2*H3),Z3=mod(F3*G4);return new Point2(X3,Y3,Z3,T3)}},{key:"mul",value:function(n,safe=!0){if(n===0n)return safe===!0?err("cannot multiply by 0"):I;if(typeof n=="bigint"&&0n<n&&n<N||err("invalid scalar, must be < L"),!safe&&this.is0()||n===1n)return this;if(this.equals(G))return wNAF(n).p;for(var p=I,f=G,d=this;n>0n;d=d.double(),n>>=1n)n&1n?p=p.add(d):safe&&(f=f.add(d));return p}},{key:"multiply",value:function(scalar){return this.mul(scalar)}},{key:"clearCofactor",value:function(){return this.mul(BigInt(CURVE.h),!1)}},{key:"isSmallOrder",value:function(){return this.clearCofactor().is0()}},{key:"isTorsionFree",value:function(){var p=this.mul(N/2n,!1).double();return N%2n&&(p=p.add(this)),p.is0()}},{key:"toAffine",value:function(){var{ex:x2,ey:y2,ez:z3}=this;if(this.equals(I))return{x:0n,y:1n};var iz=invert(z3);return mod(z3*iz)!==1n&&err("invalid inverse"),{x:mod(x2*iz),y:mod(y2*iz)}}},{key:"toRawBytes",value:function(){var{x:x2,y:y2}=this.toAffine(),b5=n2b_32LE(y2);return b5[31]|=x2&1n?128:0,b5}},{key:"toHex",value:function(){return b2h(this.toRawBytes())}}],[{key:"fromAffine",value:function(p){return new Point2(p.x,p.y,1n,mod(p.x*p.y))}},{key:"fromHex",value:function(hex,zip215=!1){var{d}=CURVE;hex=toU8(hex,32);var normed=hex.slice(),lastByte=hex[31];normed[31]=lastByte&-129;var y2=b2n_LE(normed);zip215&&!(0n<=y2&&y2<2n**256n)&&err("bad y coord 1"),!zip215&&!(0n<=y2&&y2<P)&&err("bad y coord 2");var y22=mod(y2*y2),u=mod(y22-1n),v2=mod(d*y22+1n),{isValid,value:x2}=uvRatio(u,v2);isValid||err("bad y coordinate 3");var isXOdd=(x2&1n)===1n,isLastByteOdd=(lastByte&128)!==0;return!zip215&&x2===0n&&isLastByteOdd&&err("bad y coord 3"),isLastByteOdd!==isXOdd&&(x2=mod(-x2)),new Point2(x2,y2,1n,mod(x2*y2))}}]),Point2}();Point.BASE=new Point(Gx,Gy,1n,mod(Gx*Gy));Point.ZERO=new Point(0n,1n,1n,0n);({BASE:G,ZERO:I}=Point),padh=(num,pad)=>num.toString(16).padStart(pad,"0"),b2h=b5=>Array.from(b5).map(e=>padh(e,2)).join(""),h2b=hex=>{var l=hex.length;(!str(hex)||l%2)&&err("hex invalid 1");for(var arr=u8n(l/2),i=0;i<arr.length;i++){var j=i*2,h=hex.slice(j,j+2),b5=Number.parseInt(h,16);(Number.isNaN(b5)||b5<0)&&err("hex invalid 2"),arr[i]=b5}return arr},n2b_32LE=num=>h2b(padh(num,32*2)).reverse(),b2n_LE=b5=>BigInt("0x"+b2h(u8n(au8(b5)).reverse())),concatB=(...arrs)=>{var r=u8n(arrs.reduce((sum,a)=>sum+au8(a).length,0)),pad=0;return arrs.forEach(a=>{r.set(a,pad),pad+=a.length}),r},invert=(num,md=P)=>{(num===0n||md<=0n)&&err("no inverse n="+num+" mod="+md);for(var a=mod(num,md),b5=md,x2=0n,y2=1n,u=1n,v2=0n;a!==0n;){var q3=b5/a,r=b5%a,m2=x2-u*q3,n=y2-v2*q3;b5=a,a=r,x2=u,y2=v2,u=m2,v2=n}return b5===1n?mod(x2,md):err("no inverse")},pow2=(x2,power)=>{for(var r=x2;power-- >0n;)r*=r,r%=P;return r},pow_2_252_3=x2=>{var x22=x2*x2%P,b23=x22*x2%P,b43=pow2(b23,2n)*b23%P,b5=pow2(b43,1n)*x2%P,b10=pow2(b5,5n)*b5%P,b20=pow2(b10,10n)*b10%P,b40=pow2(b20,20n)*b20%P,b80=pow2(b40,40n)*b40%P,b160=pow2(b80,80n)*b80%P,b240=pow2(b160,80n)*b80%P,b250=pow2(b240,10n)*b10%P,pow_p_5_8=pow2(b250,2n)*x2%P;return{pow_p_5_8,b2:b23}},RM1=19681161376707505956807079304988542015446066515923890162744021073123829784752n,uvRatio=(u,v2)=>{var v3=mod(v2*v2*v2),v7=mod(v3*v3*v2),pow=pow_2_252_3(u*v7).pow_p_5_8,x2=mod(u*v3*pow),vx2=mod(v2*x2*x2),root1=x2,root2=mod(x2*RM1),useRoot1=vx2===u,useRoot2=vx2===mod(-u),noRoot=vx2===mod(-u*RM1);return useRoot1&&(x2=root1),(useRoot2||noRoot)&&(x2=root2),(mod(x2)&1n)===1n&&(x2=mod(-x2)),{isValid:useRoot1||useRoot2,value:x2}},modL_LE=hash=>mod(b2n_LE(hash),N),sha512a=(...m2)=>etc.sha512Async(...m2),sha512s=(...m2)=>typeof _shaS=="function"?_shaS(...m2):err("etc.sha512Sync not set"),hash2extK=hashed=>{var head=hashed.slice(0,32);head[0]&=248,head[31]&=127,head[31]|=64;var prefix=hashed.slice(32,64),scalar=modL_LE(head),point=G.mul(scalar),pointBytes=point.toRawBytes();return{head,prefix,scalar,point,pointBytes}},getExtendedPublicKey=priv=>hash2extK(sha512s(toU8(priv,32))),getPublicKey=priv=>getExtendedPublicKey(priv).pointBytes;_sign=(e,rBytes,msg)=>{var{pointBytes:P4,scalar:s}=e,r=modL_LE(rBytes),R2=G.mul(r).toRawBytes(),hashable=concatB(R2,P4,msg),finish=hashed=>{var S2=mod(r+modL_LE(hashed)*s,N);return au8(concatB(R2,n2b_32LE(S2)),64)};return{hashable,finish}},sign=(msg,privKey)=>{var m2=toU8(msg),e=getExtendedPublicKey(privKey),rBytes=sha512s(e.prefix,m2);return hashFinish(!1,_sign(e,rBytes,m2))},dvo={zip215:!0},_verify=(sig,msg,pub,opts=dvo)=>{msg=toU8(msg),sig=toU8(sig,64);var{zip215}=opts,A,R2,s,SB,hashable=new Uint8Array;try{A=Point.fromHex(pub,zip215),R2=Point.fromHex(sig.slice(0,32),zip215),s=b2n_LE(sig.slice(32,64)),SB=G.mul(s,!1),hashable=concatB(R2.toRawBytes(),A.toRawBytes(),msg)}catch{}var finish=hashed=>{if(SB==null||!zip215&&A.isSmallOrder())return!1;var k=modL_LE(hashed),RkA=R2.add(A.mul(k,!1));return RkA.add(SB.negate()).clearCofactor().is0()};return{hashable,finish}},verify=(s,m2,p,opts=dvo)=>hashFinish(!1,_verify(s,m2,p,opts)),cr=()=>typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,etc={bytesToHex:b2h,hexToBytes:h2b,concatBytes:concatB,mod,invert,randomBytes:(len=32)=>{var crypto=cr();return(!crypto||!crypto.getRandomValues)&&err("crypto.getRandomValues must be defined"),crypto.getRandomValues(u8n(len))},sha512Async:_async_to_generator(function*(...messages2){var crypto=cr();(!crypto||!crypto.subtle)&&err("crypto.subtle or etc.sha512Async must be defined");var m2=concatB(...messages2);return u8n(yield crypto.subtle.digest("SHA-512",m2.buffer))}),sha512Sync:void 0};Object.defineProperties(etc,{sha512Sync:{configurable:!1,get(){return _shaS},set(f){_shaS||(_shaS=f)}}});W=8,precompute=()=>{for(var points=[],windows=256/W+1,p=G,b5=p,w=0;w<windows;w++){b5=p,points.push(b5);for(var i=1;i<2**(W-1);i++)b5=b5.add(p),points.push(b5);p=b5.double()}return points},Gpows=void 0,wNAF=n=>{for(var comp=Gpows||(Gpows=precompute()),neg=(cnd,p2)=>{var _$n=p2.negate();return cnd?_$n:p2},p=I,f=G,windows=1+256/W,wsize=2**(W-1),mask=BigInt(2**W-1),maxNum=2**W,shiftBy=BigInt(W),w=0;w<windows;w++){var off=w*wsize,wbits3=Number(n&mask);n>>=shiftBy,wbits3>wsize&&(wbits3-=maxNum,n+=1n);var off1=off,off2=off+Math.abs(wbits3)-1,cnd1=w%2!==0,cnd2=wbits3<0;wbits3===0?f=f.add(neg(cnd1,comp[off1])):p=p.add(neg(cnd2,comp[off2]))}return{p,f}}}});function deflateSync(data,opts){return dopt(data,opts||{},0,0)}function inflateSync(data,opts){return inflt(data,{i:2},opts&&opts.out,opts&&opts.dictionary)}function strToU8(str2,latin1){if(latin1){for(var ar_1=new u8(str2.length),i=0;i<str2.length;++i)ar_1[i]=str2.charCodeAt(i);return ar_1}if(te)return te.encode(str2);for(var l=str2.length,ar=new u8(str2.length+(str2.length>>1)),ai=0,w=function(v2){ar[ai++]=v2},i=0;i<l;++i){if(ai+5>ar.length){var n=new u8(ai+8+(l-i<<1));n.set(ar),ar=n}var c2=str2.charCodeAt(i);c2<128||latin1?w(c2):c2<2048?(w(192|c2>>6),w(128|c2&63)):c2>55295&&c2<57344?(c2=65536+(c2&1047552)|str2.charCodeAt(++i)&1023,w(240|c2>>18),w(128|c2>>12&63),w(128|c2>>6&63),w(128|c2&63)):(w(224|c2>>12),w(128|c2>>6&63),w(128|c2&63))}return slc(ar,0,ai)}function strFromU8(dat,latin1){if(latin1){for(var r="",i=0;i<dat.length;i+=16384)r+=String.fromCharCode.apply(null,dat.subarray(i,i+16384));return r}else{if(td)return td.decode(dat);var _a2=dutf8(dat),s=_a2.s,r=_a2.r;return r.length&&err2(8),s}}function zipSync(data,opts){opts||(opts={});var r={},files=[];fltn(data,"",r,opts);var o=0,tot=0;for(var fn in r){var _a2=r[fn],file=_a2[0],p=_a2[1],compression=p.level==0?0:8,f=strToU8(fn),s=f.length,com=p.comment,m2=com&&strToU8(com),ms=m2&&m2.length,exl=exfl(p.extra);s>65535&&err2(11);var d=compression?deflateSync(file,p):file,l=d.length,c2=crc();c2.p(file),files.push(mrg(p,{size:file.length,crc:c2.d(),c:d,f,m:m2,u:s!=fn.length||m2&&com.length!=ms,o,compression})),o+=30+s+exl+l,tot+=76+2*(s+exl)+(ms||0)+l}for(var out=new u8(tot+22),oe=o,cdl=tot-o,i=0;i<files.length;++i){var f=files[i];wzh(out,f.o,f,f.f,f.u,f.c.length);var badd=30+f.f.length+exfl(f.extra);out.set(f.c,f.o+badd),wzh(out,o,f,f.f,f.u,f.c.length,f.o,f.m),o+=16+badd+(f.m?f.m.length:0)}return wzf(out,o,files.length,cdl,oe),out}function unzipSync(data,opts){for(var files={},e=data.length-22;b4(data,e)!=101010256;--e)(!e||data.length-e>65558)&&err2(13);var c2=b2(data,e+8);if(!c2)return{};var o=b4(data,e+16),z3=o==4294967295||c2==65535;if(z3){var ze=b4(data,e-12);z3=b4(data,ze)==101075792,z3&&(c2=b4(data,ze+32),o=b4(data,ze+48))}for(var fltr=opts&&opts.filter,i=0;i<c2;++i){var _a2=zh(data,o,z3),c_2=_a2[0],sc=_a2[1],su=_a2[2],fn=_a2[3],no=_a2[4],off=_a2[5],b5=slzh(data,off);o=no,(!fltr||fltr({name:fn,size:sc,originalSize:su,compression:c_2}))&&(c_2?c_2==8?files[fn]=inflateSync(data.subarray(b5,b5+sc),{out:new u8(su)}):err2(14,"unknown compression type "+c_2):files[fn]=slc(data,b5,b5+sc))}return files}var u8,u16,i32,fleb,fdeb,clim,freb,_a,fl,revfl,_b,fd,revfd,rev,x2,i,hMap,flt,i,i,i,i,fdt,i,flm,flrm,fdm,fdrm,max,bits,bits16,shft,slc,ec,err2,inflt,wbits,wbits16,hTree,ln,lc,clen,wfblk,wblk,deo,et,dflt,crct,crc,dopt,mrg,b2,b4,b8,wbytes,fltn,te,td,tds,dutf8,slzh,zh,z64e,exfl,wzh,wzf,init_browser=__esm({"node_modules/fflate/esm/browser.js"(){u8=Uint8Array,u16=Uint16Array,i32=Int32Array,fleb=new u8([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fdeb=new u8([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),clim=new u8([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),freb=function(eb,start){for(var b5=new u16(31),i=0;i<31;++i)b5[i]=start+=1<<eb[i-1];for(var r=new i32(b5[30]),i=1;i<30;++i)for(var j=b5[i];j<b5[i+1];++j)r[j]=j-b5[i]<<5|i;return{b:b5,r}},_a=freb(fleb,2),fl=_a.b,revfl=_a.r;fl[28]=258,revfl[258]=28;_b=freb(fdeb,0),fd=_b.b,revfd=_b.r,rev=new u16(32768);for(i=0;i<32768;++i)x2=(i&43690)>>1|(i&21845)<<1,x2=(x2&52428)>>2|(x2&13107)<<2,x2=(x2&61680)>>4|(x2&3855)<<4,rev[i]=((x2&65280)>>8|(x2&255)<<8)>>1;hMap=function(cd,mb,r){for(var s=cd.length,i=0,l=new u16(mb);i<s;++i)cd[i]&&++l[cd[i]-1];var le=new u16(mb);for(i=1;i<mb;++i)le[i]=le[i-1]+l[i-1]<<1;var co;if(r){co=new u16(1<<mb);var rvb=15-mb;for(i=0;i<s;++i)if(cd[i])for(var sv=i<<4|cd[i],r_1=mb-cd[i],v2=le[cd[i]-1]++<<r_1,m2=v2|(1<<r_1)-1;v2<=m2;++v2)co[rev[v2]>>rvb]=sv}else for(co=new u16(s),i=0;i<s;++i)cd[i]&&(co[i]=rev[le[cd[i]-1]++]>>15-cd[i]);return co},flt=new u8(288);for(i=0;i<144;++i)flt[i]=8;for(i=144;i<256;++i)flt[i]=9;for(i=256;i<280;++i)flt[i]=7;for(i=280;i<288;++i)flt[i]=8;fdt=new u8(32);for(i=0;i<32;++i)fdt[i]=5;flm=hMap(flt,9,0),flrm=hMap(flt,9,1),fdm=hMap(fdt,5,0),fdrm=hMap(fdt,5,1),max=function(a){for(var m2=a[0],i=1;i<a.length;++i)a[i]>m2&&(m2=a[i]);return m2},bits=function(d,p,m2){var o=p/8|0;return(d[o]|d[o+1]<<8)>>(p&7)&m2},bits16=function(d,p){var o=p/8|0;return(d[o]|d[o+1]<<8|d[o+2]<<16)>>(p&7)},shft=function(p){return(p+7)/8|0},slc=function(v2,s,e){return(s==null||s<0)&&(s=0),(e==null||e>v2.length)&&(e=v2.length),new u8(v2.subarray(s,e))},ec=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],err2=function(ind,msg,nt){var e=new Error(msg||ec[ind]);if(e.code=ind,Error.captureStackTrace&&Error.captureStackTrace(e,err2),!nt)throw e;return e},inflt=function(dat,st,buf,dict){var sl=dat.length,dl=dict?dict.length:0;if(!sl||st.f&&!st.l)return buf||new u8(0);var noBuf=!buf,resize=noBuf||st.i!=2,noSt=st.i;noBuf&&(buf=new u8(sl*3));var cbuf=function(l2){var bl=buf.length;if(l2>bl){var nbuf=new u8(Math.max(bl*2,l2));nbuf.set(buf),buf=nbuf}},final=st.f||0,pos=st.p||0,bt=st.b||0,lm=st.l,dm=st.d,lbt=st.m,dbt=st.n,tbts=sl*8;do{if(!lm){final=bits(dat,pos,1);var type=bits(dat,pos+1,3);if(pos+=3,type)if(type==1)lm=flrm,dm=fdrm,lbt=9,dbt=5;else if(type==2){var hLit=bits(dat,pos,31)+257,hcLen=bits(dat,pos+10,15)+4,tl=hLit+bits(dat,pos+5,31)+1;pos+=14;for(var ldt=new u8(tl),clt=new u8(19),i=0;i<hcLen;++i)clt[clim[i]]=bits(dat,pos+i*3,7);pos+=hcLen*3;for(var clb=max(clt),clbmsk=(1<<clb)-1,clm=hMap(clt,clb,1),i=0;i<tl;){var r=clm[bits(dat,pos,clbmsk)];pos+=r&15;var s=r>>4;if(s<16)ldt[i++]=s;else{var c2=0,n=0;for(s==16?(n=3+bits(dat,pos,3),pos+=2,c2=ldt[i-1]):s==17?(n=3+bits(dat,pos,7),pos+=3):s==18&&(n=11+bits(dat,pos,127),pos+=7);n--;)ldt[i++]=c2}}var lt=ldt.subarray(0,hLit),dt=ldt.subarray(hLit);lbt=max(lt),dbt=max(dt),lm=hMap(lt,lbt,1),dm=hMap(dt,dbt,1)}else err2(1);else{var s=shft(pos)+4,l=dat[s-4]|dat[s-3]<<8,t=s+l;if(t>sl){noSt&&err2(0);break}resize&&cbuf(bt+l),buf.set(dat.subarray(s,t),bt),st.b=bt+=l,st.p=pos=t*8,st.f=final;continue}if(pos>tbts){noSt&&err2(0);break}}resize&&cbuf(bt+131072);for(var lms=(1<<lbt)-1,dms=(1<<dbt)-1,lpos=pos;;lpos=pos){var c2=lm[bits16(dat,pos)&lms],sym=c2>>4;if(pos+=c2&15,pos>tbts){noSt&&err2(0);break}if(c2||err2(2),sym<256)buf[bt++]=sym;else if(sym==256){lpos=pos,lm=null;break}else{var add2=sym-254;if(sym>264){var i=sym-257,b5=fleb[i];add2=bits(dat,pos,(1<<b5)-1)+fl[i],pos+=b5}var d=dm[bits16(dat,pos)&dms],dsym=d>>4;d||err2(3),pos+=d&15;var dt=fd[dsym];if(dsym>3){var b5=fdeb[dsym];dt+=bits16(dat,pos)&(1<<b5)-1,pos+=b5}if(pos>tbts){noSt&&err2(0);break}resize&&cbuf(bt+131072);var end=bt+add2;if(bt<dt){var shift=dl-dt,dend=Math.min(dt,end);for(shift+bt<0&&err2(3);bt<dend;++bt)buf[bt]=dict[shift+bt]}for(;bt<end;++bt)buf[bt]=buf[bt-dt]}}st.l=lm,st.p=lpos,st.b=bt,st.f=final,lm&&(final=1,st.m=lbt,st.d=dm,st.n=dbt)}while(!final);return bt!=buf.length&&noBuf?slc(buf,0,bt):buf.subarray(0,bt)},wbits=function(d,p,v2){v2<<=p&7;var o=p/8|0;d[o]|=v2,d[o+1]|=v2>>8},wbits16=function(d,p,v2){v2<<=p&7;var o=p/8|0;d[o]|=v2,d[o+1]|=v2>>8,d[o+2]|=v2>>16},hTree=function(d,mb){for(var t=[],i=0;i<d.length;++i)d[i]&&t.push({s:i,f:d[i]});var s=t.length,t2=t.slice();if(!s)return{t:et,l:0};if(s==1){var v2=new u8(t[0].s+1);return v2[t[0].s]=1,{t:v2,l:1}}t.sort(function(a,b5){return a.f-b5.f}),t.push({s:-1,f:25001});var l=t[0],r=t[1],i0=0,i1=1,i2=2;for(t[0]={s:-1,f:l.f+r.f,l,r};i1!=s-1;)l=t[t[i0].f<t[i2].f?i0++:i2++],r=t[i0!=i1&&t[i0].f<t[i2].f?i0++:i2++],t[i1++]={s:-1,f:l.f+r.f,l,r};for(var maxSym=t2[0].s,i=1;i<s;++i)t2[i].s>maxSym&&(maxSym=t2[i].s);var tr=new u16(maxSym+1),mbt=ln(t[i1-1],tr,0);if(mbt>mb){var i=0,dt=0,lft=mbt-mb,cst=1<<lft;for(t2.sort(function(a,b5){return tr[b5.s]-tr[a.s]||a.f-b5.f});i<s;++i){var i2_1=t2[i].s;if(tr[i2_1]>mb)dt+=cst-(1<<mbt-tr[i2_1]),tr[i2_1]=mb;else break}for(dt>>=lft;dt>0;){var i2_2=t2[i].s;tr[i2_2]<mb?dt-=1<<mb-tr[i2_2]++-1:++i}for(;i>=0&&dt;--i){var i2_3=t2[i].s;tr[i2_3]==mb&&(--tr[i2_3],++dt)}mbt=mb}return{t:new u8(tr),l:mbt}},ln=function(n,l,d){return n.s==-1?Math.max(ln(n.l,l,d+1),ln(n.r,l,d+1)):l[n.s]=d},lc=function(c2){for(var s=c2.length;s&&!c2[--s];);for(var cl=new u16(++s),cli=0,cln=c2[0],cls=1,w=function(v2){cl[cli++]=v2},i=1;i<=s;++i)if(c2[i]==cln&&i!=s)++cls;else{if(!cln&&cls>2){for(;cls>138;cls-=138)w(32754);cls>2&&(w(cls>10?cls-11<<5|28690:cls-3<<5|12305),cls=0)}else if(cls>3){for(w(cln),--cls;cls>6;cls-=6)w(8304);cls>2&&(w(cls-3<<5|8208),cls=0)}for(;cls--;)w(cln);cls=1,cln=c2[i]}return{c:cl.subarray(0,cli),n:s}},clen=function(cf,cl){for(var l=0,i=0;i<cl.length;++i)l+=cf[i]*cl[i];return l},wfblk=function(out,pos,dat){var s=dat.length,o=shft(pos+2);out[o]=s&255,out[o+1]=s>>8,out[o+2]=out[o]^255,out[o+3]=out[o+1]^255;for(var i=0;i<s;++i)out[o+i+4]=dat[i];return(o+4+s)*8},wblk=function(dat,out,final,syms,lf,df,eb,li,bs,bl,p){wbits(out,p++,final),++lf[256];for(var _a2=hTree(lf,15),dlt=_a2.t,mlb=_a2.l,_b2=hTree(df,15),ddt=_b2.t,mdb=_b2.l,_c=lc(dlt),lclt=_c.c,nlc=_c.n,_d=lc(ddt),lcdt=_d.c,ndc=_d.n,lcfreq=new u16(19),i=0;i<lclt.length;++i)++lcfreq[lclt[i]&31];for(var i=0;i<lcdt.length;++i)++lcfreq[lcdt[i]&31];for(var _e=hTree(lcfreq,7),lct=_e.t,mlcb=_e.l,nlcc=19;nlcc>4&&!lct[clim[nlcc-1]];--nlcc);var flen=bl+5<<3,ftlen=clen(lf,flt)+clen(df,fdt)+eb,dtlen=clen(lf,dlt)+clen(df,ddt)+eb+14+3*nlcc+clen(lcfreq,lct)+2*lcfreq[16]+3*lcfreq[17]+7*lcfreq[18];if(bs>=0&&flen<=ftlen&&flen<=dtlen)return wfblk(out,p,dat.subarray(bs,bs+bl));var lm,ll,dm,dl;if(wbits(out,p,1+(dtlen<ftlen)),p+=2,dtlen<ftlen){lm=hMap(dlt,mlb,0),ll=dlt,dm=hMap(ddt,mdb,0),dl=ddt;var llm=hMap(lct,mlcb,0);wbits(out,p,nlc-257),wbits(out,p+5,ndc-1),wbits(out,p+10,nlcc-4),p+=14;for(var i=0;i<nlcc;++i)wbits(out,p+3*i,lct[clim[i]]);p+=3*nlcc;for(var lcts=[lclt,lcdt],it=0;it<2;++it)for(var clct=lcts[it],i=0;i<clct.length;++i){var len=clct[i]&31;wbits(out,p,llm[len]),p+=lct[len],len>15&&(wbits(out,p,clct[i]>>5&127),p+=clct[i]>>12)}}else lm=flm,ll=flt,dm=fdm,dl=fdt;for(var i=0;i<li;++i){var sym=syms[i];if(sym>255){var len=sym>>18&31;wbits16(out,p,lm[len+257]),p+=ll[len+257],len>7&&(wbits(out,p,sym>>23&31),p+=fleb[len]);var dst=sym&31;wbits16(out,p,dm[dst]),p+=dl[dst],dst>3&&(wbits16(out,p,sym>>5&8191),p+=fdeb[dst])}else wbits16(out,p,lm[sym]),p+=ll[sym]}return wbits16(out,p,lm[256]),p+ll[256]},deo=new i32([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),et=new u8(0),dflt=function(dat,lvl,plvl,pre,post,st){var s=st.z||dat.length,o=new u8(pre+s+5*(1+Math.ceil(s/7e3))+post),w=o.subarray(pre,o.length-post),lst=st.l,pos=(st.r||0)&7;if(lvl){pos&&(w[0]=st.r>>3);for(var opt=deo[lvl-1],n=opt>>13,c2=opt&8191,msk_1=(1<<plvl)-1,prev=st.p||new u16(32768),head=st.h||new u16(msk_1+1),bs1_1=Math.ceil(plvl/3),bs2_1=2*bs1_1,hsh=function(i2){return(dat[i2]^dat[i2+1]<<bs1_1^dat[i2+2]<<bs2_1)&msk_1},syms=new i32(25e3),lf=new u16(288),df=new u16(32),lc_1=0,eb=0,i=st.i||0,li=0,wi=st.w||0,bs=0;i+2<s;++i){var hv=hsh(i),imod=i&32767,pimod=head[hv];if(prev[imod]=pimod,head[hv]=imod,wi<=i){var rem=s-i;if((lc_1>7e3||li>24576)&&(rem>423||!lst)){pos=wblk(dat,w,0,syms,lf,df,eb,li,bs,i-bs,pos),li=lc_1=eb=0,bs=i;for(var j=0;j<286;++j)lf[j]=0;for(var j=0;j<30;++j)df[j]=0}var l=2,d=0,ch_1=c2,dif=imod-pimod&32767;if(rem>2&&hv==hsh(i-dif))for(var maxn=Math.min(n,rem)-1,maxd=Math.min(32767,i),ml=Math.min(258,rem);dif<=maxd&&--ch_1&&imod!=pimod;){if(dat[i+l]==dat[i+l-dif]){for(var nl=0;nl<ml&&dat[i+nl]==dat[i+nl-dif];++nl);if(nl>l){if(l=nl,d=dif,nl>maxn)break;for(var mmd=Math.min(dif,nl-2),md=0,j=0;j<mmd;++j){var ti=i-dif+j&32767,pti=prev[ti],cd=ti-pti&32767;cd>md&&(md=cd,pimod=ti)}}}imod=pimod,pimod=prev[imod],dif+=imod-pimod&32767}if(d){syms[li++]=268435456|revfl[l]<<18|revfd[d];var lin=revfl[l]&31,din=revfd[d]&31;eb+=fleb[lin]+fdeb[din],++lf[257+lin],++df[din],wi=i+l,++lc_1}else syms[li++]=dat[i],++lf[dat[i]]}}for(i=Math.max(i,wi);i<s;++i)syms[li++]=dat[i],++lf[dat[i]];pos=wblk(dat,w,lst,syms,lf,df,eb,li,bs,i-bs,pos),lst||(st.r=pos&7|w[pos/8|0]<<3,pos-=7,st.h=head,st.p=prev,st.i=i,st.w=wi)}else{for(var i=st.w||0;i<s+lst;i+=65535){var e=i+65535;e>=s&&(w[pos/8|0]=lst,e=s),pos=wfblk(w,pos+1,dat.subarray(i,e))}st.i=s}return slc(o,0,pre+shft(pos)+post)},crct=function(){for(var t=new Int32Array(256),i=0;i<256;++i){for(var c2=i,k=9;--k;)c2=(c2&1&&-306674912)^c2>>>1;t[i]=c2}return t}(),crc=function(){var c2=-1;return{p:function(d){for(var cr2=c2,i=0;i<d.length;++i)cr2=crct[cr2&255^d[i]]^cr2>>>8;c2=cr2},d:function(){return~c2}}},dopt=function(dat,opt,pre,post,st){if(!st&&(st={l:1},opt.dictionary)){var dict=opt.dictionary.subarray(-32768),newDat=new u8(dict.length+dat.length);newDat.set(dict),newDat.set(dat,dict.length),dat=newDat,st.w=dict.length}return dflt(dat,opt.level==null?6:opt.level,opt.mem==null?st.l?Math.ceil(Math.max(8,Math.min(13,Math.log(dat.length)))*1.5):20:12+opt.mem,pre,post,st)},mrg=function(a,b5){var o={};for(var k in a)o[k]=a[k];for(var k in b5)o[k]=b5[k];return o},b2=function(d,b5){return d[b5]|d[b5+1]<<8},b4=function(d,b5){return(d[b5]|d[b5+1]<<8|d[b5+2]<<16|d[b5+3]<<24)>>>0},b8=function(d,b5){return b4(d,b5)+b4(d,b5+4)*4294967296},wbytes=function(d,b5,v2){for(;v2;++b5)d[b5]=v2,v2>>>=8};fltn=function(d,p,t,o){for(var k in d){var val=d[k],n=p+k,op=o;Array.isArray(val)&&(op=mrg(o,val[1]),val=val[0]),val instanceof u8?t[n]=[val,op]:(t[n+="/"]=[new u8(0),op],fltn(val,n,t,o))}},te=typeof TextEncoder<"u"&&new TextEncoder,td=typeof TextDecoder<"u"&&new TextDecoder,tds=0;try{td.decode(et,{stream:!0}),tds=1}catch{}dutf8=function(d){for(var r="",i=0;;){var c2=d[i++],eb=(c2>127)+(c2>223)+(c2>239);if(i+eb>d.length)return{s:r,r:slc(d,i-1)};eb?eb==3?(c2=((c2&15)<<18|(d[i++]&63)<<12|(d[i++]&63)<<6|d[i++]&63)-65536,r+=String.fromCharCode(55296|c2>>10,56320|c2&1023)):eb&1?r+=String.fromCharCode((c2&31)<<6|d[i++]&63):r+=String.fromCharCode((c2&15)<<12|(d[i++]&63)<<6|d[i++]&63):r+=String.fromCharCode(c2)}};slzh=function(d,b5){return b5+30+b2(d,b5+26)+b2(d,b5+28)},zh=function(d,b5,z3){var fnl=b2(d,b5+28),fn=strFromU8(d.subarray(b5+46,b5+46+fnl),!(b2(d,b5+8)&2048)),es=b5+46+fnl,bs=b4(d,b5+20),_a2=z3&&bs==4294967295?z64e(d,es):[bs,b4(d,b5+24),b4(d,b5+42)],sc=_a2[0],su=_a2[1],off=_a2[2];return[b2(d,b5+10),sc,su,fn,es+b2(d,b5+30)+b2(d,b5+32),off]},z64e=function(d,b5){for(;b2(d,b5)!=1;b5+=4+b2(d,b5+2));return[b8(d,b5+12),b8(d,b5+4),b8(d,b5+20)]},exfl=function(ex){var le=0;if(ex)for(var k in ex){var l=ex[k].length;l>65535&&err2(9),le+=l+4}return le},wzh=function(d,b5,f,fn,u,c2,ce,co){var fl2=fn.length,ex=f.extra,col=co&&co.length,exl=exfl(ex);wbytes(d,b5,ce!=null?33639248:67324752),b5+=4,ce!=null&&(d[b5++]=20,d[b5++]=f.os),d[b5]=20,b5+=2,d[b5++]=f.flag<<1|(c2<0&&8),d[b5++]=u&&8,d[b5++]=f.compression&255,d[b5++]=f.compression>>8;var dt=new Date(f.mtime==null?Date.now():f.mtime),y2=dt.getFullYear()-1980;if((y2<0||y2>119)&&err2(10),wbytes(d,b5,y2<<25|dt.getMonth()+1<<21|dt.getDate()<<16|dt.getHours()<<11|dt.getMinutes()<<5|dt.getSeconds()>>1),b5+=4,c2!=-1&&(wbytes(d,b5,f.crc),wbytes(d,b5+4,c2<0?-c2-2:c2),wbytes(d,b5+8,f.size)),wbytes(d,b5+12,fl2),wbytes(d,b5+14,exl),b5+=16,ce!=null&&(wbytes(d,b5,col),wbytes(d,b5+6,f.attrs),wbytes(d,b5+10,ce),b5+=14),d.set(fn,b5),b5+=fl2,exl)for(var k in ex){var exf=ex[k],l=exf.length;wbytes(d,b5,+k),wbytes(d,b5+2,l),d.set(exf,b5+4),b5+=4+l}return col&&(d.set(co,b5),b5+=col),b5},wzf=function(o,b5,c2,d,e){wbytes(o,b5,101010256),wbytes(o,b5+8,c2),wbytes(o,b5+10,c2),wbytes(o,b5+12,d),wbytes(o,b5+16,e)}}});function _define_property(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var init_define_property=__esm({"node_modules/@swc/helpers/esm/_define_property.js"(){}});var RevengeCertificationV1,init_certification=__esm({"node_modules/@revenge-mod/keyutil/src/v1/certification.ts"(){init_class_call_check();init_create_class();init_define_property();init_ed25519();RevengeCertificationV1=function(){"use strict";function RevengeCertificationV12({certifierPublicId,signature:certifierSignature,holderSignature}){_class_call_check(this,RevengeCertificationV12),_define_property(this,"certifierPublicId",void 0),_define_property(this,"signature",void 0),_define_property(this,"holderSignature",void 0),this.certifierPublicId=certifierPublicId,this.signature=certifierSignature,this.holderSignature=holderSignature}return _create_class(RevengeCertificationV12,[{key:"isValid",value:function(certifierPublicKey){return verify(this.signature,this.holderSignature,certifierPublicKey)}}]),RevengeCertificationV12}()}});function _class_private_method_get(receiver,privateSet,fn){if(!privateSet.has(receiver))throw new TypeError("attempted to get private field on non-instance");return fn}var init_class_private_method_get=__esm({"node_modules/@swc/helpers/esm/_class_private_method_get.js"(){}});function _check_private_redeclaration(obj,privateCollection){if(privateCollection.has(obj))throw new TypeError("Cannot initialize the same private elements twice on an object")}var init_check_private_redeclaration=__esm({"node_modules/@swc/helpers/esm/_check_private_redeclaration.js"(){}});function _class_private_method_init(obj,privateSet){_check_private_redeclaration(obj,privateSet),privateSet.add(obj)}var init_class_private_method_init=__esm({"node_modules/@swc/helpers/esm/_class_private_method_init.js"(){init_check_private_redeclaration()}});var KeyType,KeySize,SignatureSize,init_shared3=__esm({"node_modules/@revenge-mod/keyutil/src/shared.ts"(){KeyType=function(KeyType2){return KeyType2[KeyType2.Public=1]="Public",KeyType2[KeyType2.Private=2]="Private",KeyType2}({}),KeySize=32,SignatureSize=64}});function u64ToU8Array(bigInt){var buffer=new ArrayBuffer(8),view=new DataView(buffer);return view.setBigUint64(0,bigInt),new Uint8Array(buffer)}function u8ArrayToU64(u82){var view=new DataView(u82.buffer);return view.getBigUint64(0)}function toKeyId(u82){return toHex(u82).toUpperCase().slice(-16)}function toHex(u82){return Array.from(u82).map(i=>i.toString(16).padStart(2,"0")).join("")}function bufToString(buf){return new TextDecoder().decode(buf)}function strToU82(str2){return new TextEncoder().encode(str2)}var init_utils3=__esm({"node_modules/@revenge-mod/keyutil/src/utils.ts"(){}});var RevengePublicKeyV1,init_public=__esm({"node_modules/@revenge-mod/keyutil/src/v1/public.ts"(){init_class_call_check();init_create_class();init_define_property();init_ed25519();init_sha512();init_browser();init_shared3();init_utils3();RevengePublicKeyV1=function(){"use strict";function RevengePublicKeyV12({info,key,certifications,signature}){_class_call_check(this,RevengePublicKeyV12),_define_property(this,"type",KeyType.Public),_define_property(this,"info",void 0),_define_property(this,"signature",void 0),_define_property(this,"certifications",void 0),_define_property(this,"key",void 0),_define_property(this,"id",void 0),_define_property(this,"version",1),this.info=info,this.signature=signature,this.certifications=certifications,this.key=key,this.id=toKeyId(sha512(key)).toString().slice(-16)}return _create_class(RevengePublicKeyV12,[{key:"toZipStructure",value:function(){return{k:this.key,i:zipSync(RevengePublicKeyV12.infoToZipStructure(this.info)),is:this.signature,c:zipSync(Object.fromEntries(Object.entries(this.certifications).map(([id,cert])=>[id,cert.signature]))),t:new Uint8Array([this.version<<4|this.type&15])}}},{key:"isValid",value:function(){return this.verify(this.signature,RevengePublicKeyV12.infoToSignatureDataUint8Array(this.info))}},{key:"verify",value:function(signature,data){return this.expired?!1:verify(signature,data,this.key)}},{key:"expired",get:function(){return Math.round(Date.now()/1e3)>this.info.expires}},{key:"isPublic",value:function(){return!0}},{key:"isPrivate",value:function(){return!1}}],[{key:"infoToZipStructure",value:function(info){return{n:strToU82(info.name),e:u64ToU8Array(info.expires)}}},{key:"infoToSignatureDataUint8Array",value:function(info){return sha512(zipSync(RevengePublicKeyV12.infoToZipStructure(info),{mtime:"1980"}))}}]),RevengePublicKeyV12}()}});var RevengeSignatureV1,init_signature=__esm({"node_modules/@revenge-mod/keyutil/src/v1/signature.ts"(){init_class_call_check();init_create_class();init_define_property();init_ed25519();init_utils3();RevengeSignatureV1=function(){"use strict";function RevengeSignatureV12({signerPublicId,signature}){_class_call_check(this,RevengeSignatureV12),_define_property(this,"signerPublicId",void 0),_define_property(this,"signature",void 0),_define_property(this,"version",1),this.signerPublicId=signerPublicId,this.signature=signature}return _create_class(RevengeSignatureV12,[{key:"toZipStructure",value:function(){return{i:strToU82(this.signerPublicId),s:this.signature}}},{key:"verify",value:function(publicKey,data){return verify(this.signature,data,publicKey)}}]),RevengeSignatureV12}()}});function getPublicKeySignature(){return _class_private_method_get(this,_sign2,sign1).call(this,RevengePublicKeyV1.infoToSignatureDataUint8Array(this.info.publicKeyInfo))}function sign1(data){if(this.expired)throw new Error("Cannot sign with expired key");return sign(data,this.key)}var _getPublicKeySignature,_sign2,RevengePrivateKeyV1,init_private=__esm({"node_modules/@revenge-mod/keyutil/src/v1/private.ts"(){init_class_call_check();init_class_private_method_get();init_class_private_method_init();init_create_class();init_define_property();init_ed25519();init_sha512();init_browser();init_shared3();init_utils3();init_certification();init_public();init_signature();_getPublicKeySignature=new WeakSet,_sign2=new WeakSet,RevengePrivateKeyV1=function(){"use strict";function RevengePrivateKeyV12({info,key}){_class_call_check(this,RevengePrivateKeyV12),_class_private_method_init(this,_getPublicKeySignature),_class_private_method_init(this,_sign2),_define_property(this,"type",KeyType.Private),_define_property(this,"info",void 0),_define_property(this,"key",void 0),_define_property(this,"publicId",void 0),_define_property(this,"id",void 0),_define_property(this,"version",1),this.info=info,this.key=key,this.publicId=toKeyId(sha512(info.publicKey)).toUpperCase().slice(-16),this.id=toKeyId(sha512(key)).toUpperCase().slice(-16)}return _create_class(RevengePrivateKeyV12,[{key:"expired",get:function(){return Math.round(Date.now()/1e3)>this.info.publicKeyInfo.expires}},{key:"toZipStructure",value:function(){var zi=zipSync({pi:zipSync(RevengePublicKeyV1.infoToZipStructure(this.info.publicKeyInfo),{mtime:"1980"}),pis:_class_private_method_get(this,_getPublicKeySignature,getPublicKeySignature).call(this)});return{k:this.key,i:zi,is:_class_private_method_get(this,_sign2,sign1).call(this,zi),t:new Uint8Array([this.version<<4|this.type&15])}}},{key:"sign",value:function(data){return new RevengeSignatureV1({signature:_class_private_method_get(this,_sign2,sign1).call(this,data),signerPublicId:this.publicId})}},{key:"createPublicKey",value:function(){var pbKey=new RevengePublicKeyV1({key:this.info.publicKey,info:this.info.publicKeyInfo,signature:_class_private_method_get(this,_getPublicKeySignature,getPublicKeySignature).call(this),certifications:{}});return this.certify(pbKey),pbKey}},{key:"certify",value:function(publicKey){publicKey.certifications[this.publicId]=new RevengeCertificationV1({certifierPublicId:this.publicId,signature:_class_private_method_get(this,_sign2,sign1).call(this,publicKey.signature),holderSignature:publicKey.signature})}},{key:"isPublic",value:function(){return!1}},{key:"isPrivate",value:function(){return!0}}]),RevengePrivateKeyV12}()}});function readRevengeKey(key){var{t,k,i,is,c:c2}=unzipSync(key);if(!t||t.length!==1||!k||k.length!==KeySize||!i||!is||is.length!==SignatureSize)throw new Error("Invalid key file format");var{pi,pis,n,e}=unzipSync(i),version=t[0]>>4&15,type=t[0]&15;if(version!==1)throw new Error("Unsupported key version");switch(type){case KeyType.Private:{if(!pi||!pis)throw new Error("Invalid private key file format");var pk=getPublicKey(k);if(!RevengePublicKeyV1.prototype.verify.call({key:pk},pis,sha512(pi)))throw new Error("Public key information's signature could not be verified");var{n:n1,e:e1}=unzipSync(pi);return new RevengePrivateKeyV1({key:k,info:{publicKey:pk,publicKeyInfo:{name:bufToString(n1),expires:u8ArrayToU64(e1)}}})}case KeyType.Public:{if(!n||!e||!c2)throw new Error("Invalid public key file format");var certs=unzipSync(c2);return new RevengePublicKeyV1({key:k,certifications:Object.fromEntries(Object.entries(certs).map(([pkId,signature])=>[pkId,new RevengeCertificationV1({certifierPublicId:pkId,signature,holderSignature:is})])),signature:is,info:{name:bufToString(n.buffer),expires:u8ArrayToU64(e)}})}default:throw new Error("Unsupported key type")}}function readRevengeSignature(signature){var{s,i}=unzipSync(signature);if(!s||!i)throw new Error("Invalid signature file format");return new RevengeSignatureV1({signerPublicId:bufToString(i),signature:s})}var init_v1=__esm({"node_modules/@revenge-mod/keyutil/src/v1/index.ts"(){init_ed25519();init_sha512();init_browser();init_certification();init_private();init_public();init_signature();init_shared3();init_utils3();init_certification();init_private();init_public();init_signature();etc.sha512Sync=sha512}});var BaseDirectory,SettingsFilePath,TrustedKeysDirectoryPath,TrustedKeysDataFilePath,PluginsDirectoryPath,PluginsStatesFilePath,ExternalPluginsMetadataFilePath,ExternalPluginManifestFilePath,ExternalPluginSourceFilePath,PluginStoragePath,init_paths=__esm({"libraries/shared/src/paths.ts"(){"use strict";BaseDirectory="revenge",SettingsFilePath=`${BaseDirectory}/settings.json`,TrustedKeysDirectoryPath=`${BaseDirectory}/trusted_keys`,TrustedKeysDataFilePath=`${TrustedKeysDirectoryPath}/data.json`,PluginsDirectoryPath=`${BaseDirectory}/plugins`,PluginsStatesFilePath=`${PluginsDirectoryPath}/states.json`,ExternalPluginsMetadataFilePath=`${PluginsDirectoryPath}/externals.json`,ExternalPluginManifestFilePath=id=>`${PluginsDirectoryPath}/${id}/manifest.json`,ExternalPluginSourceFilePath=id=>`${PluginsDirectoryPath}/${id}/source.zip`,PluginStoragePath=id=>`${PluginsDirectoryPath}/${id}/storage.json`}});var m,x,E,T,K,c,$,N2,Y,I2,B,D,R,z,y,g,q,H,G2,J,F,P2,L,C,Q,X,Z,_2,b,S,V,U,W2,v,init_object_observer_min=__esm({"node_modules/@gullerya/object-observer/dist/object-observer.min.js"(){init_call_super();init_class_call_check();init_create_class();init_inherits();m="insert",x="update",E="delete",T="reverse",K="shuffle",c=Symbol.for("object-observer-meta-key-0"),$={async:1},N2=o=>{if(!o||typeof o!="object")return null;var t={},e=[];for(var[r,n]of Object.entries(o))if(r==="path"){if(typeof n!="string"||n==="")throw new Error('"path" option, if/when provided, MUST be a non-empty string');t[r]=n}else if(r==="pathsOf"){if(o.path)throw new Error('"pathsOf" option MAY NOT be specified together with "path" option');if(typeof n!="string")throw new Error('"pathsOf" option, if/when provided, MUST be a string (MAY be empty)');t[r]=o.pathsOf.split(".").filter(Boolean)}else if(r==="pathsFrom"){if(o.path||o.pathsOf)throw new Error('"pathsFrom" option MAY NOT be specified together with "path"/"pathsOf" option/s');if(typeof n!="string"||n==="")throw new Error('"pathsFrom" option, if/when provided, MUST be a non-empty string');t[r]=n}else e.push(r);if(e.length)throw new Error(`'${e.join(", ")}' is/are not a valid observer option/s`);return t},Y=(o,t,e)=>{var r={};r[c]=t;for(var n in o)r[n]=g(o[n],n,t,e);return r},I2=(o,t,e)=>{var r=o.length,n=new Array(r);n[c]=t;for(var i=0;i<r;i++)n[i]=g(o[i],i,t,e);return n},B=(o,t)=>(o[c]=t,o),D=(o,t)=>{if(o===null)return t;var e=t;if(o.path){var r=o.path;e=t.filter(n2=>n2.path.join(".")===r)}else if(o.pathsOf){var r1=o.pathsOf,n=r1.join(".");e=t.filter(i=>(i.path.length===r1.length+1||i.path.length===r1.length&&(i.type===T||i.type===K))&&i.path.join(".").startsWith(n))}else if(o.pathsFrom){var r2=o.pathsFrom;e=t.filter(n2=>n2.path.join(".").startsWith(r2))}return e},R=(o,t)=>{try{o(t)}catch(e){console.error(`failed to notify listener ${o} with ${t}`,e)}},z=function(){var t=this.batches;this.batches=[];for(var[e,r]of t)R(e,r)},y=(o,t)=>{var e=o,r,n,i,l,h,s,u=t.length;do{for(r=e.options.async,n=e.observers,s=n.length;s--;)if([i,l]=n[s],h=D(l,t),h.length)if(r){e.batches.length===0&&queueMicrotask(z.bind(e));var a=void 0;for(var p of e.batches)if(p[0]===i){a=p;break}a||(a=[i,[]],e.batches.push(a)),Array.prototype.push.apply(a[1],h)}else R(i,h);var f=e.parent;if(f){for(var a1=0;a1<u;a1++){var p1=t[a1];t[a1]=new b(p1.type,[e.ownKey,...p1.path],p1.value,p1.oldValue,p1.object)}e=f}else e=null}while(e)},g=(o,t,e,r)=>r!==void 0&&r.has(o)?null:typeof o!="object"||o===null?o:Array.isArray(o)?new U({target:o,ownKey:t,parent:e,visited:r}).proxy:ArrayBuffer.isView(o)?new W2({target:o,ownKey:t,parent:e}).proxy:o instanceof Date?o:new V({target:o,ownKey:t,parent:e,visited:r}).proxy,q=function(){var t=this[c],e=t.target,r=e.length-1,n=e.pop();if(n&&typeof n=="object"){var l=n[c];l&&(n=l.detach())}var i=[new b(E,[r],void 0,n,this)];return y(t,i),n},H=function(){for(var t=this[c],e=t.target,r=arguments.length,n=new Array(r),i=e.length,s=0;s<r;s++)n[s]=g(arguments[s],i+s,t);for(var l=Reflect.apply(e.push,e,n),h=[],s1=i,u=e.length;s1<u;s1++)h[s1-i]=new b(m,[s1],e[s1],void 0,this);return y(t,h),l},G2=function(){var t=this[c],e=t.target,r,n,i,l,h;for(r=e.shift(),r&&typeof r=="object"&&(h=r[c],h&&(r=h.detach())),n=0,i=e.length;n<i;n++)l=e[n],l&&typeof l=="object"&&(h=l[c],h&&(h.ownKey=n));var s=[new b(E,[0],void 0,r,this)];return y(t,s),r},J=function(){for(var t=this[c],e=t.target,r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=g(arguments[s],s,t);for(var i=Reflect.apply(e.unshift,e,n),s1=0,u=e.length,f;s1<u;s1++)if(f=e[s1],f&&typeof f=="object"){var a=f[c];a&&(a.ownKey=s1)}for(var l=n.length,h=new Array(l),s2=0;s2<l;s2++)h[s2]=new b(m,[s2],e[s2],void 0,this);return y(t,h),i},F=function(){var t=this[c],e=t.target,r,n,i;for(e.reverse(),r=0,n=e.length;r<n;r++)if(i=e[r],i&&typeof i=="object"){var h=i[c];h&&(h.ownKey=r)}var l=[new b(T,[],void 0,void 0,this)];return y(t,l),this},P2=function(t){var e=this[c],r=e.target,n,i,l;for(r.sort(t),n=0,i=r.length;n<i;n++)if(l=r[n],l&&typeof l=="object"){var s=l[c];s&&(s.ownKey=n)}var h=[new b(K,[],void 0,void 0,this)];return y(e,h),this},L=function(t,e,r){var n=this[c],i=n.target,l=[],h=i.length,s=i.slice(0);if(e=e===void 0?0:e<0?Math.max(h+e,0):Math.min(e,h),r=r===void 0?h:r<0?Math.max(h+r,0):Math.min(r,h),e<h&&r>e){i.fill(t,e,r);for(var u,f=e,a,p;f<r;f++)a=i[f],i[f]=g(a,f,n),f in s?(p=s[f],p&&typeof p=="object"&&(u=p[c],u&&(p=u.detach())),l.push(new b(x,[f],i[f],p,this))):l.push(new b(m,[f],i[f],void 0,this));y(n,l)}return this},C=function(t,e,r){var n=this[c],i=n.target,l=i.length;t=t<0?Math.max(l+t,0):t,e=e===void 0?0:e<0?Math.max(l+e,0):Math.min(e,l),r=r===void 0?l:r<0?Math.max(l+r,0):Math.min(r,l);var h=Math.min(r-e,l-t);if(t<l&&t!==e&&h>0){var s=i.slice(0),u=[];i.copyWithin(t,e,r);for(var f=t,a,p,O;f<t+h;f++)a=i[f],a&&typeof a=="object"&&(a=g(a,f,n),i[f]=a),p=s[f],p&&typeof p=="object"&&(O=p[c],O&&(p=O.detach())),!(typeof a!="object"&&a===p)&&u.push(new b(x,[f],a,p,this));y(n,u)}return this},Q=function(){for(var t=this[c],e=t.target,r=arguments.length,n=new Array(r),i=e.length,w=0;w<r;w++)n[w]=g(arguments[w],w,t);for(var l=r===0?0:n[0]<0?i+n[0]:n[0],h=r<2?i-l:n[1],s=Math.max(r-2,0),u=Reflect.apply(e.splice,e,n),f=e.length,a,w1=0,A;w1<f;w1++)A=e[w1],A&&typeof A=="object"&&(a=A[c],a&&(a.ownKey=w1));var p,O,j;for(p=0,O=u.length;p<O;p++)j=u[p],j&&typeof j=="object"&&(a=j[c],a&&(u[p]=a.detach()));var M=[],d;for(d=0;d<h;d++)d<s?M.push(new b(x,[l+d],e[l+d],u[d],this)):M.push(new b(E,[l+d],void 0,u[d],this));for(;d<s;d++)M.push(new b(m,[l+d],e[l+d],void 0,this));return y(t,M),u},X=function(t,e){var r=this[c],n=r.target,i=t.length,l=n.slice(0);e=e||0,n.set(t,e);for(var h=new Array(i),s=e;s<i+e;s++)h[s-e]=new b(x,[s],n[s],l[s],this);y(r,h)},Z={pop:q,push:H,shift:G2,unshift:J,reverse:F,sort:P2,fill:L,copyWithin:C,splice:Q},_2={reverse:F,sort:P2,fill:L,copyWithin:C,set:X},b=function b3(t,e,r,n,i){"use strict";_class_call_check(this,b3),this.type=t,this.path=e,this.value=r,this.oldValue=n,this.object=i},S=function(){"use strict";function S2(t,e){_class_call_check(this,S2);var{target:r,parent:n,ownKey:i,visited:l=new Set}=t;n&&i!==void 0?(this.parent=n,this.ownKey=i):(this.parent=null,this.ownKey=null),l.add(r);var h=e(r,this,l);l.delete(r),this.observers=[],this.revocable=Proxy.revocable(h,this),this.proxy=this.revocable.proxy,this.target=h,this.options=this.processOptions(t.options),this.options.async&&(this.batches=[])}return _create_class(S2,[{key:"processOptions",value:function(t){if(t){if(typeof t!="object")throw new Error(`Observable options if/when provided, MAY only be an object, got '${t}'`);var e=Object.keys(t).filter(r=>!(r in $));if(e.length)throw new Error(`'${e.join(", ")}' is/are not a valid Observable option/s`);return Object.assign({},t)}else return{}}},{key:"detach",value:function(){return this.parent=null,this.target}},{key:"set",value:function(t,e,r){var n=t[e];if(r!==n){var i=g(r,e,this);if(t[e]=i,n&&typeof n=="object"){var h=n[c];h&&(n=h.detach())}var l=n===void 0?[new b(m,[e],i,void 0,this.proxy)]:[new b(x,[e],i,n,this.proxy)];y(this,l)}return!0}},{key:"deleteProperty",value:function(t,e){var r=t[e];if(delete t[e],r&&typeof r=="object"){var i=r[c];i&&(r=i.detach())}var n=[new b(E,[e],void 0,r,this.proxy)];return y(this,n),!0}}]),S2}(),V=function(S2){"use strict";_inherits(V2,S2);function V2(t){return _class_call_check(this,V2),_call_super(this,V2,[t,Y])}return V2}(S),U=function(S2){"use strict";_inherits(U2,S2);function U2(t){return _class_call_check(this,U2),_call_super(this,U2,[t,I2])}return _create_class(U2,[{key:"get",value:function(t,e){return Z[e]||t[e]}}]),U2}(S),W2=function(S2){"use strict";_inherits(W3,S2);function W3(t){return _class_call_check(this,W3),_call_super(this,W3,[t,B])}return _create_class(W3,[{key:"get",value:function(t,e){return _2[e]||t[e]}}]),W3}(S),v=Object.freeze({from:(o,t)=>{if(!o||typeof o!="object")throw new Error("observable MAY ONLY be created from a non-null object");if(o[c])return o;if(Array.isArray(o))return new U({target:o,ownKey:null,parent:null,options:t}).proxy;if(ArrayBuffer.isView(o))return new W2({target:o,ownKey:null,parent:null,options:t}).proxy;if(o instanceof Date)throw new Error(`${o} found to be one of a non-observable types`);return new V({target:o,ownKey:null,parent:null,options:t}).proxy},isObservable:o=>!!(o&&o[c]),observe:(o,t,e)=>{if(!v.isObservable(o))throw new Error("invalid observable parameter");if(typeof t!="function")throw new Error(`observer MUST be a function, got '${t}'`);var r=o[c].observers;r.some(n=>n[0]===t)?console.warn("observer may be bound to an observable only once; will NOT rebind"):r.push([t,N2(e)])},unobserve:(o,...t)=>{if(!v.isObservable(o))throw new Error("invalid observable parameter");var e=o[c].observers,r=e.length;if(r){if(!t.length){e.splice(0);return}for(;r;)t.indexOf(e[--r][0])>=0&&e.splice(r,1)}}})}});var src_exports4={};__export(src_exports4,{awaitStorage:()=>awaitStorage,createStorage:()=>createStorage,getPreloadedStorage:()=>getPreloadedStorage,loadStorage:()=>loadStorage,removeStorage:()=>removeStorage,saveStorage:()=>saveStorage,storageContextSymbol:()=>storageContextSymbol,useObservable:()=>useObservable});function createJSONFile(path){var actualPath=`${FileModule.getConstants().DocumentsDirPath}/${path}`,file={read:_async_to_generator(function*(){try{return JSON.parse(yield FileModule.readFile(actualPath,"utf8"))}catch(e){throw new Error(`Failed to parse storage from: ${actualPath}`,{cause:e})}}),write:data=>{if(!data||typeof data!="object")throw new Error("Data to write needs to be an object");return FileModule.writeFile("documents",path,JSON.stringify(data),"utf8")},exists:()=>FileModule.fileExists(actualPath),delete:()=>FileModule.removeFile("documents",path)};return file}function useObservable(observables,opts){if(observables.some(o=>o?.[storageContextSymbol]?.error))throw new Error("An error occured while initializing the storage");if(observables.some(o=>!v.isObservable(o)))throw new Error("Argument passed isn't an Observable");var[,forceUpdate]=React.useReducer(n=>~n,0);React.useEffect(()=>{var listener=()=>forceUpdate();for(var o of observables)v.observe(o,listener,opts);return()=>{for(var o2 of observables)v.unobserve(o2,listener)}},[])}function saveStorage(path,value){return _saveStorage.apply(this,arguments)}function _saveStorage(){return _saveStorage=_async_to_generator(function*(path,value){loadedStorages[path]=value,createJSONFile(path).write(value)}),_saveStorage.apply(this,arguments)}function createStorage(path,{initial={}}={}){var readyPromise=new Promise(r=>resolve=r),resolve,proxy,backend=createJSONFile(path),context={emitter:new EventEmitter,ready:!1,readyPromise,file:backend},callback=data=>{var observable=v.from(data);v.observe(observable,changes=>{for(var change of changes)context.emitter.emit(change.type!=="delete"?"set":"delete",{path:change.path,value:change.value});backend.write(observable)});var _proxy=new Proxy(observable,{get(target,prop,receiver){return prop===storageContextSymbol?context:Reflect.get(target,prop,receiver)}});return context.ready=!0,resolve(),proxy=_proxy};loadedStorages[path]?callback(loadedStorages[path]):backend.exists().then(function(){var _ref=_async_to_generator(function*(exists2){exists2?callback(loadedStorages[path]=yield backend.read()):(loadedStorages[path]=initial,yield backend.write(initial),callback(initial))});return function(exists2){return _ref.apply(this,arguments)}}());var check=()=>{if(proxy)return!0;throw new Error(`Storage has not been initialized: ${path}`)};return new Proxy({},{...Object.fromEntries(Object.getOwnPropertyNames(Reflect).map(k=>[k,(_3,...args)=>check()&&Reflect[k](proxy,...args)])),get(_3,prop,recv){return prop===storageContextSymbol?context:check()&&Reflect.get(proxy,prop,recv)}})}function loadStorage(path){return _loadStorage.apply(this,arguments)}function _loadStorage(){return _loadStorage=_async_to_generator(function*(path){if(loadedStorages[path])return!0;var backend=createJSONFile(path);return(yield backend.exists())?(loadedStorages[path]=yield backend.read(),!1):!0}),_loadStorage.apply(this,arguments)}function removeStorage(path){return _removeStorage.apply(this,arguments)}function _removeStorage(){return _removeStorage=_async_to_generator(function*(path){yield FileModule.removeFile("documents",path),delete loadedStorages[path]}),_removeStorage.apply(this,arguments)}function awaitStorage(...storages){return Promise.all(storages.map(proxy=>proxy[storageContextSymbol].readyPromise))}function getPreloadedStorage(path){return loadedStorages[path]}var storageContextSymbol,loadedStorages,init_src6=__esm({"libraries/storage/src/index.ts"(){"use strict";init_async_to_generator();init_object_observer_min();init_common();init_native();storageContextSymbol=Symbol.for("revenge.storage.context"),loadedStorages={}}});function _construct(Parent,args,Class){return _is_native_reflect_construct()?_construct=Reflect.construct:_construct=function(Parent2,args2,Class2){var a=[null];a.push.apply(a,args2);var Constructor=Function.bind.apply(Parent2,a),instance=new Constructor;return Class2&&_set_prototype_of(instance,Class2.prototype),instance},_construct.apply(null,arguments)}var init_construct=__esm({"node_modules/@swc/helpers/esm/_construct.js"(){init_is_native_reflect_construct();init_set_prototype_of()}});function _is_native_function(fn){return Function.toString.call(fn).indexOf("[native code]")!==-1}var init_is_native_function=__esm({"node_modules/@swc/helpers/esm/_is_native_function.js"(){}});function _wrap_native_super(Class){var _cache=typeof Map=="function"?new Map:void 0;return _wrap_native_super=function(Class2){if(Class2===null||!_is_native_function(Class2))return Class2;if(typeof Class2!="function")throw new TypeError("Super expression must either be null or a function");if(typeof _cache<"u"){if(_cache.has(Class2))return _cache.get(Class2);_cache.set(Class2,Wrapper)}function Wrapper(){return _construct(Class2,arguments,_get_prototype_of(this).constructor)}return Wrapper.prototype=Object.create(Class2.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_set_prototype_of(Wrapper,Class2)},_wrap_native_super(Class)}var init_wrap_native_super=__esm({"node_modules/@swc/helpers/esm/_wrap_native_super.js"(){init_construct();init_get_prototype_of();init_is_native_function();init_set_prototype_of()}});function getGlobalConfig(config2){return{lang:config2?.lang??store?.lang,message:config2?.message,abortEarly:config2?.abortEarly??store?.abortEarly,abortPipeEarly:config2?.abortPipeEarly??store?.abortPipeEarly}}function getGlobalMessage(lang){return store2?.get(lang)}function getSchemaMessage(lang){return store3?.get(lang)}function getSpecificMessage(reference,lang){return store4?.get(reference)?.get(lang)}function _stringify(input){var type=typeof input;return type==="string"?`"${input}"`:type==="number"||type==="bigint"||type==="boolean"?`${input}`:type==="object"||type==="function"?(input&&Object.getPrototypeOf(input)?.constructor?.name)??"null":type}function _addIssue(context,label,dataset,config2,other){var input=other&&"input"in other?other.input:dataset.value,expected=other?.expected??context.expects??null,received=other?.received??_stringify(input),issue={kind:context.kind,type:context.type,input,expected,received,message:`Invalid ${label}: ${expected?`Expected ${expected} but r`:"R"}eceived ${received}`,requirement:context.requirement,path:other?.path,issues:other?.issues,lang:config2.lang,abortEarly:config2.abortEarly,abortPipeEarly:config2.abortPipeEarly},isSchema=context.kind==="schema",message2=other?.message??context.message??getSpecificMessage(context.reference,issue.lang)??(isSchema?getSchemaMessage(issue.lang):null)??config2.message??getGlobalMessage(issue.lang);message2&&(issue.message=typeof message2=="function"?message2(issue):message2),isSchema&&(dataset.typed=!1),dataset.issues?dataset.issues.push(issue):dataset.issues=[issue]}function _getStandardProps(context){return{version:1,vendor:"valibot",validate(value2){return context["~run"]({value:value2},getGlobalConfig())}}}function maxLength(requirement,message2){return{kind:"validation",type:"max_length",reference:maxLength,async:!1,expects:`<=${requirement}`,requirement,message:message2,"~run"(dataset,config2){return dataset.typed&&dataset.value.length>this.requirement&&_addIssue(this,"length",dataset,config2,{received:`${dataset.value.length}`}),dataset}}}function minLength(requirement,message2){return{kind:"validation",type:"min_length",reference:minLength,async:!1,expects:`>=${requirement}`,requirement,message:message2,"~run"(dataset,config2){return dataset.typed&&dataset.value.length<this.requirement&&_addIssue(this,"length",dataset,config2,{received:`${dataset.value.length}`}),dataset}}}function regex(requirement,message2){return{kind:"validation",type:"regex",reference:regex,async:!1,expects:`${requirement}`,requirement,message:message2,"~run"(dataset,config2){return dataset.typed&&!this.requirement.test(dataset.value)&&_addIssue(this,"format",dataset,config2),dataset}}}function getDefault(schema,dataset,config2){return typeof schema.default=="function"?schema.default(dataset,config2):schema.default}function function_(message2){return{kind:"schema",type:"function",reference:function_,expects:"Function",async:!1,message:message2,get"~standard"(){return _getStandardProps(this)},"~run"(dataset,config2){return typeof dataset.value=="function"?dataset.typed=!0:_addIssue(this,"type",dataset,config2),dataset}}}function object(entries,message2){return{kind:"schema",type:"object",reference:object,expects:"Object",async:!1,entries,message:message2,get"~standard"(){return _getStandardProps(this)},"~run"(dataset,config2){var input=dataset.value;if(input&&typeof input=="object"){dataset.typed=!0,dataset.value={};for(var key in this.entries){var value2=input[key],valueDataset=this.entries[key]["~run"]({value:value2},config2);if(valueDataset.issues){var pathItem={type:"object",origin:"value",input,key,value:value2};for(var issue of valueDataset.issues)issue.path?issue.path.unshift(pathItem):issue.path=[pathItem],dataset.issues?.push(issue);if(dataset.issues||(dataset.issues=valueDataset.issues),config2.abortEarly){dataset.typed=!1;break}}valueDataset.typed||(dataset.typed=!1),(valueDataset.value!==void 0||key in input)&&(dataset.value[key]=valueDataset.value)}}else _addIssue(this,"type",dataset,config2);return dataset}}}function optional(wrapped,default_){return{kind:"schema",type:"optional",reference:optional,expects:`(${wrapped.expects} | undefined)`,async:!1,wrapped,default:default_,get"~standard"(){return _getStandardProps(this)},"~run"(dataset,config2){return dataset.value===void 0&&(this.default!==void 0&&(dataset.value=getDefault(this,dataset,config2)),dataset.value===void 0)?(dataset.typed=!0,dataset):this.wrapped["~run"](dataset,config2)}}}function string(message2){return{kind:"schema",type:"string",reference:string,expects:"string",async:!1,message:message2,get"~standard"(){return _getStandardProps(this)},"~run"(dataset,config2){return typeof dataset.value=="string"?dataset.typed=!0:_addIssue(this,"type",dataset,config2),dataset}}}function parse(schema,input,config2){var dataset=schema["~run"]({value:input},getGlobalConfig(config2));if(dataset.issues)throw new ValiError(dataset.issues);return dataset.value}function pipe(...pipe2){return{...pipe2[0],pipe:pipe2,get"~standard"(){return _getStandardProps(this)},"~run"(dataset,config2){for(var item of pipe2)if(item.kind!=="metadata"){if(dataset.issues&&(item.kind==="schema"||item.kind==="transformation")){dataset.typed=!1;break}(!dataset.issues||!config2.abortEarly&&!config2.abortPipeEarly)&&(dataset=item["~run"](dataset,config2))}return dataset}}}var store,store2,store3,store4,NON_DIGIT_REGEX,ValiError,BASE64_REGEX,BIC_REGEX,CUID2_REGEX,DECIMAL_REGEX,DIGITS_REGEX,EMAIL_REGEX,HEXADECIMAL_REGEX,HEX_COLOR_REGEX,IMEI_REGEX,IPV4_REGEX,IPV6_REGEX,IP_REGEX,ISO_DATE_REGEX,ISO_DATE_TIME_REGEX,ISO_TIME_REGEX,ISO_TIME_SECOND_REGEX,ISO_TIMESTAMP_REGEX,ISO_WEEK_REGEX,MAC48_REGEX,MAC64_REGEX,MAC_REGEX,NANO_ID_REGEX,OCTAL_REGEX,ULID_REGEX,UUID_REGEX,CREDIT_CARD_REGEX,SANITIZE_REGEX,PROVIDER_REGEX_LIST,init_dist2=__esm({"node_modules/valibot/dist/index.js"(){init_call_super();init_class_call_check();init_define_property();init_inherits();init_wrap_native_super();NON_DIGIT_REGEX=RegExp("\\D","gu"),ValiError=function(Error1){"use strict";_inherits(ValiError2,Error1);function ValiError2(issues){_class_call_check(this,ValiError2);var _this;return _this=_call_super(this,ValiError2,[issues[0].message]),_define_property(_this,"issues",void 0),_this.name="ValiError",_this.issues=issues,_this}return ValiError2}(_wrap_native_super(Error)),BASE64_REGEX=RegExp("^(?:[\\da-z+/]{4})*(?:[\\da-z+/]{2}==|[\\da-z+/]{3}=)?$","iu"),BIC_REGEX=RegExp("^[A-Z]{6}(?!00)[\\dA-Z]{2}(?:[\\dA-Z]{3})?$","u"),CUID2_REGEX=RegExp("^[a-z][\\da-z]*$","u"),DECIMAL_REGEX=RegExp("^[+-]?\\d+(?:\\.\\d+)?$","u"),DIGITS_REGEX=RegExp("^\\d+$","u"),EMAIL_REGEX=RegExp("^[\\w+-]+(?:\\.[\\w+-]+)*@[\\da-z]+(?:[.-][\\da-z]+)*\\.[a-z]{2,}$","iu"),HEXADECIMAL_REGEX=RegExp("^(?:0[hx])?[\\da-f]+$","iu"),HEX_COLOR_REGEX=RegExp("^#(?:[\\da-f]{3,4}|[\\da-f]{6}|[\\da-f]{8})$","iu"),IMEI_REGEX=RegExp("^\\d{15}$|^\\d{2}-\\d{6}-\\d{6}-\\d$","u"),IPV4_REGEX=RegExp("^(?:(?:[1-9]|1\\d|2[0-4])?\\d|25[0-5])(?:\\.(?:(?:[1-9]|1\\d|2[0-4])?\\d|25[0-5])){3}$","u"),IPV6_REGEX=RegExp("^(?:(?:[\\da-f]{1,4}:){7}[\\da-f]{1,4}|(?:[\\da-f]{1,4}:){1,7}:|(?:[\\da-f]{1,4}:){1,6}:[\\da-f]{1,4}|(?:[\\da-f]{1,4}:){1,5}(?::[\\da-f]{1,4}){1,2}|(?:[\\da-f]{1,4}:){1,4}(?::[\\da-f]{1,4}){1,3}|(?:[\\da-f]{1,4}:){1,3}(?::[\\da-f]{1,4}){1,4}|(?:[\\da-f]{1,4}:){1,2}(?::[\\da-f]{1,4}){1,5}|[\\da-f]{1,4}:(?::[\\da-f]{1,4}){1,6}|:(?:(?::[\\da-f]{1,4}){1,7}|:)|fe80:(?::[\\da-f]{0,4}){0,4}%[\\da-z]+|::(?:f{4}(?::0{1,4})?:)?(?:(?:25[0-5]|(?:2[0-4]|1?\\d)?\\d)\\.){3}(?:25[0-5]|(?:2[0-4]|1?\\d)?\\d)|(?:[\\da-f]{1,4}:){1,4}:(?:(?:25[0-5]|(?:2[0-4]|1?\\d)?\\d)\\.){3}(?:25[0-5]|(?:2[0-4]|1?\\d)?\\d))$","iu"),IP_REGEX=RegExp("^(?:(?:[1-9]|1\\d|2[0-4])?\\d|25[0-5])(?:\\.(?:(?:[1-9]|1\\d|2[0-4])?\\d|25[0-5])){3}$|^(?:(?:[\\da-f]{1,4}:){7}[\\da-f]{1,4}|(?:[\\da-f]{1,4}:){1,7}:|(?:[\\da-f]{1,4}:){1,6}:[\\da-f]{1,4}|(?:[\\da-f]{1,4}:){1,5}(?::[\\da-f]{1,4}){1,2}|(?:[\\da-f]{1,4}:){1,4}(?::[\\da-f]{1,4}){1,3}|(?:[\\da-f]{1,4}:){1,3}(?::[\\da-f]{1,4}){1,4}|(?:[\\da-f]{1,4}:){1,2}(?::[\\da-f]{1,4}){1,5}|[\\da-f]{1,4}:(?::[\\da-f]{1,4}){1,6}|:(?:(?::[\\da-f]{1,4}){1,7}|:)|fe80:(?::[\\da-f]{0,4}){0,4}%[\\da-z]+|::(?:f{4}(?::0{1,4})?:)?(?:(?:25[0-5]|(?:2[0-4]|1?\\d)?\\d)\\.){3}(?:25[0-5]|(?:2[0-4]|1?\\d)?\\d)|(?:[\\da-f]{1,4}:){1,4}:(?:(?:25[0-5]|(?:2[0-4]|1?\\d)?\\d)\\.){3}(?:25[0-5]|(?:2[0-4]|1?\\d)?\\d))$","iu"),ISO_DATE_REGEX=RegExp("^\\d{4}-(?:0[1-9]|1[0-2])-(?:[12]\\d|0[1-9]|3[01])$","u"),ISO_DATE_TIME_REGEX=RegExp("^\\d{4}-(?:0[1-9]|1[0-2])-(?:[12]\\d|0[1-9]|3[01])T(?:0\\d|1\\d|2[0-3]):[0-5]\\d$","u"),ISO_TIME_REGEX=RegExp("^(?:0\\d|1\\d|2[0-3]):[0-5]\\d$","u"),ISO_TIME_SECOND_REGEX=RegExp("^(?:0\\d|1\\d|2[0-3])(?::[0-5]\\d){2}$","u"),ISO_TIMESTAMP_REGEX=RegExp("^\\d{4}-(?:0[1-9]|1[0-2])-(?:[12]\\d|0[1-9]|3[01])T(?:0\\d|1\\d|2[0-3])(?::[0-5]\\d){2}(?:\\.\\d{1,9})?(?:Z|[+-](?:0\\d|1\\d|2[0-3])(?::?[0-5]\\d)?)$","u"),ISO_WEEK_REGEX=RegExp("^\\d{4}-W(?:0[1-9]|[1-4]\\d|5[0-3])$","u"),MAC48_REGEX=RegExp("^(?:[\\da-f]{2}:){5}[\\da-f]{2}$|^(?:[\\da-f]{2}-){5}[\\da-f]{2}$|^(?:[\\da-f]{4}\\.){2}[\\da-f]{4}$","iu"),MAC64_REGEX=RegExp("^(?:[\\da-f]{2}:){7}[\\da-f]{2}$|^(?:[\\da-f]{2}-){7}[\\da-f]{2}$|^(?:[\\da-f]{4}\\.){3}[\\da-f]{4}$|^(?:[\\da-f]{4}:){3}[\\da-f]{4}$","iu"),MAC_REGEX=RegExp("^(?:[\\da-f]{2}:){5}[\\da-f]{2}$|^(?:[\\da-f]{2}-){5}[\\da-f]{2}$|^(?:[\\da-f]{4}\\.){2}[\\da-f]{4}$|^(?:[\\da-f]{2}:){7}[\\da-f]{2}$|^(?:[\\da-f]{2}-){7}[\\da-f]{2}$|^(?:[\\da-f]{4}\\.){3}[\\da-f]{4}$|^(?:[\\da-f]{4}:){3}[\\da-f]{4}$","iu"),NANO_ID_REGEX=RegExp("^[\\w-]+$","u"),OCTAL_REGEX=RegExp("^(?:0o)?[0-7]+$","iu"),ULID_REGEX=RegExp("^[\\da-hjkmnp-tv-z]{26}$","iu"),UUID_REGEX=RegExp("^[\\da-f]{8}(?:-[\\da-f]{4}){3}-[\\da-f]{12}$","iu"),CREDIT_CARD_REGEX=RegExp("^(?:\\d{14,19}|\\d{4}(?: \\d{3,6}){2,4}|\\d{4}(?:-\\d{3,6}){2,4})$","u"),SANITIZE_REGEX=RegExp("[- ]","gu"),PROVIDER_REGEX_LIST=[RegExp("^3[47]\\d{13}$","u"),RegExp("^3(?:0[0-5]|[68]\\d)\\d{11,13}$","u"),RegExp("^6(?:011|5\\d{2})\\d{12,15}$","u"),RegExp("^(?:2131|1800|35\\d{3})\\d{11}$","u"),RegExp("^5[1-5]\\d{2}|(?:222\\d|22[3-9]\\d|2[3-6]\\d{2}|27[01]\\d|2720)\\d{12}$","u"),RegExp("^(?:6[27]\\d{14,17}|81\\d{14,17})$","u"),RegExp("^4\\d{12}(?:\\d{3,6})?$","u")]}});var WhitelistedPluginObjectKeys,DefaultPluginStopConfig,PluginStatus,PluginZipFileSizeLimit,InstallPluginResult,init_constants2=__esm({"libraries/plugins/src/constants.ts"(){"use strict";WhitelistedPluginObjectKeys=["description","disable","icon","id","name","version","stop","author","errors","SettingsComponent"],DefaultPluginStopConfig={reloadRequired:!1},PluginStatus={Stopped:0,Fetching:1,Starting:2,Started:3},PluginZipFileSizeLimit=16*1024*1024,InstallPluginResult={Success:0,AlreadyInstalled:1,InvalidManifest:2,InvalidFileFormat:10,InvalidKeyFileFormat:11,InvalidSignatureFileFormat:12,SignatureVerificationFailed:20,KeyNoValidity:21,KeyRevoked:22,PluginUnsigned:23}}});var src_exports5={};__export(src_exports5,{pluginsStates:()=>pluginsStates,settings:()=>settings});var settings,pluginsStates,init_src7=__esm({"libraries/preferences/src/index.ts"(){"use strict";init_paths();init_src6();settings=createStorage(SettingsFilePath,{initial:{safeMode:{enabled:!1,enabledNextLaunch:!1}}}),pluginsStates=createStorage(PluginsStatesFilePath,{initial:{}})}});var logger3,init_shared4=__esm({"libraries/plugins/src/shared.ts"(){"use strict";init_common();logger3=new Logger("revenge.plugins")}});function registerPlugin(manifest,definition,opts={}){if(manifest.id in registeredPlugins)throw new Error(`Plugin "${manifest.id}" is already registered`);var options={external:opts.external??!0,manageable:opts.manageable??opts.external??!0,enabled:opts.enabled??!opts.external},status=PluginStatus.Stopped,cleanups=new Set,def={...manifest,context:lazyValue(()=>ctx,{hint:"object"}),external:options.external,manageable:options.manageable,lifecycles:{prepare(){ctx.patcher||=createPatcherInstance(`revenge.plugins.plugin(${manifest.id})`),ctx.storage||=createStorage(PluginStoragePath(manifest.id),{initial:definition.initializeStorage?.()??{}})},subscribeModules:definition.onMetroModuleLoad?()=>{def.lifecycles.prepare();var unsub=subscribeModule.all((id,exports)=>definition.onMetroModuleLoad(ctx,id,exports,unsub));def.status=PluginStatus.Started}:void 0,beforeAppRender:definition.beforeAppRender,afterAppRender:definition.afterAppRender,beforeStop:definition.beforeStop},state:lazyValue(()=>pluginsStates[manifest.id]??={enabled:options.enabled,errors:[]},{hint:"object"}),get status(){return status},set status(val){status=val,this.stopped||(this.state.errors=[])},get enabled(){return this.state.enabled},set enabled(value){this.manageable&&(this.state.enabled=value)},get stopped(){return this.status===PluginStatus.Stopped},SettingsComponent:definition.SettingsComponent?()=>(0,import_react2.createElement)(definition.SettingsComponent,ctx):void 0,disable(){if(!this.manageable)throw new Error(`Cannot disable unmanageable plugin: ${this.id}`);return this.enabled=!1,this.stopped?DefaultPluginStopConfig:this.stop()},enable(){if(!this.manageable)throw new Error(`Cannot enable unmanageable plugin: ${this.id}`);this.enabled=!0},errors:[],start(){return _async_to_generator(function*(){var handleError=e=>{this.errors.push(e),this.disable()};if(!this.enabled)return handleError(new Error(`Plugin "${this.id}" must be enabled before starting`));if(!this.stopped)return handleError(new Error(`Plugin "${this.id}" is already started`));if(logger3.log(`Starting plugin: ${this.id}`),this.status=PluginStatus.Starting,isAppRendered&&this.lifecycles.beforeAppRender)return handleError(new Error(`Plugin "${this.id}" requires running before app is initialized`));if(this.lifecycles.prepare(),this.lifecycles.subscribeModules?.(),this.lifecycles.beforeAppRender)try{ctx.context.beforeAppRender=(yield this.lifecycles.beforeAppRender(ctx))??null}catch(e){return handleError(new Error(`Plugin "${this.id}" encountered an error when running lifecycle "beforeAppRender": ${e}`,{cause:e}))}if(!this.lifecycles.afterAppRender)return void(this.status=PluginStatus.Started);var _this=this,callback=function(){var _ref=_async_to_generator(function*(){try{yield awaitStorage(ctx.storage),ctx.context.afterAppRender=(yield _this.lifecycles.afterAppRender(ctx))??null,_this.status=PluginStatus.Started}catch(e){return handleError(new Error(`Plugin "${_this.id}" encountered an error when running lifecycle "afterAppRender": ${e}`,{cause:e}))}});return function(){return _ref.apply(this,arguments)}}();isAppRendered?callback():afterAppRender(callback)}).apply(this)},stop(){if(this.stopped)return DefaultPluginStopConfig;logger3.log(`Stopping plugin: ${this.id}`);var stopConfig=DefaultPluginStopConfig;try{var _$val=this.lifecycles.beforeStop?.(ctx);stopConfig=Object.assign(DefaultPluginStopConfig,_$val)}catch(e){this.errors.push(new Error(`Plugin "${this.id}" encountered an error when running lifecycle "beforeStop": ${e}`,{cause:e}))}if(this.errors.length){this.state.errors.push(...this.errors);var msg=`Plugin "${this.id}" encountered ${this.errors.length} errors
${this.errors.map(getErrorStack).join(`
`)}`;throw logger3.error(msg),new AggregateError(this.errors,msg)}for(var cleanup of cleanups)cleanup();return ctx.patcher.destroyed||ctx.patcher.destroy(),this.status=PluginStatus.Stopped,stopConfig}};objectFreeze(def),objectSeal(def);var ctx={patcher:null,storage:null,context:{beforeAppRender:null,afterAppRender:null},revenge:lazyValue(()=>revenge,{hint:"object"}),cleanup(...funcs){for(var cleanup of funcs)cleanups.add(cleanup)},plugin:makePluginDefinitionProxy(def)};return registeredPlugins[manifest.id]=def,def}function makePluginDefinitionProxy(def){return new Proxy(def,{get(target,prop){if(WhitelistedPluginObjectKeys.includes(prop))return target[prop]},has(target,p){return WhitelistedPluginObjectKeys.includes(p)&&p in target},defineProperty(){throw new Error("Cannot define internal plugin definition properties")},ownKeys(target){return Object.keys(target).filter(key=>WhitelistedPluginObjectKeys.includes(key))},set(){throw new Error("Cannot set internal plugin definition properties")}})}var import_react2,registeredPlugins,externalPluginsMetadata,init_internals=__esm({"libraries/plugins/src/internals.ts"(){"use strict";init_async_to_generator();init_src4();init_metro();init_src2();init_constants2();init_src7();init_paths();init_src6();init_errors();init_functions();init_lazy();init_shared4();import_react2=__toESM(require_react(),1),registeredPlugins={},externalPluginsMetadata=createStorage(ExternalPluginsMetadataFilePath)}});var PluginManifestSchema,PluginDefinitionSchema,init_schemas=__esm({"libraries/plugins/src/schemas.ts"(){"use strict";init_dist2();PluginManifestSchema=object({name:pipe(string(),minLength(1),maxLength(100)),description:pipe(string(),minLength(1),maxLength(500)),author:pipe(string(),minLength(1),maxLength(100)),id:pipe(string(),regex(/^[a-z0-9-_\.]{1,100}$/)),version:pipe(string(),minLength(1),maxLength(50)),icon:pipe(string(),minLength(1),maxLength(100))}),PluginDefinitionSchema=object({beforeAppRender:optional(function_()),afterAppRender:optional(function_()),beforeStop:optional(function_()),onMetroModuleLoad:optional(function_()),SettingsComponent:optional(function_()),initializeStorage:optional(function_())})}});var src_exports6={};__export(src_exports6,{InstallPluginResultMessage:()=>InstallPluginResultMessage,installPlugin:()=>installPlugin,registerExternalPlugin:()=>registerExternalPlugin,registerExternalPlugins:()=>registerExternalPlugins,startPlugins:()=>startPlugins});function parseZipFromUri(uri){return _parseZipFromUri.apply(this,arguments)}function _parseZipFromUri(){return _parseZipFromUri=_async_to_generator(function*(uri){if(uri.startsWith("http://")||uri.startsWith("https://")){var headRes=yield fetch(uri,{method:"HEAD"}),cl=headRes.headers.get("content-length");if(!cl)throw new Error('Server did not provide "Content-Length" header');if(Number(cl)>PluginZipFileSizeLimit)throw new Error(`File size exceeds the limit of ${PluginZipFileSizeLimit} bytes`);var res=yield fetch(uri);if(!res.ok)throw new Error(`Failed to fetch: ${res.status} ${res.statusText}`);var buf=new Uint8Array(yield res.arrayBuffer());return[!1,unzipSync(buf)]}if(import_react_native4.Platform.OS==="android"&&uri.startsWith("content://")){var fs=ReactNative.NativeModules.RNFSManager,b64=yield fs.readFile(uri);return[!0,unzipSync(Buffer.from(b64,"base64"))]}if(import_react_native4.Platform.OS==="ios"&&uri.startsWith("file://")){var buf1=yield fetch(uri).then(res2=>res2.arrayBuffer());return[!0,unzipSync(new Uint8Array(buf1))]}throw new Error(`Unsupported URI: ${uri}`)}),_parseZipFromUri.apply(this,arguments)}function installPlugin(uri){return _installPlugin.apply(this,arguments)}function _installPlugin(){return _installPlugin=_async_to_generator(function*(uri,trustUnsigned=!1){try{var[local,{"manifest.json":manifestJson,"source.zip":sourceZip,public_key:publicKey,"source.zip.sig":sourceZipSig}]=yield parseZipFromUri(uri);if(!manifestJson||!sourceZip)return InstallPluginResult.InvalidFileFormat;var sourceZipHash=sha512(sourceZip);try{var manifest=parse(PluginManifestSchema,JSON.parse(new TextDecoder().decode(manifestJson)));if(manifest.id in registeredPlugins)return InstallPluginResult.AlreadyInstalled;if(!sourceZipSig||!publicKey){if(!trustUnsigned)return InstallPluginResult.PluginUnsigned}else try{var key=readRevengeKey(publicKey);if(key.isPrivate())return InstallPluginResult.InvalidKeyFileFormat;if(!key.isValid())return InstallPluginResult.InvalidKeyFileFormat;if(!key.verify(readRevengeSignature(sourceZipSig).signature,sourceZipHash))return InstallPluginResult.SignatureVerificationFailed}catch{return InstallPluginResult.InvalidKeyFileFormat}return yield FileModule.writeFile("documents",ExternalPluginManifestFilePath(manifest.id),JSON.stringify(manifest),"utf8"),yield FileModule.writeFile("documents",ExternalPluginSourceFilePath(manifest.id),Buffer.from(sourceZip).toString("base64"),"base64"),externalPluginsMetadata[manifest.id]={local,source:local?void 0:uri},registerExternalPlugin(manifest.id),InstallPluginResult.Success}catch{return InstallPluginResult.InvalidManifest}}catch{return InstallPluginResult.InvalidFileFormat}}),_installPlugin.apply(this,arguments)}function startPlugins(){logger3.info("Starting plugins...");var promises=[],errors=[];for(var plugin4 of Object.values(registeredPlugins))plugin4.enabled&&promises.push(plugin4.start().catch(e=>errors.push(e)));return new Promise((resolve,reject)=>{Promise.all(promises).then(()=>errors.length?reject(new AggregateError(errors,`Encountered ${errors.length} errors while starting plugins:
${errors.map(getErrorStack).join(`
`)}`)):resolve()).catch(reject)})}function registerExternalPlugin(id){return _registerExternalPlugin.apply(this,arguments)}function _registerExternalPlugin(){return _registerExternalPlugin=_async_to_generator(function*(id){var manifestJson=yield FileModule.readFile(`${DDP}/${ExternalPluginManifestFilePath(id)}`,"utf8"),pluginZipB64=yield FileModule.readFile(`${DDP}/${ExternalPluginSourceFilePath(id)}`,"base64");if(!manifestJson||!pluginZipB64)return!1;var manifest=parse(PluginManifestSchema,JSON.parse(manifestJson)),{"plugin.js":pluginJs}=unzipSync(Buffer.from(pluginZipB64,"base64"));try{var definePlugin=def=>def,definePluginCallback=globalEvalWithSourceUrl(`((definePlugin)=>{return ${new TextDecoder().decode(pluginJs)}})`,`revenge.plugins.definePlugin(${manifest.id})`);return registerPlugin(manifest,definePluginCallback(definePlugin)),logger3.log(`Registered external plugin: ${manifest.id}`),!0}catch{return logger3.error(`Failed to register external plugin: ${manifest.id}`),!1}}),_registerExternalPlugin.apply(this,arguments)}function registerExternalPlugins(){return _registerExternalPlugins.apply(this,arguments)}function _registerExternalPlugins(){return _registerExternalPlugins=_async_to_generator(function*(){yield awaitStorage(externalPluginsMetadata),yield Promise.all(Object.keys(externalPluginsMetadata).map(registerExternalPlugin))}),_registerExternalPlugins.apply(this,arguments)}var import_react_native4,InstallPluginResultMessage,DDP,init_src8=__esm({"libraries/plugins/src/index.ts"(){"use strict";init_async_to_generator();init_sha512();init_v1();init_native();init_paths();init_src6();init_errors();import_react_native4=__toESM(require_react_native(),1);init_browser();init_dist2();init_internals();init_shared4();init_constants2();init_schemas();InstallPluginResultMessage={[InstallPluginResult.Success]:"Plugin installed",[InstallPluginResult.InvalidFileFormat]:"Invalid plugin file",[InstallPluginResult.InvalidManifest]:"Invalid plugin manifest",[InstallPluginResult.AlreadyInstalled]:"Plugin is already installed",[InstallPluginResult.InvalidSignatureFileFormat]:"Invalid signature file",[InstallPluginResult.InvalidKeyFileFormat]:"Invalid key file",[InstallPluginResult.KeyNoValidity]:"Key has no validity. It may be expired or have been tampered.",[InstallPluginResult.KeyRevoked]:"Key has been revoked. This key may've been compromised.",[InstallPluginResult.SignatureVerificationFailed]:"Signature verification failed. The plugin may've been tampered.",[InstallPluginResult.PluginUnsigned]:"Unsigned plugin requires user confirmation. If you see this message, this is a bug."};DDP=FileModule.getConstants().DocumentsDirPath}});var hermes_default,init_hermes=__esm({"src/assets/hermes.webp"(){hermes_default="data:image/webp;base64,UklGRiYIAABXRUJQVlA4WAoAAAAQAAAAXwAAXwAAQUxQSOgFAAABoEXbtilJOu/el2gbZbvSbdu2bdtluyoVKtu2bdu2XZnxsMd4kRH33Bef/RMRDiRJCppd8OLdxkIiyJEf0P9elMLQoZCmaQrDz5swpUhEU/rYXJ8cwmC15OuFc+fxOXf6yNA/bzRMjzmkDzCJHus2eeaMmWU4Y+a0wvu9D/CDe4Z9XI5ISP1aax6U7GXQcdh6tCwbHs8Nuo9I8zKSci/BslRtxiCaD0f/4HgNBKbmEuk4Dbr6IEqhomvhrZawfQm6lgN0McjU8bVhVHj6BXfAN1ou1lalFL5N3c36AVycooWe8YtRnMtjF0FZYPI8vQULPpaSHG7QpPd43eNgA9EqHw0snCpPgomuvO6x0VfSvXBdPz8uIIN5Mhc2D9+QSY0QhZ/lNzJ5Vz0CZufcEbvnAX66XJwvR4Jjc3nVxYFrKNbPg+H4adpxjEmfcCOzyk4pacfhwvXNHLyCDAYCPFjoTGXLnJjLdfxx2HiZJMO9CDYP78TddnO4p44DiEm1v2ohRKa6XneC2+0ZcY9FHnCm54SNJ6IAoNuDDlZx5uy74LJ/wriyAFjcoTDYd/ikBRsPlwBwXY3AyRuUAZO+5ipnkIi78Zdg2wMD4UBRQX5+ce/xa84ALh9uXRJK9OAq25MZb2YCh4pDkXA4EgkHCvPDU49Bw9xOUuleDod3eDMRatvA1oJgJBRjOBIqCCzTwF0qGHTTGbis9qE+iQRd+y5s7IwURMKhMoyEu8zjB7NIqJQP8KyD3WlkUILyt1fOjM4vCntfCscE+Tu5T2NJFRVM+pGrnJC4fyU1ggVsHlKUX1gcCHofi8bz4GDfFSRFQqZSX66yZeIBKui6C3BcuAcWjxvUp0coECiMXGIVG3NIzTVwfJlg5Mb4ycUuOX/i6JGDu0qZytNPVqlftywbZGRkZNb6ivv4WTVIKH6+XsCIARf9mFkRdeKot5rCNjN+/CcY3Fhd/bE/h67ad+pCiQvm0OZNKcxZzMYY9fBJ2wP8Wr1+rYw7Hnrqudc+/aqHxtyRgHrzbyPl/GvSX8Du22+/87bc7MyMBg3L/QwbSaSNZxjTS/peYEiNO2/Lu+22226/q07QR2gMT6V5EVG0rXbHbXke76g9PqlwsFmw3q/dUIoONXPujJXc7XCSCAtDSXLWNzTGK6PvqZV7x52Zz0fhJhV/sBZQgmiUFzzc6M6aDar/6tmknjxGknilHTzu7/31HQOSrLxQgQQ3OXx0I2I8fQnJtWv5GZBJxherkXRa6KeRBEnPf3eLGYeSjZ/IJB2nxz9hJffkQdJLdGUajUyy8uwtZGjBoNRdcJJql2tWEtQw2ZGeZOruAnwIK7n4Rh/h5MLF3Z5Sk6uYEdtS0WHXE9eToRmpeJG56OK0hPtOW6yrlPQsbF5d2G/I4MH9+pZl7x6BJcxiIagfacmK2FjGaOAeODx8qgtBM2AzF/rpUkoznikifTcPLvIST9r+5dE23lJ1h6BMrvLoNQq3X4mWC7eeekX9Lne7YB7HMlbi7IW+L9sdFrrqRiQNYSrHkeRsd/DwviYMklvhsJrblEy/tjuyNE8E1XGYymeVC326jZ0PX6mpNOkd2D4lTJ9xE6bp+spCpnIjqZVBnXxY072UOaoHMxbKS7jXektbeetZuCz8olbeeEojH9a86hPcPPchtfIebuK5J01b2RgWqzvO3KyOfMdVTiKpO6lOgs1eKqjQm6tspR254iAzEmE0d5VGPqwZyYMLFr5UK8udZyrtmmqlP7tILm5TKx/hPn47UrRfCv2YyiPXqJW/wuLnw5ruBbCZ2xGCVCjiKpvov5NnsRBFazKV6MA9PKx7MKkToqy9gvqMw+uIsuwa0l/yZsJ1lLUEHdW9YVDKTkQZNW520RQ2AqKJ/yCKAmM4vSHpYSBqKQh8Wrbqiv+BiqXNiQSrAx49ABU3Pe5VH2BQ7RZjp0yO45RBP1cqU1nl8g9DgxKwf/tnyKt+kLUzz31UJKslPlGYUkgpPHo6aQqdFNGUiWhKg/5vIwFWUDggGAIAAHATAJ0BKmAAYAA/HYS4Vi0oP6Oh2A5b8COJZizAA32RUQAeXH0ROeF00mnZi3Cs34GHeFMPKVzGYcunK+QUT/C3NINLqvx79scX8ZMM7nOMDHyzSHWtGsvMgTH7nb0+pIN6uZQBvFRXKtc6LLi9ZQKhZpYr8rT0UB1kEjG/CKiGYURHo/GSlciC95/OLqBxBVWF+EQXIuk2N2BdeHYlyj7za59gAP7vgj/+vssoBn+g2iClDvdcp/UtniO+2jSbvjLQJxMg+nshgrmEVmN5CP6WuBcxLLvg24IZX8A5YrLtP8an7/Nkd7QLEI9z46atnISBbVv//+ZHCBt/l34WG4y4SHlW7MycwvHYrwidZNaeubFL6mpQ+pUihICneYd/qB8BdKG9awX0x2uOOKkKGQPK9x7fSPuQZNW+Lmu2Y+jUeZwN1yrkwbehnXsMqt/NLjq0HiFO3YWnXcIRYgINP0JEdn0mOP6J8W/OWcBIXtXOXrLg5PxJ/sY/8xlftuZq1JTekn9p/weYF8plztTMvyJMCH7HPkLYJGxKH8LZxEvVCkZtiibWOHorFyg6N/gAWb3s/RTaJN9KxgaQfmFrEC/k86QuhQ7BT2Ub4KeT6VuvrrqOAN0/rl6JEd1/9VX5gcRVP1B8p+b3VlLEgEDMiUGD19rJh5c1Jd7Slyrx+xMMSdIypKOQZRgInALFaymeFI5w/pgEQfAA"}});var plugin_default,init_plugin=__esm({"src/assets/plugin.webp"(){plugin_default="data:image/webp;base64,UklGRqwDAABXRUJQVlA4WAoAAAAQAAAAPwAAPwAAQUxQSOQCAAABoFttmyK5+gp6znpiGI0jZllLCYhZ9pKrIORRBvKY5igEhaBLlpgCuEwLU9D1ndM9U11dnUBEMHDbNo5j7b4XNO0X0GH0MP+rvdmhCkyvkrZLZi1H/DWvhJRCRDAVq/MZJfX4sVqJCHY645ICsHnvwX59AzWBmUUvlzRw4t4Pfxj//9fhDSBCkY/+K0biy7kOuLjK4HyoonSOdDRZKbBE2tjEB7rMrJCe8Qi0uSnJRp+BypIthdJp0PMTIDKAKpaTIB2vQWXg2O2ZhZo0PYduz+AfhlRY8rNovapwiatkYJoC/9vVWgJTb2nIZLkDkO1Xt3+jTZfZ217Q2JbuwN83QaBDe76p6dCOd6DRqXm82tOhLYdQQHf2XN3Tei60UukuyUvJ+6US40k7dlzcDSynE9t+6/VpyLijrLRgcGkKGhJ4SY4GTY5SpDcU//Dt9rqYDGkMT0Ei7tagwG2u8tuOGmt5HzLhPqE+o2jRUswEGn7tP6l5AIikmy60yXeNhbGkGrF0EzTaMMy0SNgCyxxv6ILnI0xukzLqVd5G0bpA1DzBZAJWSxFvf8t/jkFmqC8lf9kGPZG6pwaxBJ66NEimqb54fh+zBO5zdBoqktbpNNYXy2+VBfCAhq8jv0qodC6OFYhGqwpreCtHidmzSk82uN75iNbyZYYSqTBMa5t+eUJnOcyAxPHUtpm+rMhSH+7QpRVHH/gkBxB4Q59aXUZ99HKw6ffk8lrWrYBG+z17TbLo+W17jvp6wKWLhm+nMhT4Xf+16B5wlZegWkt8Tu+dMPCfQftVjed0qSxM3z6W4VIK1+gSWQYy5R0+0SexAq2KLOVZ4QxDGkXOQVCjfW4MHUN0pyWXM1ObzpWhCu8CVy9CZ2VEM3vuS2zyqt8BAG4Mv65688cP904gH73YGGpsSNY/uHdzfQOJbDFtI2MoofREnyfjEuZXG4Zgoh6bImv8ylHCICivLLk63SW4aX+dRw/dCVZQOCCiAAAAsAYAnQEqQABAAD7RWqVNqCUjIjHxyAEAGglAGAuHCCpP+8AAGMm4PtvKRO9N3okmIMW/3r1BCdO6DPbWWEgA/ubOvD2Xu9llQOeRcBLZf1gDZrKSfkzxqDVi7g8et6DeeSWy/tpGFi/nzKq1ekcOxPAqH9/BPjYxWmOC+bcRAyI0Fit4JY11H8Qq9Ohs0jQGO6fW+wDjSQFZwq23NLAAAAAA"}});var react_default,init_react=__esm({"src/assets/react.webp"(){react_default="data:image/webp;base64,UklGRmQCAABXRUJQVlA4WAoAAAAQAAAAKwAAKwAAQUxQSBQCAAABoFVte9VMeyTEwbwS6qA4+HBAHFAH1EHGQcYBEl4JSHglvBLuA0I382+OI2IC9N9Yyjv2heqALxdl9YRj+dATSCCW0yOBBJ4fqeRaVKpDmDn4UqSaPD4RLBrWIJK4a1jJD0yELi0gii6D6b2NdvUEeF411vc6y8UDtg2Wi0r/wg02aYPpL7Cgm5n9Ie07VtuevBjeZvvMxhEMM4aMI9jeKc8Ecm9gupxg3xOIxV56JJB3Kdj04kZIN4B4XJmD35NfehJ6tQSbjLw7hA0siLvUWS35GZidNJGlsks1CDsFR5FU8U6XpDkgZklyNmeRZAdRpEoUSSoJmKSJ4STJSCiSVIJNOvjR0KFLko9ckjp0DSdCAo1nsBOXpwnuowJSUkYVplOO8lRhHRkpOdvoAD+1UT8F+OiJSxN5OxmRzJIsTmGSKpH8Ot1gkdTIRdJKr0SRZM2PrUhSsDQ2SXPSdG7QTc6PDja9/CQ047IOXeMN6FA0kfaKwY8KdMhV19aB7FPp+CtOL1MD6KaXzTkHtHmabjZN9Tck573o3UZvzvvpW6fp7c4i6fazQ/gRfkBfbpIq/VOSnKNIJTg0/E4JjlIOwr7QWEey4DgI03ilvbfSL2QBYbrcWd4zslzMCbFcWGLvyWkDc/Adug1+4/rgLfF5Xh1ylR4Jvk7VSfuE5uCcrUiSdYZ512et7t7Xokurzfta9H8TVlA4ICoAAAAwAwCdASosACwAP/3+/3+/uzayI4gD8D+JaQAAG4G9Pg4AAP7mtQAAAAA="}});var revenge_default,init_revenge=__esm({"src/assets/revenge.webp"(){revenge_default="data:image/webp;base64,UklGRkgGAABXRUJQVlA4WAoAAAAQAAAAXwAAXgAAQUxQSMoFAAAB8ERtu2nbtm19Of+5tmHbtm3btm3btm3btm3bZjdaG73V/Of/CxS2WktozkhETAD+X9Q5H0IQ10wuBEGhSAN5AJCpltp6n51WnQIQ1zQeE+x63qOfDWN26H3LA9IsDuN/wlyNaiRvGAvSKAHXc0zUZMxaTPxoMvgGCdiAyvL9fE/gGsNjoj+YKrCfF0IGyjmREHwnCG5hZFWjzQtfm/MSgke+HzDXg02YWD3yIoQanJcgDrl+2qW2O+Ps2SD1OS9BHDDx37UkfilwVXxA7tizrLznBY9/OZwkh82JUM15CUGQP/4Cr1FZo3HMrPDlnABjzbvuwVe/8GMvc03jGH43AXwJ5yWIR/4UC29+7C1v/EYm1pq4JqSUB+a+5LvE3KRRk5Fkm88AHs55CeKQ2zPdcjueef/Hg5ifWG/kQQhlPHB6Ipli1GQs2+blcIL88eZYY79Ln/56FPM1Rk3G2q6FlPAY+3kyJmONyiMBTLrQxkfd+NovbeaaRk3GgVW+Al/kgGfZb6zXyDfue3+QMTfFqMnYicZBk8AVCE5mP2u3xKzGqMnYwcozIHkes/bT6iM1JjN2vLE9O3xOwDmMbN7IkxFy4L5gaiDlM/B5s42hNVDi5x4uZ3EaG9g4dKqCmXppjcRF4XN6fmBqICo3g2Q8nqM2UeTRCJmAKxmb6Yaig6hNpHwZLiNYh6mJEn8cGw6Ax1yR1kDGvpnhAThM+DtTA9G4AgQAHN6i1mEpqnWKqZpVU+6MkBHcylhHrsZkA2UajVmrFHlGXsDxdSjvWua8t3pJMmqqzVJMJPnnI/ut8AetivJeSEawBbWSkQsCmGnra780khbVqqWoJDni5ZNWmhDAyYzV3gMcAI9FWV35LkJwAGSBfe77lSRVyylJtj+6dONpAUB6sDBpFYx/TZTjMMVgWpXIqxEALwIA4y9/3PNDSSthJH+4bZe5AMAFcXAY71emSjoPfI77hKnayRkAzgcBgKnXuotWYBx9zGJjA0AQh6yD+6gSE9eBAIDgIWq1UwuyToIHVmQqSPwZgASPYgf/cbXIAxAyAecwVrsJUiLbwr6MBcbeWeFR2mHCP2nVLoXk7UKtkviZR8WAW0owcUNIOcEyNFZVPgmfEaxIq0LjCpBSDpMNohUp70Qo18LFjJUSvwxwADxm6KVVUT4FcWV6cAoji41cBKGMYKZeWiXjsKlzHMb6lqkKlfuh5QpcD5YyWgkqPwBCUQCepbLOxeEBwOM5aiUjtwWCOOd8cFhwMBNLRz4GBPHOeQnAbVTWqNwSkgm4grESE3n2uCjcrY/KisoPF0Ph3C9TWWfksQh5B9VBM/5y0tJTTzD5gvt9QCorR/LeTWadaKKZ1rslMrKmmyAZwTpMNZCR5NA/BhmpxhqVZN9ff40mqaxX+SpcxmPuSKuDKRpJxsR6TZUkUzTWnPjzeHAAHCb4oyaSZmYcQDMz1m/smwUeuW9S6+pu48qQjOA2xiZS7oaQCTi+mSLPzhNsSm0i5QOQjMeMo2kNlPgh8j0epzaQ8d9J8gRrNlSaLw8e97PdPDQuVmKyP9huHOOY2QogmGcI29YwiV/4IgTM+iEZNVluM7R5EkIRAvxxg1jSksZcVdWULNtpkb9PBFcCAky250PfDu/t+69fWa8ltQ5SckUISrsAoGeqGWeebc4Fll5lva12P/i4sy676b6nX33v8x//HNanzFrHKLk2Aqq6IKg3jDPhlDPNs+gK665xMVOHKLkuWqjTOZ8VkZAv3qHsB52i5HpooWNd1nvfg4sY2ZGJ3BAtdLzDVMNpHZHIjdBC5wvWY2InJnJTtNAVm3ZGIjdDC93osQg7MZFbooWudHCfUQcskdughS4N2IntgUrktgjoWocH2T8widwRAd3r0fMyVa02a5M7IaCbPeR6khrrVTJuhYDu9sDqz0fWrQ/PDUG3OwHm2vbQw2o89LCd5gYCGlA86vcezehD3R7/iw1WUDggWAAAAPAGAJ0BKmAAXwA//f7/f7+7NrIuKAPwP4lpAABtkf3xmcYIEERHlib342OFAOaBJke9Cv7QJQApzTcmzxGs0vAA/ua1avUACK+DwABBcZhHeKGCV8ggAAA="}});var init_assets=__esm({"src/plugins/assets/index.ts"(){"use strict";init_src5();init_internals();init_hermes();init_plugin();init_react();init_revenge();registerPlugin({name:"Assets",author:"Revenge",description:"Registers Revenge's assets as React Native assets",id:"revenge.assets",version:"1.0.0",icon:"ImageIcon"},{beforeAppRender(){registerCustomAsset({name:"Revenge.RevengeIcon",type:"webp"},revenge_default),registerCustomAsset({name:"Revenge.HermesIcon",type:"webp"},hermes_default),registerCustomAsset({name:"Revenge.ReactIcon",type:"webp"},react_default),registerCustomAsset({name:"Revenge.PluginIcon",type:"webp"},plugin_default)}},{external:!1})}});function treeSearch(tree,filter,opts,depth){if(!(depth>opts.maxDepth||!tree)){if(filter(tree))return tree;var isArray=Array.isArray(tree),keys=isArray?tree:Object.keys(tree);for(var key of keys){var item=isArray?key:tree[key];if(!(typeof item!="object"||item===null)&&!(!isArray&&opts.walkable.length&&!opts.walkable.includes(key))&&!(!isArray&&opts.ignore.includes(key))){var found=treeSearch(item,filter,opts,depth+1);if(found)return found}}}}function findInTree(tree,filter,{walkable=[],ignore=[],maxDepth=100}={}){return treeSearch(tree,filter,{walkable,ignore,maxDepth},0)}var init_trees=__esm({"libraries/utils/src/trees.ts"(){"use strict"}});function findInReactTree(tree,filter){return findInTree(tree,filter,{walkable:["props","children","child","sibling"]})}var init_react2=__esm({"libraries/utils/src/react.ts"(){"use strict";init_trees()}});function PageWrapper(props){return jsx(import_react_native5.View,{style:styles3.growable,children:jsx(import_react_native5.ScrollView,{keyboardShouldPersistTaps:"handled",contentContainerStyle:styles3.resizable,children:jsx(Stack,{style:[props.withTopControls?styles3.paddedContainerTopControls:styles3.paddedContainer,styles3.resizable],spacing:28,direction:"vertical",children:props.children})})})}var import_react_native5,styles3,init_Wrapper=__esm({"src/plugins/settings/pages/(Wrapper).tsx"(){"use strict";init_react_jsx_runtime();init_components();import_react_native5=__toESM(require_react_native(),1),styles3=import_react_native5.StyleSheet.create({growable:{flexGrow:1},resizable:{flex:1},paddedContainer:{paddingHorizontal:16,paddingTop:24},paddedContainerTopControls:{paddingTop:12,paddingHorizontal:16}})}});function AboutSettingsPage(){var runtimeProps=HermesInternal.getRuntimeProperties();return jsx(import_react_native6.ScrollView,{children:jsxs(PageWrapper,{children:[jsx(TableRowGroup,{title:"App",children:[{label:"Revenge",icon:"Revenge.RevengeIcon",trailing:"local (d4ca2de-dirty)"},{label:"Discord",icon:"Discord",trailing:`${ClientInfoModule.Version} (${ClientInfoModule.Build})`}].map(props=>jsx(VersionRow,{...props}))}),jsx(TableRowGroup,{title:"React",children:[{label:"React",icon:"Revenge.ReactIcon",trailing:React.version},{label:"React Native",icon:"Revenge.ReactIcon",trailing:runtimeProps["OSS Release Version"].slice(7)},{label:"Hermes Bytecode",icon:"Revenge.HermesIcon",trailing:`${runtimeProps["Bytecode Version"]} (${runtimeProps.Build})`}].map(props=>jsx(VersionRow,{...props}))})]})})}function VersionRow(props){return jsx(TableRow,{label:props.label,icon:jsx(TableRowIcon,{source:getAssetIndexByName(props.icon)}),trailing:jsx(TableRowTrailingText,{text:props.trailing}),onPress:()=>{clipboard.setString(`${props.label} - ${props.trailing}`),toasts.open({key:`revenge.toasts.settings.about.copied:${props.label}`,content:"Copied to clipboard",icon:icons_exports.CopyIcon})}})}var import_react_native6,init_About=__esm({"src/plugins/settings/pages/About.tsx"(){"use strict";init_react_jsx_runtime();init_src5();init_common();init_components();init_native();init_Wrapper();import_react_native6=__toESM(require_react_native(),1)}});var contributors_default,init_contributors=__esm({"src/plugins/settings/contributors.ts"(){"use strict";contributors_default={team:[{name:"Palm",url:"https://palmdevs.me",icon:"https://github.com/PalmDevs.png",roles:["Founder","Lead Developer"]},{name:"oSumAtrIX",url:"https://osumatrix.me",icon:"https://github.com/oSumAtrIX.png",roles:["Project Manager","Android Development"]},{name:"Nexpid",url:"https://github.com/nexpid",icon:"https://github.com/nexpid.png",roles:["Developer"]}],contributors:[{name:"Marsh",icon:"https://github.com/marshift.png",url:"https://marsh.zone",roles:["Collaborator"]},{name:"Cristian",icon:"https://github.com/Cristiandis.png",url:"https://github.com/Cristiandis",roles:["Contributor","Early iOS Tester"]},{name:"Bread Cat",icon:"https://github.com/breadcat0314.png",roles:["Early iOS Tester"],url:"https://github.com/breadcat0314"},{name:"Puhbu",icon:"https://github.com/puhbu.png",roles:["Early Android Tester"]},{name:"true1ann",url:"https://github.com/true1ann",icon:"https://github.com/true1ann.png",roles:["CI Contributor"]}],vengeance:[{name:"Nexpid",icon:"https://github.com/nexpid.png",url:"https://github.com/nexpid",roles:["Vengeance Lead Developer"]}]}}});function ContributorsSettingsPage(){return jsx(import_react_native7.ScrollView,{children:jsxs(PageWrapper,{children:[jsx(ContributorsSection,{title:"Team",data:contributors_default.team}),jsx(ContributorsSection,{title:"Contributors",data:contributors_default.contributors}),jsx(ContributorsSection,{title:"Vengeance",data:contributors_default.vengeance})]})})}function ContributorsSection({title,data}){return data.length?jsx(TableRowGroup,{title,children:data.map(item=>{var icon=getAssetIndexByName(`Revenge.Contributors.${item.name}`);return jsx(TableRow,{icon:icon?jsx(import_react_native7.Image,{style:styles4.avatar,source:icon}):jsx(TableRowIcon,{source:getAssetIndexByName("FriendsIcon")}),label:item.name,subLabel:item.roles.join(" \u2022 "),onPress:item.url?()=>links.openURL(item.url):void 0,arrow:!!item.url})})}):null}var import_react_native7,styles4,init_Contributors=__esm({"src/plugins/settings/pages/Contributors.tsx"(){"use strict";init_react_jsx_runtime();init_src5();init_common();init_components();import_react_native7=__toESM(require_react_native(),1);init_contributors();init_Wrapper();styles4=import_react_native7.StyleSheet.create({avatar:{width:32,height:32,borderRadius:16,overflow:"hidden",backgroundColor:"transparent"}})}});function CustomPageRenderer(){var navigation=NavigationNative.useNavigation(),route=NavigationNative.useRoute(),{render:PageComponent,...args}=route.params;return React.useEffect(()=>void navigation.setOptions({...args}),[]),jsx(PageComponent,{})}var init_CustomPageRenderer=__esm({"src/plugins/settings/pages/CustomPageRenderer.tsx"(){"use strict";init_react_jsx_runtime();init_common()}});function Show({when,children,fallback}){return when?jsx(Fragment,{children}):fallback??null}var init_components2=__esm({"libraries/shared/src/components.tsx"(){"use strict";init_react_jsx_runtime()}});function BrowsePluginsButton(){var navigation=NavigationNative.useNavigation();return jsx(Button,{size:"lg",icon:getAssetIndexByName("CompassIcon"),variant:"primary",text:"Browse plugins",onPress:()=>navigation.navigate("RevengePluginBrowser")})}var init_BrowsePluginsButton=__esm({"src/plugins/settings/pages/Plugins/components/BrowsePluginsButton.tsx"(){"use strict";init_react_jsx_runtime();init_src5();init_common();init_components()}});var import_react4,import_react_native8,styles5,PluginSettingsPageContext,init_shared5=__esm({"src/plugins/settings/pages/Plugins/components/shared.ts"(){"use strict";import_react4=__toESM(require_react(),1),import_react_native8=__toESM(require_react_native(),1),styles5=import_react_native8.StyleSheet.create({grow:{flexGrow:1},autoSize:{flex:1},centerChildren:{alignItems:"center",justifyContent:"center"},headerContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"flex-end",paddingBottom:12},queryContainer:{flexDirection:"row",width:"100%",gap:8},emptyImage:{width:"40%",height:"20%",objectFit:"contain"},browserCtaContainer:{marginBottom:16,marginTop:32,gap:16}}),PluginSettingsPageContext=(0,import_react4.createContext)(void 0)}});function NoPlugins(){var{ContextMenuComponent}=(0,import_react5.useContext)(PluginSettingsPageContext);return jsxs(Stack,{spacing:24,style:[styles5.grow,styles5.centerChildren],children:[jsx(import_react_native9.Image,{source:getAssetIndexByName("empty"),style:styles5.emptyImage}),jsx(Text,{variant:"heading-lg/semibold",children:"No plugins yet!"}),jsxs(import_react_native9.View,{style:[styles5.centerChildren,{gap:8}],children:[jsx(BrowsePluginsButton,{}),React.createElement(ContextMenuComponent,{children:props=>jsx(Button,{...props,size:"lg",icon:getAssetIndexByName("FiltersHorizontalIcon"),variant:"secondary",text:"Change filters"})})]})]})}function NoResults(){return jsxs(Stack,{spacing:24,style:[styles5.grow,styles5.centerChildren],children:[jsx(import_react_native9.Image,{source:getAssetIndexByName("empty_quick_switcher"),style:styles5.emptyImage}),jsx(Text,{variant:"heading-lg/semibold",children:"No results..."})]})}var import_react5,import_react_native9,init_Illustrations=__esm({"src/plugins/settings/pages/Plugins/components/Illustrations.tsx"(){"use strict";init_react_jsx_runtime();init_src5();init_components();import_react5=__toESM(require_react(),1),import_react_native9=__toESM(require_react_native(),1);init_BrowsePluginsButton();init_shared5()}});function SearchInput(props){return jsx(TextInput,{...props,leadingIcon:props.leadingIcon??findProp("MagnifyingGlassIcon"),placeholder:props.placeholder??"Search",returnKeyType:"search"})}function FormSwitch2(props){return jsx(import_react_native10.View,{style:props.disabled?styles6.disabled:void 0,children:jsx(FormSwitch,{...props})})}var import_react_native10,styles6,init_components3=__esm({"libraries/ui/src/components.tsx"(){"use strict";init_react_jsx_runtime();init_components();init_finders();import_react_native10=__toESM(require_react_native(),1),styles6=import_react_native10.StyleSheet.create({disabled:{opacity:.5}})}});function useRerenderer(){var[,forceUpdate]=(0,import_react6.useReducer)(x2=>~x2,0);return forceUpdate}var import_react6,init_hooks=__esm({"libraries/shared/src/hooks.ts"(){"use strict";import_react6=__toESM(require_react(),1)}});var import_react7,PluginCardContext,PluginCardContext_default,init_PluginCardContext=__esm({"src/plugins/settings/pages/Plugins/contexts/PluginCardContext.ts"(){"use strict";import_react7=__toESM(require_react(),1),PluginCardContext=(0,import_react7.createContext)(null),PluginCardContext_default=PluginCardContext}});function PluginCard({trailing,horizontalGaps}){var{manifest:{icon,name,version,author,description}}=(0,import_react8.useContext)(PluginCardContext_default),cardStyles=usePluginCardStyles();return jsxs(Card,{style:[cardStyles.card,horizontalGaps&&cardStyles.withGap],children:[jsxs(Stack,{direction:"horizontal",style:styles5.grow,children:[jsxs(Stack,{spacing:8,direction:"horizontal",style:[cardStyles.topContainer,styles5.autoSize],children:[jsx(import_react_native11.Image,{source:getAssetIndexByName(icon??"Revenge.PluginIcon"),style:cardStyles.icon}),jsxs(Text,{variant:"heading-lg/semibold",children:[name," ",jsx(Text,{variant:"text-md/medium",color:"text-muted",children:version})]})]}),trailing]}),jsxs(Stack,{spacing:4,style:[cardStyles.alignedContainer,styles5.grow],children:[jsxs(Text,{style:styles5.grow,variant:"heading-md/medium",color:"text-muted",children:["by ",author]}),jsx(Text,{style:styles5.grow,variant:"text-md/medium",children:description})]})]})}var import_react_native11,import_react8,usePluginCardStyles,init_PluginCard=__esm({"src/plugins/settings/pages/Plugins/components/PluginCard.tsx"(){"use strict";init_react_jsx_runtime();init_src5();init_common();init_components();init_colors();import_react_native11=__toESM(require_react_native(),1);init_shared5();import_react8=__toESM(require_react(),1);init_PluginCardContext();usePluginCardStyles=createStyles({icon:{width:20,height:20,tintColor:SemanticColor.TEXT_NORMAL},card:{flexGrow:1,marginBottom:12,paddingVertical:12,paddingHorizontal:12,gap:4},withGap:{marginRight:12},topContainer:{alignItems:"center",flexShrink:1},alignedContainer:{paddingLeft:28}})}});function InstalledPluginCard(props){var{plugin:plugin4,manifest:{name},navigation}=(0,import_react9.useContext)(PluginCardContext_default),{SettingsComponent,enabled,id,manageable,context}=plugin4,rerender=useRerenderer();return jsx(PluginCard,{...props,trailing:jsxs(Fragment,{children:[jsx(Show,{when:SettingsComponent,children:jsx(IconButton,{disabled:!enabled,size:"sm",icon:getAssetIndexByName("SettingsIcon"),variant:"tertiary",onPress:()=>{navigation.navigate("RevengeCustomPage",{title:name,render:()=>jsx(SettingsComponent,{...context})})},style:{marginBottom:"auto"}})}),jsx(IconButton,{size:"sm",icon:getAssetIndexByName("MoreHorizontalIcon"),variant:"tertiary",style:{marginBottom:"auto"}}),jsx(FormSwitch2,{value:enabled,disabled:!manageable,onValueChange:function(){var _ref=_async_to_generator(function*(enabled2){var plugin5=registeredPlugins[id];if(enabled2)plugin5.enable(),plugin5.lifecycles.beforeAppRender||plugin5.lifecycles.subscribeModules?showReloadRequiredAlert(enabled2):yield plugin5.start();else{var{reloadRequired}=plugin5.disable();reloadRequired&&showReloadRequiredAlert(enabled2)}rerender()});return function(enabled2){return _ref.apply(this,arguments)}}()})]})})}function showReloadRequiredAlert(enabling){openAlert("revenge.plugins.settings.plugins.reload-required",jsx(AlertModal,{title:"Reload required",content:enabling?"The plugin you have enabled requires a reload to take effect. Would you like to reload now?":"The plugin you have disabled requires a reload to reverse its effects. Would you like to reload now?",actions:jsxs(Fragment,{children:[jsx(AlertActionButton,{variant:"destructive",text:"Reload",onPress:()=>BundleUpdaterManager.reload()}),jsx(AlertActionButton,{variant:"secondary",text:"Not now"})]})}))}var import_react9,init_InstalledPluginCard=__esm({"src/plugins/settings/pages/Plugins/components/InstalledPluginCard.tsx"(){"use strict";init_async_to_generator();init_react_jsx_runtime();init_src5();init_components3();init_common();init_components();init_native();init_internals();init_components2();init_hooks();import_react9=__toESM(require_react(),1);init_PluginCard();init_PluginCardContext()}});var tslib_es6_exports={};__export(tslib_es6_exports,{__addDisposableResource:()=>__addDisposableResource,__assign:()=>__assign,__asyncDelegator:()=>__asyncDelegator,__asyncGenerator:()=>__asyncGenerator,__asyncValues:()=>__asyncValues,__await:()=>__await,__awaiter:()=>__awaiter,__classPrivateFieldGet:()=>__classPrivateFieldGet,__classPrivateFieldIn:()=>__classPrivateFieldIn,__classPrivateFieldSet:()=>__classPrivateFieldSet,__createBinding:()=>__createBinding,__decorate:()=>__decorate,__disposeResources:()=>__disposeResources,__esDecorate:()=>__esDecorate,__exportStar:()=>__exportStar,__extends:()=>__extends,__generator:()=>__generator,__importDefault:()=>__importDefault,__importStar:()=>__importStar,__makeTemplateObject:()=>__makeTemplateObject,__metadata:()=>__metadata,__param:()=>__param,__propKey:()=>__propKey,__read:()=>__read,__rest:()=>__rest,__runInitializers:()=>__runInitializers,__setFunctionName:()=>__setFunctionName,__spread:()=>__spread,__spreadArray:()=>__spreadArray,__spreadArrays:()=>__spreadArrays,__values:()=>__values,default:()=>tslib_es6_default});function __extends(d,b5){if(typeof b5!="function"&&b5!==null)throw new TypeError("Class extends value "+String(b5)+" is not a constructor or null");extendStatics(d,b5);function __(){this.constructor=d}d.prototype=b5===null?Object.create(b5):(__.prototype=b5.prototype,new __)}function __rest(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]]);return t}function __decorate(decorators,target,key,desc){var c2=arguments.length,r=c2<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c2<3?d(r):c2>3?d(target,key,r):d(target,key))||r);return c2>3&&r&&Object.defineProperty(target,key,r),r}function __param(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}}function __esDecorate(ctor,descriptorIn,decorators,contextIn,initializers,extraInitializers){function accept(f){if(f!==void 0&&typeof f!="function")throw new TypeError("Function expected");return f}for(var kind=contextIn.kind,key=kind==="getter"?"get":kind==="setter"?"set":"value",target=!descriptorIn&&ctor?contextIn.static?ctor:ctor.prototype:null,descriptor=descriptorIn||(target?Object.getOwnPropertyDescriptor(target,contextIn.name):{}),_3,done=!1,i=decorators.length-1;i>=0;i--){var context={};for(var p in contextIn)context[p]=p==="access"?{}:contextIn[p];for(var p in contextIn.access)context.access[p]=contextIn.access[p];context.addInitializer=function(f){if(done)throw new TypeError("Cannot add initializers after decoration has completed");extraInitializers.push(accept(f||null))};var result=(0,decorators[i])(kind==="accessor"?{get:descriptor.get,set:descriptor.set}:descriptor[key],context);if(kind==="accessor"){if(result===void 0)continue;if(result===null||typeof result!="object")throw new TypeError("Object expected");(_3=accept(result.get))&&(descriptor.get=_3),(_3=accept(result.set))&&(descriptor.set=_3),(_3=accept(result.init))&&initializers.unshift(_3)}else(_3=accept(result))&&(kind==="field"?initializers.unshift(_3):descriptor[key]=_3)}target&&Object.defineProperty(target,contextIn.name,descriptor),done=!0}function __runInitializers(thisArg,initializers,value){for(var useValue=arguments.length>2,i=0;i<initializers.length;i++)value=useValue?initializers[i].call(thisArg,value):initializers[i].call(thisArg);return useValue?value:void 0}function __propKey(x2){return typeof x2=="symbol"?x2:"".concat(x2)}function __setFunctionName(f,name,prefix){return typeof name=="symbol"&&(name=name.description?"[".concat(name.description,"]"):""),Object.defineProperty(f,"name",{configurable:!0,value:prefix?"".concat(prefix," ",name):name})}function __metadata(metadataKey,metadataValue){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(metadataKey,metadataValue)}function __awaiter(thisArg,_arguments,P4,generator){function adopt(value){return value instanceof P4?value:new P4(function(resolve){resolve(value)})}return new(P4||(P4=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})}function __generator(thisArg,body){var _3={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y2,t,g2;return g2={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol=="function"&&(g2[Symbol.iterator]=function(){return this}),g2;function verb(n){return function(v2){return step([n,v2])}}function step(op){if(f)throw new TypeError("Generator is already executing.");for(;g2&&(g2=0,op[0]&&(_3=0)),_3;)try{if(f=1,y2&&(t=op[0]&2?y2.return:op[0]?y2.throw||((t=y2.return)&&t.call(y2),0):y2.next)&&!(t=t.call(y2,op[1])).done)return t;switch(y2=0,t&&(op=[op[0]&2,t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _3.label++,{value:op[1],done:!1};case 5:_3.label++,y2=op[1],op=[0];continue;case 7:op=_3.ops.pop(),_3.trys.pop();continue;default:if(t=_3.trys,!(t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_3=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_3.label=op[1];break}if(op[0]===6&&_3.label<t[1]){_3.label=t[1],t=op;break}if(t&&_3.label<t[2]){_3.label=t[2],_3.ops.push(op);break}t[2]&&_3.ops.pop(),_3.trys.pop();continue}op=body.call(thisArg,_3)}catch(e){op=[6,e],y2=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}}function __exportStar(m2,o){for(var p in m2)p!=="default"&&!Object.prototype.hasOwnProperty.call(o,p)&&__createBinding(o,m2,p)}function __values(o){var s=typeof Symbol=="function"&&Symbol.iterator,m2=s&&o[s],i=0;if(m2)return m2.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(o,n){var m2=typeof Symbol=="function"&&o[Symbol.iterator];if(!m2)return o;var i=m2.call(o),r,ar=[],e;try{for(;(n===void 0||n-- >0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error}}finally{try{r&&!r.done&&(m2=i.return)&&m2.call(i)}finally{if(e)throw e.error}}return ar}function __spread(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar}function __spreadArrays(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;for(var r=Array(s),k=0,i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r}function __spreadArray(to,from,pack){if(pack||arguments.length===2)for(var i=0,l=from.length,ar;i<l;i++)(ar||!(i in from))&&(ar||(ar=Array.prototype.slice.call(from,0,i)),ar[i]=from[i]);return to.concat(ar||Array.prototype.slice.call(from))}function __await(v2){return this instanceof __await?(this.v=v2,this):new __await(v2)}function __asyncGenerator(thisArg,_arguments,generator){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var g2=generator.apply(thisArg,_arguments||[]),i,q3=[];return i={},verb("next"),verb("throw"),verb("return",awaitReturn),i[Symbol.asyncIterator]=function(){return this},i;function awaitReturn(f){return function(v2){return Promise.resolve(v2).then(f,reject)}}function verb(n,f){g2[n]&&(i[n]=function(v2){return new Promise(function(a,b5){q3.push([n,v2,a,b5])>1||resume(n,v2)})},f&&(i[n]=f(i[n])))}function resume(n,v2){try{step(g2[n](v2))}catch(e){settle(q3[0][3],e)}}function step(r){r.value instanceof __await?Promise.resolve(r.value.v).then(fulfill,reject):settle(q3[0][2],r)}function fulfill(value){resume("next",value)}function reject(value){resume("throw",value)}function settle(f,v2){f(v2),q3.shift(),q3.length&&resume(q3[0][0],q3[0][1])}}function __asyncDelegator(o){var i,p;return i={},verb("next"),verb("throw",function(e){throw e}),verb("return"),i[Symbol.iterator]=function(){return this},i;function verb(n,f){i[n]=o[n]?function(v2){return(p=!p)?{value:__await(o[n](v2)),done:!1}:f?f(v2):v2}:f}}function __asyncValues(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var m2=o[Symbol.asyncIterator],i;return m2?m2.call(o):(o=typeof __values=="function"?__values(o):o[Symbol.iterator](),i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i);function verb(n){i[n]=o[n]&&function(v2){return new Promise(function(resolve,reject){v2=o[n](v2),settle(resolve,reject,v2.done,v2.value)})}}function settle(resolve,reject,d,v2){Promise.resolve(v2).then(function(v3){resolve({value:v3,done:d})},reject)}}function __makeTemplateObject(cooked,raw){return Object.defineProperty?Object.defineProperty(cooked,"raw",{value:raw}):cooked.raw=raw,cooked}function __importStar(mod2){if(mod2&&mod2.__esModule)return mod2;var result={};if(mod2!=null)for(var k in mod2)k!=="default"&&Object.prototype.hasOwnProperty.call(mod2,k)&&__createBinding(result,mod2,k);return __setModuleDefault(result,mod2),result}function __importDefault(mod2){return mod2&&mod2.__esModule?mod2:{default:mod2}}function __classPrivateFieldGet(receiver,state,kind,f){if(kind==="a"&&!f)throw new TypeError("Private accessor was defined without a getter");if(typeof state=="function"?receiver!==state||!f:!state.has(receiver))throw new TypeError("Cannot read private member from an object whose class did not declare it");return kind==="m"?f:kind==="a"?f.call(receiver):f?f.value:state.get(receiver)}function __classPrivateFieldSet(receiver,state,value,kind,f){if(kind==="m")throw new TypeError("Private method is not writable");if(kind==="a"&&!f)throw new TypeError("Private accessor was defined without a setter");if(typeof state=="function"?receiver!==state||!f:!state.has(receiver))throw new TypeError("Cannot write private member to an object whose class did not declare it");return kind==="a"?f.call(receiver,value):f?f.value=value:state.set(receiver,value),value}function __classPrivateFieldIn(state,receiver){if(receiver===null||typeof receiver!="object"&&typeof receiver!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof state=="function"?receiver===state:state.has(receiver)}function __addDisposableResource(env,value,async){if(value!=null){if(typeof value!="object"&&typeof value!="function")throw new TypeError("Object expected.");var dispose,inner;if(async){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");dispose=value[Symbol.asyncDispose]}if(dispose===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");dispose=value[Symbol.dispose],async&&(inner=dispose)}if(typeof dispose!="function")throw new TypeError("Object not disposable.");inner&&(dispose=function(){try{inner.call(this)}catch(e){return Promise.reject(e)}}),env.stack.push({value,dispose,async})}else async&&env.stack.push({async:!0});return value}function __disposeResources(env){function fail(e){env.error=env.hasError?new _SuppressedError(e,env.error,"An error was suppressed during disposal."):e,env.hasError=!0}function next(){for(;env.stack.length;){var rec=env.stack.pop();try{var result=rec.dispose&&rec.dispose.call(rec.value);if(rec.async)return Promise.resolve(result).then(next,function(e){return fail(e),next()})}catch(e){fail(e)}}if(env.hasError)throw env.error}return next()}var extendStatics,__assign,__createBinding,__setModuleDefault,_SuppressedError,tslib_es6_default,init_tslib_es6=__esm({"node_modules/tslib/tslib.es6.mjs"(){extendStatics=function(d,b5){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b6){d2.__proto__=b6}||function(d2,b6){for(var p in b6)Object.prototype.hasOwnProperty.call(b6,p)&&(d2[p]=b6[p])},extendStatics(d,b5)};__assign=function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__assign.apply(this,arguments)};__createBinding=Object.create?function(o,m2,k,k2){k2===void 0&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m2,k);(!desc||("get"in desc?!m2.__esModule:desc.writable||desc.configurable))&&(desc={enumerable:!0,get:function(){return m2[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m2,k,k2){k2===void 0&&(k2=k),o[k2]=m2[k]};__setModuleDefault=Object.create?function(o,v2){Object.defineProperty(o,"default",{enumerable:!0,value:v2})}:function(o,v2){o.default=v2};_SuppressedError=typeof SuppressedError=="function"?SuppressedError:function(error,suppressed,message2){var e=new Error(message2);return e.name="SuppressedError",e.error=error,e.suppressed=suppressed,e};tslib_es6_default={__extends,__assign,__rest,__decorate,__param,__metadata,__awaiter,__generator,__createBinding,__exportStar,__values,__read,__spread,__spreadArrays,__spreadArray,__await,__asyncGenerator,__asyncDelegator,__asyncValues,__makeTemplateObject,__importStar,__importDefault,__classPrivateFieldGet,__classPrivateFieldSet,__classPrivateFieldIn,__addDisposableResource,__disposeResources}}});var require_ContextProvider=__commonJS({"node_modules/recyclerlistview/dist/reactnative/core/dependencies/ContextProvider.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var ContextProvider=function(){function ContextProvider2(){}return ContextProvider2}();exports.default=ContextProvider}});var require_ObjectUtil=__commonJS({"node_modules/ts-object-utils/dist/ObjectUtil.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var ObjectUtil=function(){function ObjectUtil2(){}return ObjectUtil2.isNullOrUndefined=function(obj){var ref=obj;return!(ref||ref===0||ref===!1)},ObjectUtil2.isNull=function(obj){return obj===null},ObjectUtil2.isUndefined=function(obj){return obj===void 0},ObjectUtil2.isNumber=function(obj){return typeof obj=="number"},ObjectUtil2.isString=function(obj){return typeof obj=="string"},ObjectUtil2.isObject=function(obj){return typeof obj=="object"},ObjectUtil2}();exports.ObjectUtil=ObjectUtil}});var require_Default=__commonJS({"node_modules/ts-object-utils/dist/Default.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var ObjectUtil_1=require_ObjectUtil(),Default=function(){function Default2(){}return Default2.value=function(obj,defaultValue){return ObjectUtil_1.ObjectUtil.isNullOrUndefined(obj)?defaultValue:obj},Default2}();exports.Default=Default}});var require_dist=__commonJS({"node_modules/ts-object-utils/dist/index.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var ObjectUtil_1=require_ObjectUtil();exports.ObjectUtil=ObjectUtil_1.ObjectUtil;var Default_1=require_Default();exports.Default=Default_1.Default}});var require_DataProvider=__commonJS({"node_modules/recyclerlistview/dist/reactnative/core/dependencies/DataProvider.js"(exports){"use strict";var __extends2=exports&&exports.__extends||function(){var extendStatics2=function(d,b5){return extendStatics2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b6){d2.__proto__=b6}||function(d2,b6){for(var p in b6)Object.prototype.hasOwnProperty.call(b6,p)&&(d2[p]=b6[p])},extendStatics2(d,b5)};return function(d,b5){if(typeof b5!="function"&&b5!==null)throw new TypeError("Class extends value "+String(b5)+" is not a constructor or null");extendStatics2(d,b5);function __(){this.constructor=d}d.prototype=b5===null?Object.create(b5):(__.prototype=b5.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});exports.BaseDataProvider=void 0;var ts_object_utils_1=require_dist(),BaseDataProvider=function(){function BaseDataProvider2(rowHasChanged,getStableId){this._firstIndexToProcess=0,this._size=0,this._data=[],this._hasStableIds=!1,this._requiresDataChangeHandling=!1,this.rowHasChanged=rowHasChanged,getStableId?(this.getStableId=getStableId,this._hasStableIds=!0):this.getStableId=function(index){return index.toString()}}return BaseDataProvider2.prototype.getDataForIndex=function(index){return this._data[index]},BaseDataProvider2.prototype.getAllData=function(){return this._data},BaseDataProvider2.prototype.getSize=function(){return this._size},BaseDataProvider2.prototype.hasStableIds=function(){return this._hasStableIds},BaseDataProvider2.prototype.requiresDataChangeHandling=function(){return this._requiresDataChangeHandling},BaseDataProvider2.prototype.getFirstIndexToProcessInternal=function(){return this._firstIndexToProcess},BaseDataProvider2.prototype.cloneWithRows=function(newData,firstModifiedIndex){var dp=this.newInstance(this.rowHasChanged,this._hasStableIds?this.getStableId:void 0),newSize=newData.length,iterCount=Math.min(this._size,newSize);if(ts_object_utils_1.ObjectUtil.isNullOrUndefined(firstModifiedIndex)){var i=0;for(i=0;i<iterCount&&!this.rowHasChanged(this._data[i],newData[i]);i++);dp._firstIndexToProcess=i}else dp._firstIndexToProcess=Math.max(Math.min(firstModifiedIndex,this._data.length),0);return dp._firstIndexToProcess!==this._data.length&&(dp._requiresDataChangeHandling=!0),dp._data=newData,dp._size=newSize,dp},BaseDataProvider2}();exports.BaseDataProvider=BaseDataProvider;var DataProvider=function(_super){__extends2(DataProvider2,_super);function DataProvider2(){return _super!==null&&_super.apply(this,arguments)||this}return DataProvider2.prototype.newInstance=function(rowHasChanged,getStableId){return new DataProvider2(rowHasChanged,getStableId)},DataProvider2}(BaseDataProvider);exports.default=DataProvider}});var require_CustomError=__commonJS({"node_modules/recyclerlistview/dist/reactnative/core/exceptions/CustomError.js"(exports){"use strict";var __extends2=exports&&exports.__extends||function(){var extendStatics2=function(d,b5){return extendStatics2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b6){d2.__proto__=b6}||function(d2,b6){for(var p in b6)Object.prototype.hasOwnProperty.call(b6,p)&&(d2[p]=b6[p])},extendStatics2(d,b5)};return function(d,b5){if(typeof b5!="function"&&b5!==null)throw new TypeError("Class extends value "+String(b5)+" is not a constructor or null");extendStatics2(d,b5);function __(){this.constructor=d}d.prototype=b5===null?Object.create(b5):(__.prototype=b5.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var CustomError=function(_super){__extends2(CustomError2,_super);function CustomError2(exception){var _this=_super.call(this,exception.message)||this;return _this.name=exception.type,_this}return CustomError2}(Error);exports.default=CustomError}});var require_LayoutManager=__commonJS({"node_modules/recyclerlistview/dist/reactnative/core/layoutmanager/LayoutManager.js"(exports){"use strict";var __extends2=exports&&exports.__extends||function(){var extendStatics2=function(d,b5){return extendStatics2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b6){d2.__proto__=b6}||function(d2,b6){for(var p in b6)Object.prototype.hasOwnProperty.call(b6,p)&&(d2[p]=b6[p])},extendStatics2(d,b5)};return function(d,b5){if(typeof b5!="function"&&b5!==null)throw new TypeError("Class extends value "+String(b5)+" is not a constructor or null");extendStatics2(d,b5);function __(){this.constructor=d}d.prototype=b5===null?Object.create(b5):(__.prototype=b5.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});exports.WrapGridLayoutManager=exports.LayoutManager=void 0;var CustomError_1=require_CustomError(),LayoutManager=function(){function LayoutManager2(){}return LayoutManager2.prototype.getOffsetForIndex=function(index){var layouts=this.getLayouts();if(layouts.length>index)return{x:layouts[index].x,y:layouts[index].y};throw new CustomError_1.default({message:"No layout available for index: "+index,type:"LayoutUnavailableException"})},LayoutManager2.prototype.getStyleOverridesForIndex=function(index){},LayoutManager2.prototype.removeLayout=function(index){var layouts=this.getLayouts();if(index<layouts.length&&layouts.splice(index,1),index===0&&layouts.length>0){var firstLayout=layouts[0];firstLayout.x=0,firstLayout.y=0}},LayoutManager2}();exports.LayoutManager=LayoutManager;var WrapGridLayoutManager=function(_super){__extends2(WrapGridLayoutManager2,_super);function WrapGridLayoutManager2(layoutProvider,renderWindowSize,isHorizontal,cachedLayouts){isHorizontal===void 0&&(isHorizontal=!1);var _this=_super.call(this)||this;return _this._layoutProvider=layoutProvider,_this._window=renderWindowSize,_this._totalHeight=0,_this._totalWidth=0,_this._isHorizontal=!!isHorizontal,_this._layouts=cachedLayouts||[],_this}return WrapGridLayoutManager2.prototype.getContentDimension=function(){return{height:this._totalHeight,width:this._totalWidth}},WrapGridLayoutManager2.prototype.removeLayout=function(index){_super.prototype.removeLayout.call(this,index),this._layouts.length===0&&(this._totalHeight=0,this._totalWidth=0)},WrapGridLayoutManager2.prototype.getLayouts=function(){return this._layouts},WrapGridLayoutManager2.prototype.getOffsetForIndex=function(index){if(this._layouts.length>index)return{x:this._layouts[index].x,y:this._layouts[index].y};throw new CustomError_1.default({message:"No layout available for index: "+index,type:"LayoutUnavailableException"})},WrapGridLayoutManager2.prototype.overrideLayout=function(index,dim){var layout=this._layouts[index];return layout&&(layout.isOverridden=!0,layout.width=dim.width,layout.height=dim.height),!0},WrapGridLayoutManager2.prototype.setMaxBounds=function(itemDim){this._isHorizontal?itemDim.height=Math.min(this._window.height,itemDim.height):itemDim.width=Math.min(this._window.width,itemDim.width)},WrapGridLayoutManager2.prototype.relayoutFromIndex=function(startIndex,itemCount){startIndex=this._locateFirstNeighbourIndex(startIndex);var startX=0,startY=0,maxBound=0,startVal=this._layouts[startIndex];startVal&&(startX=startVal.x,startY=startVal.y,this._pointDimensionsToRect(startVal));for(var oldItemCount=this._layouts.length,itemDim={height:0,width:0},itemRect=null,oldLayout=null,i=startIndex;i<itemCount;i++){oldLayout=this._layouts[i];var layoutType=this._layoutProvider.getLayoutTypeForIndex(i);for(oldLayout&&oldLayout.isOverridden&&oldLayout.type===layoutType?(itemDim.height=oldLayout.height,itemDim.width=oldLayout.width):this._layoutProvider.setComputedLayout(layoutType,itemDim,i),this.setMaxBounds(itemDim);!this._checkBounds(startX,startY,itemDim,this._isHorizontal);)this._isHorizontal?(startX+=maxBound,startY=0,this._totalWidth+=maxBound):(startX=0,startY+=maxBound,this._totalHeight+=maxBound),maxBound=0;maxBound=this._isHorizontal?Math.max(maxBound,itemDim.width):Math.max(maxBound,itemDim.height),i>oldItemCount-1?this._layouts.push({x:startX,y:startY,height:itemDim.height,width:itemDim.width,type:layoutType}):(itemRect=this._layouts[i],itemRect.x=startX,itemRect.y=startY,itemRect.type=layoutType,itemRect.width=itemDim.width,itemRect.height=itemDim.height),this._isHorizontal?startY+=itemDim.height:startX+=itemDim.width}oldItemCount>itemCount&&this._layouts.splice(itemCount,oldItemCount-itemCount),this._setFinalDimensions(maxBound)},WrapGridLayoutManager2.prototype._pointDimensionsToRect=function(itemRect){this._isHorizontal?this._totalWidth=itemRect.x:this._totalHeight=itemRect.y},WrapGridLayoutManager2.prototype._setFinalDimensions=function(maxBound){this._isHorizontal?(this._totalHeight=this._window.height,this._totalWidth+=maxBound):(this._totalWidth=this._window.width,this._totalHeight+=maxBound)},WrapGridLayoutManager2.prototype._locateFirstNeighbourIndex=function(startIndex){if(startIndex===0)return 0;for(var i=startIndex-1;i>=0;i--)if(this._isHorizontal){if(this._layouts[i].y===0)break}else if(this._layouts[i].x===0)break;return i},WrapGridLayoutManager2.prototype._checkBounds=function(itemX,itemY,itemDim,isHorizontal){return isHorizontal?itemY+itemDim.height<=this._window.height+.9:itemX+itemDim.width<=this._window.width+.9},WrapGridLayoutManager2}(LayoutManager);exports.WrapGridLayoutManager=WrapGridLayoutManager}});var require_LayoutProvider=__commonJS({"node_modules/recyclerlistview/dist/reactnative/core/dependencies/LayoutProvider.js"(exports){"use strict";var __extends2=exports&&exports.__extends||function(){var extendStatics2=function(d,b5){return extendStatics2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b6){d2.__proto__=b6}||function(d2,b6){for(var p in b6)Object.prototype.hasOwnProperty.call(b6,p)&&(d2[p]=b6[p])},extendStatics2(d,b5)};return function(d,b5){if(typeof b5!="function"&&b5!==null)throw new TypeError("Class extends value "+String(b5)+" is not a constructor or null");extendStatics2(d,b5);function __(){this.constructor=d}d.prototype=b5===null?Object.create(b5):(__.prototype=b5.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});exports.LayoutProvider=exports.BaseLayoutProvider=void 0;var LayoutManager_1=require_LayoutManager(),BaseLayoutProvider=function(){function BaseLayoutProvider2(){this.shouldRefreshWithAnchoring=!0}return BaseLayoutProvider2.prototype.createLayoutManager=function(renderWindowSize,isHorizontal,cachedLayouts){return this._lastLayoutManager=this.newLayoutManager(renderWindowSize,isHorizontal,cachedLayouts),this._lastLayoutManager},BaseLayoutProvider2.prototype.getLayoutManager=function(){return this._lastLayoutManager},BaseLayoutProvider2}();exports.BaseLayoutProvider=BaseLayoutProvider;var LayoutProvider=function(_super){__extends2(LayoutProvider2,_super);function LayoutProvider2(getLayoutTypeForIndex,setLayoutForType){var _this=_super.call(this)||this;return _this._getLayoutTypeForIndex=getLayoutTypeForIndex,_this._setLayoutForType=setLayoutForType,_this._tempDim={height:0,width:0},_this}return LayoutProvider2.prototype.newLayoutManager=function(renderWindowSize,isHorizontal,cachedLayouts){return new LayoutManager_1.WrapGridLayoutManager(this,renderWindowSize,isHorizontal,cachedLayouts)},LayoutProvider2.prototype.getLayoutTypeForIndex=function(index){return this._getLayoutTypeForIndex(index)},LayoutProvider2.prototype.setComputedLayout=function(type,dimension,index){return this._setLayoutForType(type,dimension,index)},LayoutProvider2.prototype.checkDimensionDiscrepancy=function(dimension,type,index){var dimension1=dimension;this.setComputedLayout(type,this._tempDim,index);var dimension2=this._tempDim,layoutManager=this.getLayoutManager();return layoutManager&&layoutManager.setMaxBounds(dimension2),dimension1.height!==dimension2.height||dimension1.width!==dimension2.width},LayoutProvider2}(BaseLayoutProvider);exports.LayoutProvider=LayoutProvider}});var require_GridLayoutManager=__commonJS({"node_modules/recyclerlistview/dist/reactnative/core/layoutmanager/GridLayoutManager.js"(exports){"use strict";var __extends2=exports&&exports.__extends||function(){var extendStatics2=function(d,b5){return extendStatics2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b6){d2.__proto__=b6}||function(d2,b6){for(var p in b6)Object.prototype.hasOwnProperty.call(b6,p)&&(d2[p]=b6[p])},extendStatics2(d,b5)};return function(d,b5){if(typeof b5!="function"&&b5!==null)throw new TypeError("Class extends value "+String(b5)+" is not a constructor or null");extendStatics2(d,b5);function __(){this.constructor=d}d.prototype=b5===null?Object.create(b5):(__.prototype=b5.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});exports.GridLayoutManager=void 0;var LayoutManager_1=require_LayoutManager(),GridLayoutManager=function(_super){__extends2(GridLayoutManager2,_super);function GridLayoutManager2(layoutProvider,renderWindowSize,getSpan,maxSpan,acceptableRelayoutDelta,isHorizontal,cachedLayouts){var _this=_super.call(this,layoutProvider,renderWindowSize,isHorizontal,cachedLayouts)||this;if(_this._getSpan=getSpan,_this._isGridHorizontal=isHorizontal,_this._renderWindowSize=renderWindowSize,acceptableRelayoutDelta<0)throw new Error("acceptableRelayoutDelta cannot be less than 0");if(_this._acceptableRelayoutDelta=acceptableRelayoutDelta,maxSpan<=0)throw new Error("Max Column Span cannot be less than or equal to 0");return _this._maxSpan=maxSpan,_this}return GridLayoutManager2.prototype.overrideLayout=function(index,dim){var layout=this.getLayouts()[index],heightDiff=Math.abs(dim.height-layout.height),widthDiff=Math.abs(dim.width-layout.width);if(layout){if(this._isGridHorizontal){if(heightDiff<this._acceptableRelayoutDelta){if(widthDiff===0)return!1;dim.height=layout.height}}else if(widthDiff<this._acceptableRelayoutDelta){if(heightDiff===0)return!1;dim.width=layout.width}}return _super.prototype.overrideLayout.call(this,index,dim)},GridLayoutManager2.prototype.getStyleOverridesForIndex=function(index){var columnSpanForIndex=this._getSpan(index);return this._isGridHorizontal?{height:this._renderWindowSize.height/this._maxSpan*columnSpanForIndex}:{width:this._renderWindowSize.width/this._maxSpan*columnSpanForIndex}},GridLayoutManager2}(LayoutManager_1.WrapGridLayoutManager);exports.GridLayoutManager=GridLayoutManager}});var require_GridLayoutProvider=__commonJS({"node_modules/recyclerlistview/dist/reactnative/core/dependencies/GridLayoutProvider.js"(exports){"use strict";var __extends2=exports&&exports.__extends||function(){var extendStatics2=function(d,b5){return extendStatics2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b6){d2.__proto__=b6}||function(d2,b6){for(var p in b6)Object.prototype.hasOwnProperty.call(b6,p)&&(d2[p]=b6[p])},extendStatics2(d,b5)};return function(d,b5){if(typeof b5!="function"&&b5!==null)throw new TypeError("Class extends value "+String(b5)+" is not a constructor or null");extendStatics2(d,b5);function __(){this.constructor=d}d.prototype=b5===null?Object.create(b5):(__.prototype=b5.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});exports.GridLayoutProvider=void 0;var LayoutProvider_1=require_LayoutProvider(),GridLayoutManager_1=require_GridLayoutManager(),GridLayoutProvider=function(_super){__extends2(GridLayoutProvider2,_super);function GridLayoutProvider2(maxSpan,getLayoutType,getSpan,getHeightOrWidth,acceptableRelayoutDelta){var _this=_super.call(this,getLayoutType,function(type,dimension,index){_this.setLayout(dimension,index)})||this;return _this._getHeightOrWidth=getHeightOrWidth,_this._getSpan=getSpan,_this._maxSpan=maxSpan,_this._acceptableRelayoutDelta=acceptableRelayoutDelta??1,_this}return GridLayoutProvider2.prototype.newLayoutManager=function(renderWindowSize,isHorizontal,cachedLayouts){return this._isHorizontal=isHorizontal,this._renderWindowSize=renderWindowSize,new GridLayoutManager_1.GridLayoutManager(this,renderWindowSize,this._getSpan,this._maxSpan,this._acceptableRelayoutDelta,this._isHorizontal,cachedLayouts)},GridLayoutProvider2.prototype.setLayout=function(dimension,index){var maxSpan=this._maxSpan,itemSpan=this._getSpan(index);if(itemSpan>maxSpan)throw new Error("Item span for index "+index+" is more than the max span");if(this._renderWindowSize)this._isHorizontal?(dimension.width=this._getHeightOrWidth(index),dimension.height=this._renderWindowSize.height/maxSpan*itemSpan):(dimension.height=this._getHeightOrWidth(index),dimension.width=this._renderWindowSize.width/maxSpan*itemSpan);else throw new Error("setLayout called before layoutmanager was created, cannot be handled")},GridLayoutProvider2}(LayoutProvider_1.LayoutProvider);exports.GridLayoutProvider=GridLayoutProvider}});var require_lodash2=__commonJS({"node_modules/lodash.debounce/index.js"(exports,module){var FUNC_ERROR_TEXT="Expected a function",NAN=NaN,symbolTag="[object Symbol]",reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt,freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),objectProto=Object.prototype,objectToString=objectProto.toString,nativeMax=Math.max,nativeMin=Math.min,now=function(){return root.Date.now()};function debounce(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=!1,maxing=!1,trailing=!0;if(typeof func!="function")throw new TypeError(FUNC_ERROR_TEXT);wait=toNumber(wait)||0,isObject(options)&&(leading=!!options.leading,maxing="maxWait"in options,maxWait=maxing?nativeMax(toNumber(options.maxWait)||0,wait):maxWait,trailing="trailing"in options?!!options.trailing:trailing);function invokeFunc(time){var args=lastArgs,thisArg=lastThis;return lastArgs=lastThis=void 0,lastInvokeTime=time,result=func.apply(thisArg,args),result}function leadingEdge(time){return lastInvokeTime=time,timerId=setTimeout(timerExpired,wait),leading?invokeFunc(time):result}function remainingWait(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime,result2=wait-timeSinceLastCall;return maxing?nativeMin(result2,maxWait-timeSinceLastInvoke):result2}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime;return lastCallTime===void 0||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&timeSinceLastInvoke>=maxWait}function timerExpired(){var time=now();if(shouldInvoke(time))return trailingEdge(time);timerId=setTimeout(timerExpired,remainingWait(time))}function trailingEdge(time){return timerId=void 0,trailing&&lastArgs?invokeFunc(time):(lastArgs=lastThis=void 0,result)}function cancel(){timerId!==void 0&&clearTimeout(timerId),lastInvokeTime=0,lastArgs=lastCallTime=lastThis=timerId=void 0}function flush(){return timerId===void 0?result:trailingEdge(now())}function debounced(){var time=now(),isInvoking=shouldInvoke(time);if(lastArgs=arguments,lastThis=this,lastCallTime=time,isInvoking){if(timerId===void 0)return leadingEdge(lastCallTime);if(maxing)return timerId=setTimeout(timerExpired,wait),invokeFunc(lastCallTime)}return timerId===void 0&&(timerId=setTimeout(timerExpired,wait)),result}return debounced.cancel=cancel,debounced.flush=flush,debounced}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}function isObjectLike(value){return!!value&&typeof value=="object"}function isSymbol(value){return typeof value=="symbol"||isObjectLike(value)&&objectToString.call(value)==symbolTag}function toNumber(value){if(typeof value=="number")return value;if(isSymbol(value))return NAN;if(isObject(value)){var other=typeof value.valueOf=="function"?value.valueOf():value;value=isObject(other)?other+"":other}if(typeof value!="string")return value===0?value:+value;value=value.replace(reTrim,"");var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value}module.exports=debounce}});var require_react_is_development=__commonJS({"node_modules/prop-types/node_modules/react-is/cjs/react-is.development.js"(exports){"use strict";(function(){"use strict";var hasSymbol=typeof Symbol=="function"&&Symbol.for,REACT_ELEMENT_TYPE=hasSymbol?Symbol.for("react.element"):60103,REACT_PORTAL_TYPE=hasSymbol?Symbol.for("react.portal"):60106,REACT_FRAGMENT_TYPE=hasSymbol?Symbol.for("react.fragment"):60107,REACT_STRICT_MODE_TYPE=hasSymbol?Symbol.for("react.strict_mode"):60108,REACT_PROFILER_TYPE=hasSymbol?Symbol.for("react.profiler"):60114,REACT_PROVIDER_TYPE=hasSymbol?Symbol.for("react.provider"):60109,REACT_CONTEXT_TYPE=hasSymbol?Symbol.for("react.context"):60110,REACT_ASYNC_MODE_TYPE=hasSymbol?Symbol.for("react.async_mode"):60111,REACT_CONCURRENT_MODE_TYPE=hasSymbol?Symbol.for("react.concurrent_mode"):60111,REACT_FORWARD_REF_TYPE=hasSymbol?Symbol.for("react.forward_ref"):60112,REACT_SUSPENSE_TYPE=hasSymbol?Symbol.for("react.suspense"):60113,REACT_SUSPENSE_LIST_TYPE=hasSymbol?Symbol.for("react.suspense_list"):60120,REACT_MEMO_TYPE=hasSymbol?Symbol.for("react.memo"):60115,REACT_LAZY_TYPE=hasSymbol?Symbol.for("react.lazy"):60116,REACT_BLOCK_TYPE=hasSymbol?Symbol.for("react.block"):60121,REACT_FUNDAMENTAL_TYPE=hasSymbol?Symbol.for("react.fundamental"):60117,REACT_RESPONDER_TYPE=hasSymbol?Symbol.for("react.responder"):60118,REACT_SCOPE_TYPE=hasSymbol?Symbol.for("react.scope"):60119;function isValidElementType(type){return typeof type=="string"||typeof type=="function"||type===REACT_FRAGMENT_TYPE||type===REACT_CONCURRENT_MODE_TYPE||type===REACT_PROFILER_TYPE||type===REACT_STRICT_MODE_TYPE||type===REACT_SUSPENSE_TYPE||type===REACT_SUSPENSE_LIST_TYPE||typeof type=="object"&&type!==null&&(type.$$typeof===REACT_LAZY_TYPE||type.$$typeof===REACT_MEMO_TYPE||type.$$typeof===REACT_PROVIDER_TYPE||type.$$typeof===REACT_CONTEXT_TYPE||type.$$typeof===REACT_FORWARD_REF_TYPE||type.$$typeof===REACT_FUNDAMENTAL_TYPE||type.$$typeof===REACT_RESPONDER_TYPE||type.$$typeof===REACT_SCOPE_TYPE||type.$$typeof===REACT_BLOCK_TYPE)}function typeOf(object2){if(typeof object2=="object"&&object2!==null){var $$typeof=object2.$$typeof;switch($$typeof){case REACT_ELEMENT_TYPE:var type=object2.type;switch(type){case REACT_ASYNC_MODE_TYPE:case REACT_CONCURRENT_MODE_TYPE:case REACT_FRAGMENT_TYPE:case REACT_PROFILER_TYPE:case REACT_STRICT_MODE_TYPE:case REACT_SUSPENSE_TYPE:return type;default:var $$typeofType=type&&type.$$typeof;switch($$typeofType){case REACT_CONTEXT_TYPE:case REACT_FORWARD_REF_TYPE:case REACT_LAZY_TYPE:case REACT_MEMO_TYPE:case REACT_PROVIDER_TYPE:return $$typeofType;default:return $$typeof}}case REACT_PORTAL_TYPE:return $$typeof}}}var AsyncMode=REACT_ASYNC_MODE_TYPE,ConcurrentMode=REACT_CONCURRENT_MODE_TYPE,ContextConsumer=REACT_CONTEXT_TYPE,ContextProvider=REACT_PROVIDER_TYPE,Element=REACT_ELEMENT_TYPE,ForwardRef=REACT_FORWARD_REF_TYPE,Fragment2=REACT_FRAGMENT_TYPE,Lazy=REACT_LAZY_TYPE,Memo=REACT_MEMO_TYPE,Portal=REACT_PORTAL_TYPE,Profiler=REACT_PROFILER_TYPE,StrictMode=REACT_STRICT_MODE_TYPE,Suspense=REACT_SUSPENSE_TYPE,hasWarnedAboutDeprecatedIsAsyncMode=!1;function isAsyncMode(object2){return hasWarnedAboutDeprecatedIsAsyncMode||(hasWarnedAboutDeprecatedIsAsyncMode=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),isConcurrentMode(object2)||typeOf(object2)===REACT_ASYNC_MODE_TYPE}function isConcurrentMode(object2){return typeOf(object2)===REACT_CONCURRENT_MODE_TYPE}function isContextConsumer(object2){return typeOf(object2)===REACT_CONTEXT_TYPE}function isContextProvider(object2){return typeOf(object2)===REACT_PROVIDER_TYPE}function isElement(object2){return typeof object2=="object"&&object2!==null&&object2.$$typeof===REACT_ELEMENT_TYPE}function isForwardRef(object2){return typeOf(object2)===REACT_FORWARD_REF_TYPE}function isFragment(object2){return typeOf(object2)===REACT_FRAGMENT_TYPE}function isLazy(object2){return typeOf(object2)===REACT_LAZY_TYPE}function isMemo(object2){return typeOf(object2)===REACT_MEMO_TYPE}function isPortal(object2){return typeOf(object2)===REACT_PORTAL_TYPE}function isProfiler(object2){return typeOf(object2)===REACT_PROFILER_TYPE}function isStrictMode(object2){return typeOf(object2)===REACT_STRICT_MODE_TYPE}function isSuspense(object2){return typeOf(object2)===REACT_SUSPENSE_TYPE}exports.AsyncMode=AsyncMode,exports.ConcurrentMode=ConcurrentMode,exports.ContextConsumer=ContextConsumer,exports.ContextProvider=ContextProvider,exports.Element=Element,exports.ForwardRef=ForwardRef,exports.Fragment=Fragment2,exports.Lazy=Lazy,exports.Memo=Memo,exports.Portal=Portal,exports.Profiler=Profiler,exports.StrictMode=StrictMode,exports.Suspense=Suspense,exports.isAsyncMode=isAsyncMode,exports.isConcurrentMode=isConcurrentMode,exports.isContextConsumer=isContextConsumer,exports.isContextProvider=isContextProvider,exports.isElement=isElement,exports.isForwardRef=isForwardRef,exports.isFragment=isFragment,exports.isLazy=isLazy,exports.isMemo=isMemo,exports.isPortal=isPortal,exports.isProfiler=isProfiler,exports.isStrictMode=isStrictMode,exports.isSuspense=isSuspense,exports.isValidElementType=isValidElementType,exports.typeOf=typeOf})()}});var require_react_is=__commonJS({"node_modules/prop-types/node_modules/react-is/index.js"(exports,module){"use strict";module.exports=require_react_is_development()}});var require_object_assign=__commonJS({"node_modules/object-assign/index.js"(exports,module){"use strict";var getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(val){if(val==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(val)}function shouldUseNative(){try{if(!Object.assign)return!1;var test1=new String("abc");if(test1[5]="de",Object.getOwnPropertyNames(test1)[0]==="5")return!1;for(var test2={},i=0;i<10;i++)test2["_"+String.fromCharCode(i)]=i;var order2=Object.getOwnPropertyNames(test2).map(function(n){return test2[n]});if(order2.join("")!=="0123456789")return!1;var test3={};return"abcdefghijklmnopqrst".split("").forEach(function(letter){test3[letter]=letter}),Object.keys(Object.assign({},test3)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}module.exports=shouldUseNative()?Object.assign:function(target,source){for(var from,to=toObject(target),symbols,s=1;s<arguments.length;s++){from=Object(arguments[s]);for(var key in from)hasOwnProperty.call(from,key)&&(to[key]=from[key]);if(getOwnPropertySymbols){symbols=getOwnPropertySymbols(from);for(var i=0;i<symbols.length;i++)propIsEnumerable.call(from,symbols[i])&&(to[symbols[i]]=from[symbols[i]])}}return to}}});var require_ReactPropTypesSecret=__commonJS({"node_modules/prop-types/lib/ReactPropTypesSecret.js"(exports,module){"use strict";var ReactPropTypesSecret="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";module.exports=ReactPropTypesSecret}});var require_has=__commonJS({"node_modules/prop-types/lib/has.js"(exports,module){module.exports=Function.call.bind(Object.prototype.hasOwnProperty)}});var require_checkPropTypes=__commonJS({"node_modules/prop-types/checkPropTypes.js"(exports,module){"use strict";var printWarning=function(){};ReactPropTypesSecret=require_ReactPropTypesSecret(),loggedTypeFailures={},has=require_has(),printWarning=function(text){var message2="Warning: "+text;typeof console<"u"&&console.error(message2);try{throw new Error(message2)}catch{}};var ReactPropTypesSecret,loggedTypeFailures,has;function checkPropTypes(typeSpecs,values,location,componentName,getStack){for(var typeSpecName in typeSpecs)if(has(typeSpecs,typeSpecName)){var error;try{if(typeof typeSpecs[typeSpecName]!="function"){var err3=Error((componentName||"React class")+": "+location+" type `"+typeSpecName+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof typeSpecs[typeSpecName]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw err3.name="Invariant Violation",err3}error=typeSpecs[typeSpecName](values,typeSpecName,componentName,location,null,ReactPropTypesSecret)}catch(ex){error=ex}if(error&&!(error instanceof Error)&&printWarning((componentName||"React class")+": type specification of "+location+" `"+typeSpecName+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof error+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),error instanceof Error&&!(error.message in loggedTypeFailures)){loggedTypeFailures[error.message]=!0;var stack=getStack?getStack():"";printWarning("Failed "+location+" type: "+error.message+(stack??""))}}}checkPropTypes.resetWarningCache=function(){loggedTypeFailures={}};module.exports=checkPropTypes}});var require_factoryWithTypeCheckers=__commonJS({"node_modules/prop-types/factoryWithTypeCheckers.js"(exports,module){"use strict";var ReactIs=require_react_is(),assign=require_object_assign(),ReactPropTypesSecret=require_ReactPropTypesSecret(),has=require_has(),checkPropTypes=require_checkPropTypes(),printWarning=function(){};printWarning=function(text){var message2="Warning: "+text;typeof console<"u"&&console.error(message2);try{throw new Error(message2)}catch{}};function emptyFunctionThatReturnsNull(){return null}module.exports=function(isValidElement,throwOnDirectAccess){var ITERATOR_SYMBOL=typeof Symbol=="function"&&Symbol.iterator,FAUX_ITERATOR_SYMBOL="@@iterator";function getIteratorFn(maybeIterable){var iteratorFn=maybeIterable&&(ITERATOR_SYMBOL&&maybeIterable[ITERATOR_SYMBOL]||maybeIterable[FAUX_ITERATOR_SYMBOL]);if(typeof iteratorFn=="function")return iteratorFn}var ANONYMOUS="<<anonymous>>",ReactPropTypes={array:createPrimitiveTypeChecker("array"),bigint:createPrimitiveTypeChecker("bigint"),bool:createPrimitiveTypeChecker("boolean"),func:createPrimitiveTypeChecker("function"),number:createPrimitiveTypeChecker("number"),object:createPrimitiveTypeChecker("object"),string:createPrimitiveTypeChecker("string"),symbol:createPrimitiveTypeChecker("symbol"),any:createAnyTypeChecker(),arrayOf:createArrayOfTypeChecker,element:createElementTypeChecker(),elementType:createElementTypeTypeChecker(),instanceOf:createInstanceTypeChecker,node:createNodeChecker(),objectOf:createObjectOfTypeChecker,oneOf:createEnumTypeChecker,oneOfType:createUnionTypeChecker,shape:createShapeTypeChecker,exact:createStrictShapeTypeChecker};function is(x2,y2){return x2===y2?x2!==0||1/x2===1/y2:x2!==x2&&y2!==y2}function PropTypeError(message2,data){this.message=message2,this.data=data&&typeof data=="object"?data:{},this.stack=""}PropTypeError.prototype=Error.prototype;function createChainableTypeChecker(validate){var manualPropTypeCallCache={},manualPropTypeWarningCount=0;function checkType(isRequired,props,propName,componentName,location,propFullName,secret){if(componentName=componentName||ANONYMOUS,propFullName=propFullName||propName,secret!==ReactPropTypesSecret){if(throwOnDirectAccess){var err3=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw err3.name="Invariant Violation",err3}else if(typeof console<"u"){var cacheKey=componentName+":"+propName;!manualPropTypeCallCache[cacheKey]&&manualPropTypeWarningCount<3&&(printWarning("You are manually calling a React.PropTypes validation function for the `"+propFullName+"` prop on `"+componentName+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),manualPropTypeCallCache[cacheKey]=!0,manualPropTypeWarningCount++)}}return props[propName]==null?isRequired?props[propName]===null?new PropTypeError("The "+location+" `"+propFullName+"` is marked as required "+("in `"+componentName+"`, but its value is `null`.")):new PropTypeError("The "+location+" `"+propFullName+"` is marked as required in "+("`"+componentName+"`, but its value is `undefined`.")):null:validate(props,propName,componentName,location,propFullName)}var chainedCheckType=checkType.bind(null,!1);return chainedCheckType.isRequired=checkType.bind(null,!0),chainedCheckType}function createPrimitiveTypeChecker(expectedType){function validate(props,propName,componentName,location,propFullName,secret){var propValue=props[propName],propType=getPropType(propValue);if(propType!==expectedType){var preciseType=getPreciseType(propValue);return new PropTypeError("Invalid "+location+" `"+propFullName+"` of type "+("`"+preciseType+"` supplied to `"+componentName+"`, expected ")+("`"+expectedType+"`."),{expectedType})}return null}return createChainableTypeChecker(validate)}function createAnyTypeChecker(){return createChainableTypeChecker(emptyFunctionThatReturnsNull)}function createArrayOfTypeChecker(typeChecker){function validate(props,propName,componentName,location,propFullName){if(typeof typeChecker!="function")return new PropTypeError("Property `"+propFullName+"` of component `"+componentName+"` has invalid PropType notation inside arrayOf.");var propValue=props[propName];if(!Array.isArray(propValue)){var propType=getPropType(propValue);return new PropTypeError("Invalid "+location+" `"+propFullName+"` of type "+("`"+propType+"` supplied to `"+componentName+"`, expected an array."))}for(var i=0;i<propValue.length;i++){var error=typeChecker(propValue,i,componentName,location,propFullName+"["+i+"]",ReactPropTypesSecret);if(error instanceof Error)return error}return null}return createChainableTypeChecker(validate)}function createElementTypeChecker(){function validate(props,propName,componentName,location,propFullName){var propValue=props[propName];if(!isValidElement(propValue)){var propType=getPropType(propValue);return new PropTypeError("Invalid "+location+" `"+propFullName+"` of type "+("`"+propType+"` supplied to `"+componentName+"`, expected a single ReactElement."))}return null}return createChainableTypeChecker(validate)}function createElementTypeTypeChecker(){function validate(props,propName,componentName,location,propFullName){var propValue=props[propName];if(!ReactIs.isValidElementType(propValue)){var propType=getPropType(propValue);return new PropTypeError("Invalid "+location+" `"+propFullName+"` of type "+("`"+propType+"` supplied to `"+componentName+"`, expected a single ReactElement type."))}return null}return createChainableTypeChecker(validate)}function createInstanceTypeChecker(expectedClass){function validate(props,propName,componentName,location,propFullName){if(!(props[propName]instanceof expectedClass)){var expectedClassName=expectedClass.name||ANONYMOUS,actualClassName=getClassName(props[propName]);return new PropTypeError("Invalid "+location+" `"+propFullName+"` of type "+("`"+actualClassName+"` supplied to `"+componentName+"`, expected ")+("instance of `"+expectedClassName+"`."))}return null}return createChainableTypeChecker(validate)}function createEnumTypeChecker(expectedValues){if(!Array.isArray(expectedValues))return arguments.length>1?printWarning("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):printWarning("Invalid argument supplied to oneOf, expected an array."),emptyFunctionThatReturnsNull;function validate(props,propName,componentName,location,propFullName){for(var propValue=props[propName],i=0;i<expectedValues.length;i++)if(is(propValue,expectedValues[i]))return null;var valuesString=JSON.stringify(expectedValues,function(key,value){var type=getPreciseType(value);return type==="symbol"?String(value):value});return new PropTypeError("Invalid "+location+" `"+propFullName+"` of value `"+String(propValue)+"` "+("supplied to `"+componentName+"`, expected one of "+valuesString+"."))}return createChainableTypeChecker(validate)}function createObjectOfTypeChecker(typeChecker){function validate(props,propName,componentName,location,propFullName){if(typeof typeChecker!="function")return new PropTypeError("Property `"+propFullName+"` of component `"+componentName+"` has invalid PropType notation inside objectOf.");var propValue=props[propName],propType=getPropType(propValue);if(propType!=="object")return new PropTypeError("Invalid "+location+" `"+propFullName+"` of type "+("`"+propType+"` supplied to `"+componentName+"`, expected an object."));for(var key in propValue)if(has(propValue,key)){var error=typeChecker(propValue,key,componentName,location,propFullName+"."+key,ReactPropTypesSecret);if(error instanceof Error)return error}return null}return createChainableTypeChecker(validate)}function createUnionTypeChecker(arrayOfTypeCheckers){if(!Array.isArray(arrayOfTypeCheckers))return printWarning("Invalid argument supplied to oneOfType, expected an instance of array."),emptyFunctionThatReturnsNull;for(var i=0;i<arrayOfTypeCheckers.length;i++){var checker=arrayOfTypeCheckers[i];if(typeof checker!="function")return printWarning("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+getPostfixForTypeWarning(checker)+" at index "+i+"."),emptyFunctionThatReturnsNull}function validate(props,propName,componentName,location,propFullName){for(var expectedTypes=[],i2=0;i2<arrayOfTypeCheckers.length;i2++){var checker2=arrayOfTypeCheckers[i2],checkerResult=checker2(props,propName,componentName,location,propFullName,ReactPropTypesSecret);if(checkerResult==null)return null;checkerResult.data&&has(checkerResult.data,"expectedType")&&expectedTypes.push(checkerResult.data.expectedType)}var expectedTypesMessage=expectedTypes.length>0?", expected one of type ["+expectedTypes.join(", ")+"]":"";return new PropTypeError("Invalid "+location+" `"+propFullName+"` supplied to "+("`"+componentName+"`"+expectedTypesMessage+"."))}return createChainableTypeChecker(validate)}function createNodeChecker(){function validate(props,propName,componentName,location,propFullName){return isNode(props[propName])?null:new PropTypeError("Invalid "+location+" `"+propFullName+"` supplied to "+("`"+componentName+"`, expected a ReactNode."))}return createChainableTypeChecker(validate)}function invalidValidatorError(componentName,location,propFullName,key,type){return new PropTypeError((componentName||"React class")+": "+location+" type `"+propFullName+"."+key+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+type+"`.")}function createShapeTypeChecker(shapeTypes){function validate(props,propName,componentName,location,propFullName){var propValue=props[propName],propType=getPropType(propValue);if(propType!=="object")return new PropTypeError("Invalid "+location+" `"+propFullName+"` of type `"+propType+"` "+("supplied to `"+componentName+"`, expected `object`."));for(var key in shapeTypes){var checker=shapeTypes[key];if(typeof checker!="function")return invalidValidatorError(componentName,location,propFullName,key,getPreciseType(checker));var error=checker(propValue,key,componentName,location,propFullName+"."+key,ReactPropTypesSecret);if(error)return error}return null}return createChainableTypeChecker(validate)}function createStrictShapeTypeChecker(shapeTypes){function validate(props,propName,componentName,location,propFullName){var propValue=props[propName],propType=getPropType(propValue);if(propType!=="object")return new PropTypeError("Invalid "+location+" `"+propFullName+"` of type `"+propType+"` "+("supplied to `"+componentName+"`, expected `object`."));var allKeys=assign({},props[propName],shapeTypes);for(var key in allKeys){var checker=shapeTypes[key];if(has(shapeTypes,key)&&typeof checker!="function")return invalidValidatorError(componentName,location,propFullName,key,getPreciseType(checker));if(!checker)return new PropTypeError("Invalid "+location+" `"+propFullName+"` key `"+key+"` supplied to `"+componentName+"`.\nBad object: "+JSON.stringify(props[propName],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(shapeTypes),null,"  "));var error=checker(propValue,key,componentName,location,propFullName+"."+key,ReactPropTypesSecret);if(error)return error}return null}return createChainableTypeChecker(validate)}function isNode(propValue){switch(typeof propValue){case"number":case"string":case"undefined":return!0;case"boolean":return!propValue;case"object":if(Array.isArray(propValue))return propValue.every(isNode);if(propValue===null||isValidElement(propValue))return!0;var iteratorFn=getIteratorFn(propValue);if(iteratorFn){var iterator=iteratorFn.call(propValue),step;if(iteratorFn!==propValue.entries){for(;!(step=iterator.next()).done;)if(!isNode(step.value))return!1}else for(;!(step=iterator.next()).done;){var entry=step.value;if(entry&&!isNode(entry[1]))return!1}}else return!1;return!0;default:return!1}}function isSymbol(propType,propValue){return propType==="symbol"?!0:propValue?propValue["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&propValue instanceof Symbol:!1}function getPropType(propValue){var propType=typeof propValue;return Array.isArray(propValue)?"array":propValue instanceof RegExp?"object":isSymbol(propType,propValue)?"symbol":propType}function getPreciseType(propValue){if(typeof propValue>"u"||propValue===null)return""+propValue;var propType=getPropType(propValue);if(propType==="object"){if(propValue instanceof Date)return"date";if(propValue instanceof RegExp)return"regexp"}return propType}function getPostfixForTypeWarning(value){var type=getPreciseType(value);switch(type){case"array":case"object":return"an "+type;case"boolean":case"date":case"regexp":return"a "+type;default:return type}}function getClassName(propValue){return!propValue.constructor||!propValue.constructor.name?ANONYMOUS:propValue.constructor.name}return ReactPropTypes.checkPropTypes=checkPropTypes,ReactPropTypes.resetWarningCache=checkPropTypes.resetWarningCache,ReactPropTypes.PropTypes=ReactPropTypes,ReactPropTypes}}});var require_prop_types=__commonJS({"node_modules/prop-types/index.js"(exports,module){ReactIs=require_react_is(),throwOnDirectAccess=!0,module.exports=require_factoryWithTypeCheckers()(ReactIs.isElement,throwOnDirectAccess);var ReactIs,throwOnDirectAccess}});var require_RecyclerListViewExceptions=__commonJS({"node_modules/recyclerlistview/dist/reactnative/core/exceptions/RecyclerListViewExceptions.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var RecyclerListViewExceptions={initializationException:{message:"Parameters required for initializing the module are missing",type:"Initialization essentials missing"},itemBoundsException:{message:"Dimensions cannot be undefined or null, check if LayoutProvider returns irregular values",type:"ItemBoundsException"},itemTypeNullException:{message:"RecyclerListView items always require a type, check if LayoutProvider returns irregular values",type:"ItemTypeNullException"},layoutException:{message:"RecyclerListView needs to have a bounded size. Currently height or, width is 0.Consider adding style={{flex:1}} or, fixed dimensions",type:"LayoutException"},platformNotDetectedException:{message:"Unable to detect the running platform, if you're trying to run recyclerlistview in browser make sure process.env.RLV_ENV is set to browser in webpack config",type:"PlatformNotDetectedException"},unresolvedDependenciesException:{message:"missing datasource or layout provider, cannot proceed without it",type:"UnresolvedDependenciesException"},refNotAsFunctionException:{message:"When using StickyContainer, RecyclerListView needs to use ref as a function and not as a string.",type:"RefNotAsFunctionException"},wrongStickyChildTypeException:{message:"StickyContainer can only have a single child of type RecyclerListView.",type:"WrongStickyChildTypeException"},usingOldVisibleIndexesChangedParam:{message:"onVisibleIndexesChanged has been deprecated. Please use onVisibleIndicesChanged instead.",type:"usingOldVisibleIndexesChangedParam"},stickyIndicesArraySortError:{message:"The sticky indices array passed to StickyContainer isn't sorted in ascending order.",type:"stickyIndicesArraySortError"}};exports.default=RecyclerListViewExceptions}});var require_Constants=__commonJS({"node_modules/recyclerlistview/dist/reactnative/core/constants/Constants.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.Constants=void 0;exports.Constants={CONTEXT_PROVIDER_OFFSET_KEY_SUFFIX:"_offset",CONTEXT_PROVIDER_LAYOUT_KEY_SUFFIX:"_layouts"}}});var require_Messages=__commonJS({"node_modules/recyclerlistview/dist/reactnative/core/constants/Messages.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.Messages=void 0;exports.Messages={ERROR_LISTVIEW_VALIDATION:"missing datasource or layout provider, cannot proceed without it",WARN_SCROLL_TO_INDEX:"scrollTo was called before RecyclerListView was measured, please wait for the mount to finish",VISIBLE_INDEXES_CHANGED_DEPRECATED:"onVisibleIndexesChanged deprecated. Please use onVisibleIndicesChanged instead.",ANIMATION_ON_PAGINATION:"Looks like you're trying to use RecyclerListView's layout animation render while doing pagination. This operation will be ignored to avoid creation of too many items due to developer error."}}});var require_RecycleItemPool=__commonJS({"node_modules/recyclerlistview/dist/reactnative/utils/RecycleItemPool.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var RecycleItemPool=function(){function RecycleItemPool2(){this._recyclableObjectMap={},this._availabilitySet={}}return RecycleItemPool2.prototype.putRecycledObject=function(objectType,object2){objectType=this._stringify(objectType);var objectSet=this._getRelevantSet(objectType);this._availabilitySet[object2]||(objectSet[object2]=null,this._availabilitySet[object2]=objectType)},RecycleItemPool2.prototype.getRecycledObject=function(objectType){objectType=this._stringify(objectType);var objectSet=this._getRelevantSet(objectType),recycledObject;for(var property in objectSet)if(objectSet.hasOwnProperty(property)){recycledObject=property;break}return recycledObject&&(delete objectSet[recycledObject],delete this._availabilitySet[recycledObject]),recycledObject},RecycleItemPool2.prototype.removeFromPool=function(object2){return this._availabilitySet[object2]?(delete this._getRelevantSet(this._availabilitySet[object2])[object2],delete this._availabilitySet[object2],!0):!1},RecycleItemPool2.prototype.clearAll=function(){this._recyclableObjectMap={},this._availabilitySet={}},RecycleItemPool2.prototype._getRelevantSet=function(objectType){var objectSet=this._recyclableObjectMap[objectType];return objectSet||(objectSet={},this._recyclableObjectMap[objectType]=objectSet),objectSet},RecycleItemPool2.prototype._stringify=function(objectType){return typeof objectType=="number"&&(objectType=objectType.toString()),objectType},RecycleItemPool2}();exports.default=RecycleItemPool}});var require_BinarySearch=__commonJS({"node_modules/recyclerlistview/dist/reactnative/utils/BinarySearch.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var CustomError_1=require_CustomError(),BinarySearch=function(){function BinarySearch2(){}return BinarySearch2.findClosestHigherValueIndex=function(size,targetValue,valueExtractor){var low=0,high=size-1,mid=Math.floor((low+high)/2),lastValue=0,absoluteLastDiff=Math.abs(valueExtractor(mid)-targetValue),result=mid,diff=0,absoluteDiff=0;if(absoluteLastDiff===0)return result;if(high<0)throw new CustomError_1.default({message:"The collection cannot be empty",type:"InvalidStateException"});for(;low<=high;)if(mid=Math.floor((low+high)/2),lastValue=valueExtractor(mid),diff=lastValue-targetValue,absoluteDiff=Math.abs(diff),diff>=0&&absoluteDiff<absoluteLastDiff&&(absoluteLastDiff=absoluteDiff,result=mid),targetValue<lastValue)high=mid-1;else if(targetValue>lastValue)low=mid+1;else return mid;return result},BinarySearch2.findClosestValueToTarget=function(values,target){for(var low=0,high=values.length-1,mid=Math.floor((low+high)/2),midValue=values[mid],lastMidValue=midValue+1;low<=high&&midValue!==lastMidValue&&midValue!==target;)midValue<target?low=mid:midValue>target&&(high=mid),mid=Math.floor((low+high)/2),lastMidValue=midValue,midValue=values[mid];return{value:midValue,index:mid}},BinarySearch2.findValueSmallerThanTarget=function(values,target){var low=0,high=values.length-1;if(target>=values[high])return{value:values[high],index:high};if(target<values[low])return;var midValueAndIndex=this.findClosestValueToTarget(values,target),midValue=midValueAndIndex.value,mid=midValueAndIndex.index;return midValue<=target?{value:midValue,index:mid}:{value:values[mid-1],index:mid-1}},BinarySearch2.findValueLargerThanTarget=function(values,target){var low=0,high=values.length-1;if(target<values[low])return{value:values[low],index:low};if(target>values[high])return;var midValueAndIndex=this.findClosestValueToTarget(values,target),midValue=midValueAndIndex.value,mid=midValueAndIndex.index;return midValue>=target?{value:midValue,index:mid}:{value:values[mid+1],index:mid+1}},BinarySearch2.findIndexOf=function(array,value){for(var j=0,length=array.length,i=0;j<length;)if(i=length+j-1>>1,value>array[i])j=i+1;else if(value<array[i])length=i;else return i;return-1},BinarySearch2}();exports.default=BinarySearch}});var require_ViewabilityTracker=__commonJS({"node_modules/recyclerlistview/dist/reactnative/core/ViewabilityTracker.js"(exports){"use strict";var __spreadArray2=exports&&exports.__spreadArray||function(to,from,pack){if(pack||arguments.length===2)for(var i=0,l=from.length,ar;i<l;i++)(ar||!(i in from))&&(ar||(ar=Array.prototype.slice.call(from,0,i)),ar[i]=from[i]);return to.concat(ar||Array.prototype.slice.call(from))};Object.defineProperty(exports,"__esModule",{value:!0});var BinarySearch_1=require_BinarySearch(),ViewabilityTracker=function(){function ViewabilityTracker2(renderAheadOffset,initialOffset){var _this=this;this._layouts=[],this._valueExtractorForBinarySearch=function(index){var itemRect=_this._layouts[index];return _this._setRelevantBounds(itemRect,_this._relevantDim),_this._relevantDim.end},this._currentOffset=Math.max(0,initialOffset),this._maxOffset=0,this._actualOffset=0,this._renderAheadOffset=renderAheadOffset,this._visibleWindow={start:0,end:0},this._engagedWindow={start:0,end:0},this._isHorizontal=!1,this._windowBound=0,this._visibleIndexes=[],this._engagedIndexes=[],this.onVisibleRowsChanged=null,this.onEngagedRowsChanged=null,this._relevantDim={start:0,end:0},this._defaultCorrection={startCorrection:0,endCorrection:0,windowShift:0}}return ViewabilityTracker2.prototype.init=function(windowCorrection){this._doInitialFit(this._currentOffset,windowCorrection)},ViewabilityTracker2.prototype.setLayouts=function(layouts,maxOffset){this._layouts=layouts,this._maxOffset=maxOffset},ViewabilityTracker2.prototype.setDimensions=function(dimension,isHorizontal){this._isHorizontal=isHorizontal,this._windowBound=isHorizontal?dimension.width:dimension.height},ViewabilityTracker2.prototype.forceRefresh=function(){var shouldForceScroll=this._actualOffset>=0&&this._currentOffset>=this._maxOffset-this._windowBound;return this.forceRefreshWithOffset(this._currentOffset),shouldForceScroll},ViewabilityTracker2.prototype.forceRefreshWithOffset=function(offset){this._currentOffset=-1,this.updateOffset(offset,!1,this._defaultCorrection)},ViewabilityTracker2.prototype.updateOffset=function(offset,isActual,windowCorrection){var correctedOffset=offset;if(isActual&&(this._actualOffset=offset,correctedOffset=Math.min(this._maxOffset,Math.max(0,offset+(windowCorrection.windowShift+windowCorrection.startCorrection)))),this._currentOffset!==correctedOffset){this._currentOffset=correctedOffset,this._updateTrackingWindows(offset,windowCorrection);var startIndex=0;this._visibleIndexes.length>0&&(startIndex=this._visibleIndexes[0]),this._fitAndUpdate(startIndex)}},ViewabilityTracker2.prototype.getLastOffset=function(){return this._currentOffset},ViewabilityTracker2.prototype.getLastActualOffset=function(){return this._actualOffset},ViewabilityTracker2.prototype.getEngagedIndexes=function(){return this._engagedIndexes},ViewabilityTracker2.prototype.findFirstLogicallyVisibleIndex=function(){for(var relevantIndex=this._findFirstVisibleIndexUsingBS(.001),result=relevantIndex,i=relevantIndex-1;i>=0;i--)if(this._isHorizontal){if(this._layouts[relevantIndex].x!==this._layouts[i].x)break;result=i}else{if(this._layouts[relevantIndex].y!==this._layouts[i].y)break;result=i}return result},ViewabilityTracker2.prototype.updateRenderAheadOffset=function(renderAheadOffset){this._renderAheadOffset=Math.max(0,renderAheadOffset),this.forceRefreshWithOffset(this._currentOffset)},ViewabilityTracker2.prototype.getCurrentRenderAheadOffset=function(){return this._renderAheadOffset},ViewabilityTracker2.prototype.setActualOffset=function(actualOffset){this._actualOffset=actualOffset},ViewabilityTracker2.prototype._findFirstVisibleIndexOptimally=function(){var firstVisibleIndex=0;return this._currentOffset>5e3?firstVisibleIndex=this._findFirstVisibleIndexUsingBS():this._currentOffset>0&&(firstVisibleIndex=this._findFirstVisibleIndexLinearly()),firstVisibleIndex},ViewabilityTracker2.prototype._fitAndUpdate=function(startIndex){var newVisibleItems=[],newEngagedItems=[];this._fitIndexes(newVisibleItems,newEngagedItems,startIndex,!0),this._fitIndexes(newVisibleItems,newEngagedItems,startIndex+1,!1),this._diffUpdateOriginalIndexesAndRaiseEvents(newVisibleItems,newEngagedItems)},ViewabilityTracker2.prototype._doInitialFit=function(offset,windowCorrection){offset=Math.min(this._maxOffset,Math.max(0,offset)),this._updateTrackingWindows(offset,windowCorrection);var firstVisibleIndex=this._findFirstVisibleIndexOptimally();this._fitAndUpdate(firstVisibleIndex)},ViewabilityTracker2.prototype._findFirstVisibleIndexLinearly=function(){for(var count=this._layouts.length,itemRect=null,relevantDim={start:0,end:0},i=0;i<count;i++)if(itemRect=this._layouts[i],this._setRelevantBounds(itemRect,relevantDim),this._itemIntersectsVisibleWindow(relevantDim.start,relevantDim.end))return i;return 0},ViewabilityTracker2.prototype._findFirstVisibleIndexUsingBS=function(bias){bias===void 0&&(bias=0);var count=this._layouts.length;return BinarySearch_1.default.findClosestHigherValueIndex(count,this._visibleWindow.start+bias,this._valueExtractorForBinarySearch)},ViewabilityTracker2.prototype._fitIndexes=function(newVisibleIndexes,newEngagedIndexes,startIndex,isReverse){var count=this._layouts.length,relevantDim={start:0,end:0},i=0,atLeastOneLocated=!1;if(startIndex<count){if(isReverse){for(i=startIndex;i>=0;i--)if(this._checkIntersectionAndReport(i,!0,relevantDim,newVisibleIndexes,newEngagedIndexes))atLeastOneLocated=!0;else if(atLeastOneLocated)break}else for(i=startIndex;i<count;i++)if(this._checkIntersectionAndReport(i,!1,relevantDim,newVisibleIndexes,newEngagedIndexes))atLeastOneLocated=!0;else if(atLeastOneLocated)break}},ViewabilityTracker2.prototype._checkIntersectionAndReport=function(index,insertOnTop,relevantDim,newVisibleIndexes,newEngagedIndexes){var itemRect=this._layouts[index],isFound=!1;return this._setRelevantBounds(itemRect,relevantDim),this._itemIntersectsVisibleWindow(relevantDim.start,relevantDim.end)?(insertOnTop?(newVisibleIndexes.splice(0,0,index),newEngagedIndexes.splice(0,0,index)):(newVisibleIndexes.push(index),newEngagedIndexes.push(index)),isFound=!0):this._itemIntersectsEngagedWindow(relevantDim.start,relevantDim.end)&&(insertOnTop?newEngagedIndexes.splice(0,0,index):newEngagedIndexes.push(index),isFound=!0),isFound},ViewabilityTracker2.prototype._setRelevantBounds=function(itemRect,relevantDim){this._isHorizontal?(relevantDim.end=itemRect.x+itemRect.width,relevantDim.start=itemRect.x):(relevantDim.end=itemRect.y+itemRect.height,relevantDim.start=itemRect.y)},ViewabilityTracker2.prototype._isItemInBounds=function(window,itemBound){return window.start<itemBound&&window.end>itemBound},ViewabilityTracker2.prototype._isItemBoundsBeyondWindow=function(window,startBound,endBound){return window.start>=startBound&&window.end<=endBound},ViewabilityTracker2.prototype._isZeroHeightEdgeElement=function(window,startBound,endBound){return startBound-endBound===0&&(window.start===startBound||window.end===endBound)},ViewabilityTracker2.prototype._itemIntersectsWindow=function(window,startBound,endBound){return this._isItemInBounds(window,startBound)||this._isItemInBounds(window,endBound)||this._isItemBoundsBeyondWindow(window,startBound,endBound)||this._isZeroHeightEdgeElement(window,startBound,endBound)},ViewabilityTracker2.prototype._itemIntersectsEngagedWindow=function(startBound,endBound){return this._itemIntersectsWindow(this._engagedWindow,startBound,endBound)},ViewabilityTracker2.prototype._itemIntersectsVisibleWindow=function(startBound,endBound){return this._itemIntersectsWindow(this._visibleWindow,startBound,endBound)},ViewabilityTracker2.prototype._updateTrackingWindows=function(offset,correction){var startCorrection=correction.windowShift+correction.startCorrection,bottomCorrection=correction.windowShift+correction.endCorrection,startOffset=offset+startCorrection,endOffset=offset+this._windowBound+bottomCorrection;this._engagedWindow.start=Math.max(0,startOffset-this._renderAheadOffset),this._engagedWindow.end=endOffset+this._renderAheadOffset,this._visibleWindow.start=startOffset,this._visibleWindow.end=endOffset},ViewabilityTracker2.prototype._diffUpdateOriginalIndexesAndRaiseEvents=function(newVisibleItems,newEngagedItems){this._diffArraysAndCallFunc(newVisibleItems,this._visibleIndexes,this.onVisibleRowsChanged),this._diffArraysAndCallFunc(newEngagedItems,this._engagedIndexes,this.onEngagedRowsChanged),this._visibleIndexes=newVisibleItems,this._engagedIndexes=newEngagedItems},ViewabilityTracker2.prototype._diffArraysAndCallFunc=function(newItems,oldItems,func){if(func){var now=this._calculateArrayDiff(newItems,oldItems),notNow=this._calculateArrayDiff(oldItems,newItems);(now.length>0||notNow.length>0)&&func(__spreadArray2([],newItems,!0),now,notNow)}},ViewabilityTracker2.prototype._calculateArrayDiff=function(arr1,arr2){for(var len=arr1.length,diffArr=[],i=0;i<len;i++)BinarySearch_1.default.findIndexOf(arr2,arr1[i])===-1&&diffArr.push(arr1[i]);return diffArr},ViewabilityTracker2}();exports.default=ViewabilityTracker}});var require_TSCast=__commonJS({"node_modules/recyclerlistview/dist/reactnative/utils/TSCast.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var TSCast=function(){function TSCast2(){}return TSCast2.cast=function(object2){return object2},TSCast2}();exports.default=TSCast}});var require_VirtualRenderer=__commonJS({"node_modules/recyclerlistview/dist/reactnative/core/VirtualRenderer.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var RecycleItemPool_1=require_RecycleItemPool(),CustomError_1=require_CustomError(),RecyclerListViewExceptions_1=require_RecyclerListViewExceptions(),ViewabilityTracker_1=require_ViewabilityTracker(),ts_object_utils_1=require_dist(),TSCast_1=require_TSCast(),VirtualRenderer=function(){function VirtualRenderer2(renderStackChanged,scrollOnNextUpdate,fetchStableId,isRecyclingEnabled){var _this=this;this._layoutProvider=TSCast_1.default.cast(null),this._recyclePool=TSCast_1.default.cast(null),this._layoutManager=null,this._viewabilityTracker=null,this._optimizeForAnimations=!1,this._onVisibleItemsChanged=function(all,now,notNow){_this.onVisibleItemsChanged&&_this.onVisibleItemsChanged(all,now,notNow)},this._onEngagedItemsChanged=function(all,now,notNow){var count=notNow.length,resolvedKey,disengagedIndex=0;if(_this._isRecyclingEnabled)for(var i=0;i<count;i++)disengagedIndex=notNow[i],delete _this._engagedIndexes[disengagedIndex],_this._params&&disengagedIndex<_this._params.itemCount&&(resolvedKey=_this._stableIdToRenderKeyMap[_this._fetchStableId(disengagedIndex)],ts_object_utils_1.ObjectUtil.isNullOrUndefined(resolvedKey)||_this._recyclePool.putRecycledObject(_this._layoutProvider.getLayoutTypeForIndex(disengagedIndex),resolvedKey.key));_this._updateRenderStack(now)&&_this._renderStackChanged(_this._renderStack)},this._renderStack={},this._fetchStableId=fetchStableId,this._stableIdToRenderKeyMap={},this._engagedIndexes={},this._renderStackChanged=renderStackChanged,this._scrollOnNextUpdate=scrollOnNextUpdate,this._dimensions=null,this._params=null,this._isRecyclingEnabled=isRecyclingEnabled,this._isViewTrackerRunning=!1,this._markDirty=!1,this._startKey=0,this.onVisibleItemsChanged=null}return VirtualRenderer2.prototype.getLayoutDimension=function(){return this._layoutManager?this._layoutManager.getContentDimension():{height:0,width:0}},VirtualRenderer2.prototype.setOptimizeForAnimations=function(shouldOptimize){this._optimizeForAnimations=shouldOptimize},VirtualRenderer2.prototype.hasPendingAnimationOptimization=function(){return this._optimizeForAnimations},VirtualRenderer2.prototype.updateOffset=function(offsetX,offsetY,isActual,correction){if(this._viewabilityTracker){var offset=this._params&&this._params.isHorizontal?offsetX:offsetY;this._isViewTrackerRunning||(isActual&&this._viewabilityTracker.setActualOffset(offset),this.startViewabilityTracker(correction)),this._viewabilityTracker.updateOffset(offset,isActual,correction)}},VirtualRenderer2.prototype.attachVisibleItemsListener=function(callback){this.onVisibleItemsChanged=callback},VirtualRenderer2.prototype.removeVisibleItemsListener=function(){this.onVisibleItemsChanged=null,this._viewabilityTracker&&(this._viewabilityTracker.onVisibleRowsChanged=null)},VirtualRenderer2.prototype.getLayoutManager=function(){return this._layoutManager},VirtualRenderer2.prototype.setParamsAndDimensions=function(params,dim){this._params=params,this._dimensions=dim},VirtualRenderer2.prototype.setLayoutManager=function(layoutManager){this._layoutManager=layoutManager,this._params&&this._layoutManager.relayoutFromIndex(0,this._params.itemCount)},VirtualRenderer2.prototype.setLayoutProvider=function(layoutProvider){this._layoutProvider=layoutProvider},VirtualRenderer2.prototype.getViewabilityTracker=function(){return this._viewabilityTracker},VirtualRenderer2.prototype.refreshWithAnchor=function(){if(this._viewabilityTracker){var firstVisibleIndex=this._viewabilityTracker.findFirstLogicallyVisibleIndex();this._prepareViewabilityTracker();var offset=0;if(this._layoutManager&&this._params){firstVisibleIndex=Math.min(this._params.itemCount-1,firstVisibleIndex);var point=this._layoutManager.getOffsetForIndex(firstVisibleIndex);this._scrollOnNextUpdate(point),offset=this._params.isHorizontal?point.x:point.y}this._viewabilityTracker.forceRefreshWithOffset(offset)}},VirtualRenderer2.prototype.refresh=function(){this._viewabilityTracker&&(this._prepareViewabilityTracker(),this._viewabilityTracker.forceRefresh())},VirtualRenderer2.prototype.getInitialOffset=function(){var offset={x:0,y:0};if(this._params){var initialRenderIndex=ts_object_utils_1.Default.value(this._params.initialRenderIndex,0);initialRenderIndex>0&&this._layoutManager?(offset=this._layoutManager.getOffsetForIndex(initialRenderIndex),this._params.initialOffset=this._params.isHorizontal?offset.x:offset.y):this._params.isHorizontal?(offset.x=ts_object_utils_1.Default.value(this._params.initialOffset,0),offset.y=0):(offset.y=ts_object_utils_1.Default.value(this._params.initialOffset,0),offset.x=0)}return offset},VirtualRenderer2.prototype.init=function(){this.getInitialOffset(),this._recyclePool=new RecycleItemPool_1.default,this._params?this._viewabilityTracker=new ViewabilityTracker_1.default(ts_object_utils_1.Default.value(this._params.renderAheadOffset,0),ts_object_utils_1.Default.value(this._params.initialOffset,0)):this._viewabilityTracker=new ViewabilityTracker_1.default(0,0),this._prepareViewabilityTracker()},VirtualRenderer2.prototype.startViewabilityTracker=function(windowCorrection){this._viewabilityTracker&&(this._isViewTrackerRunning=!0,this._viewabilityTracker.init(windowCorrection))},VirtualRenderer2.prototype.syncAndGetKey=function(index,overrideStableIdProvider,newRenderStack,keyToStableIdMap){var getStableId=overrideStableIdProvider||this._fetchStableId,renderStack=newRenderStack||this._renderStack,stableIdItem=this._stableIdToRenderKeyMap[getStableId(index)],key=stableIdItem?stableIdItem.key:void 0;if(ts_object_utils_1.ObjectUtil.isNullOrUndefined(key)){var type=this._layoutProvider.getLayoutTypeForIndex(index);if(key=this._recyclePool.getRecycledObject(type),ts_object_utils_1.ObjectUtil.isNullOrUndefined(key))key=getStableId(index),renderStack[key]&&(key=this._getCollisionAvoidingKey()),renderStack[key]={dataIndex:index};else{var itemMeta=renderStack[key];if(itemMeta){var oldIndex=itemMeta.dataIndex;itemMeta.dataIndex=index,!ts_object_utils_1.ObjectUtil.isNullOrUndefined(oldIndex)&&oldIndex!==index&&delete this._stableIdToRenderKeyMap[getStableId(oldIndex)]}else renderStack[key]={dataIndex:index},keyToStableIdMap&&keyToStableIdMap[key]&&delete this._stableIdToRenderKeyMap[keyToStableIdMap[key]]}this._markDirty=!0,this._stableIdToRenderKeyMap[getStableId(index)]={key,type}}ts_object_utils_1.ObjectUtil.isNullOrUndefined(this._engagedIndexes[index])||this._recyclePool.removeFromPool(key);var stackItem=renderStack[key];return stackItem&&stackItem.dataIndex!==index&&console.warn("Possible stableId collision @",index),key},VirtualRenderer2.prototype.handleDataSetChange=function(newDataProvider){var _this=this,getStableId=newDataProvider.getStableId,maxIndex=newDataProvider.getSize()-1,activeStableIds={},newRenderStack={},keyToStableIdMap={};this._optimizeForAnimations&&this._recyclePool&&this._recyclePool.clearAll();for(var key in this._renderStack)if(this._renderStack.hasOwnProperty(key)){var index=this._renderStack[key].dataIndex;if(!ts_object_utils_1.ObjectUtil.isNullOrUndefined(index)&&index<=maxIndex){var stableId=getStableId(index);activeStableIds[stableId]=1}}for(var oldActiveStableIds=Object.keys(this._stableIdToRenderKeyMap),oldActiveStableIdsCount=oldActiveStableIds.length,i=0;i<oldActiveStableIdsCount;i++){var key=oldActiveStableIds[i],stableIdItem=this._stableIdToRenderKeyMap[key];if(stableIdItem)if(activeStableIds[key])keyToStableIdMap[stableIdItem.key]=key;else{!this._optimizeForAnimations&&this._isRecyclingEnabled&&this._recyclePool.putRecycledObject(stableIdItem.type,stableIdItem.key),delete this._stableIdToRenderKeyMap[key];var stackItem=this._renderStack[stableIdItem.key],dataIndex=stackItem?stackItem.dataIndex:void 0;!ts_object_utils_1.ObjectUtil.isNullOrUndefined(dataIndex)&&dataIndex<=maxIndex&&this._layoutManager&&this._layoutManager.removeLayout(dataIndex)}}for(var renderStackKeys=Object.keys(this._renderStack).sort(function(a,b5){var firstItem=_this._renderStack[a],secondItem=_this._renderStack[b5];return firstItem&&firstItem.dataIndex&&secondItem&&secondItem.dataIndex?firstItem.dataIndex-secondItem.dataIndex:1}),renderStackLength=renderStackKeys.length,i=0;i<renderStackLength;i++){var key=renderStackKeys[i],index=this._renderStack[key].dataIndex;if(!ts_object_utils_1.ObjectUtil.isNullOrUndefined(index)&&index<=maxIndex){var newKey=this.syncAndGetKey(index,getStableId,newRenderStack,keyToStableIdMap),newStackItem=newRenderStack[newKey];if(!newStackItem)newRenderStack[newKey]={dataIndex:index};else if(newStackItem.dataIndex!==index){var cllKey=this._getCollisionAvoidingKey();newRenderStack[cllKey]={dataIndex:index},this._stableIdToRenderKeyMap[getStableId(index)]={key:cllKey,type:this._layoutProvider.getLayoutTypeForIndex(index)}}}delete this._renderStack[key]}Object.assign(this._renderStack,newRenderStack);for(var key in this._renderStack)if(this._renderStack.hasOwnProperty(key)){var index=this._renderStack[key].dataIndex;if(!ts_object_utils_1.ObjectUtil.isNullOrUndefined(index)&&ts_object_utils_1.ObjectUtil.isNullOrUndefined(this._engagedIndexes[index])){var type=this._layoutProvider.getLayoutTypeForIndex(index);this._recyclePool.putRecycledObject(type,key)}}},VirtualRenderer2.prototype._getCollisionAvoidingKey=function(){return"#"+this._startKey+++"_rlv_c"},VirtualRenderer2.prototype._prepareViewabilityTracker=function(){if(this._viewabilityTracker&&this._layoutManager&&this._dimensions&&this._params)this._viewabilityTracker.onEngagedRowsChanged=this._onEngagedItemsChanged,this.onVisibleItemsChanged&&(this._viewabilityTracker.onVisibleRowsChanged=this._onVisibleItemsChanged),this._viewabilityTracker.setLayouts(this._layoutManager.getLayouts(),this._params.isHorizontal?this._layoutManager.getContentDimension().width:this._layoutManager.getContentDimension().height),this._viewabilityTracker.setDimensions({height:this._dimensions.height,width:this._dimensions.width},ts_object_utils_1.Default.value(this._params.isHorizontal,!1));else throw new CustomError_1.default(RecyclerListViewExceptions_1.default.initializationException)},VirtualRenderer2.prototype._updateRenderStack=function(itemIndexes){this._markDirty=!1;for(var count=itemIndexes.length,index=0,hasRenderStackChanged=!1,i=0;i<count;i++)index=itemIndexes[i],this._engagedIndexes[index]=1,this.syncAndGetKey(index),hasRenderStackChanged=this._markDirty;return this._markDirty=!1,hasRenderStackChanged},VirtualRenderer2}();exports.default=VirtualRenderer}});var require_ItemAnimator=__commonJS({"node_modules/recyclerlistview/dist/reactnative/core/ItemAnimator.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.BaseItemAnimator=void 0;var BaseItemAnimator=function(){function BaseItemAnimator2(){}return BaseItemAnimator2.prototype.animateWillMount=function(atX,atY,itemIndex){},BaseItemAnimator2.prototype.animateDidMount=function(atX,atY,itemRef,itemIndex){},BaseItemAnimator2.prototype.animateWillUpdate=function(fromX,fromY,toX,toY,itemRef,itemIndex){},BaseItemAnimator2.prototype.animateShift=function(fromX,fromY,toX,toY,itemRef,itemIndex){return!1},BaseItemAnimator2.prototype.animateWillUnmount=function(atX,atY,itemRef,itemIndex){},BaseItemAnimator2.USE_NATIVE_DRIVER=!1,BaseItemAnimator2}();exports.BaseItemAnimator=BaseItemAnimator}});var require_ComponentCompat=__commonJS({"node_modules/recyclerlistview/dist/reactnative/utils/ComponentCompat.js"(exports){"use strict";var __extends2=exports&&exports.__extends||function(){var extendStatics2=function(d,b5){return extendStatics2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b6){d2.__proto__=b6}||function(d2,b6){for(var p in b6)Object.prototype.hasOwnProperty.call(b6,p)&&(d2[p]=b6[p])},extendStatics2(d,b5)};return function(d,b5){if(typeof b5!="function"&&b5!==null)throw new TypeError("Class extends value "+String(b5)+" is not a constructor or null");extendStatics2(d,b5);function __(){this.constructor=d}d.prototype=b5===null?Object.create(b5):(__.prototype=b5.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});exports.ComponentCompat=void 0;var React3=require_react(),ComponentCompat=function(_super){__extends2(ComponentCompat2,_super);function ComponentCompat2(props,context){var _this=_super.call(this,props,context)||this;return _this._hasRenderedOnce=!1,_this._didPropsChange=!1,_this}return ComponentCompat2.prototype.shouldComponentUpdate=function(newProps,newState){return this.props!==newProps&&this.componentWillReceivePropsCompat(newProps),!0},ComponentCompat2.prototype.getHasRenderedOnce=function(){return this._hasRenderedOnce},ComponentCompat2.prototype.componentWillReceivePropsCompat=function(newProps){},ComponentCompat2.prototype.componentWillMountCompat=function(){},ComponentCompat2.prototype.componentWillUpdateCompat=function(){},ComponentCompat2.prototype.render=function(){return this._hasRenderedOnce?this.componentWillUpdateCompat():(this._hasRenderedOnce=!0,this.componentWillMountCompat()),this.renderCompat()},ComponentCompat2}(React3.Component);exports.ComponentCompat=ComponentCompat}});var require_BaseScrollComponent=__commonJS({"node_modules/recyclerlistview/dist/reactnative/core/scrollcomponent/BaseScrollComponent.js"(exports){"use strict";var __extends2=exports&&exports.__extends||function(){var extendStatics2=function(d,b5){return extendStatics2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b6){d2.__proto__=b6}||function(d2,b6){for(var p in b6)Object.prototype.hasOwnProperty.call(b6,p)&&(d2[p]=b6[p])},extendStatics2(d,b5)};return function(d,b5){if(typeof b5!="function"&&b5!==null)throw new TypeError("Class extends value "+String(b5)+" is not a constructor or null");extendStatics2(d,b5);function __(){this.constructor=d}d.prototype=b5===null?Object.create(b5):(__.prototype=b5.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var React3=require_react(),BaseScrollComponent=function(_super){__extends2(BaseScrollComponent2,_super);function BaseScrollComponent2(){return _super!==null&&_super.apply(this,arguments)||this}return BaseScrollComponent2.prototype.getScrollableNode=function(){return null},BaseScrollComponent2.prototype.getNativeScrollRef=function(){return null},BaseScrollComponent2}(React3.Component);exports.default=BaseScrollComponent}});var require_ScrollComponent=__commonJS({"node_modules/recyclerlistview/dist/reactnative/platform/reactnative/scrollcomponent/ScrollComponent.js"(exports){"use strict";var __extends2=exports&&exports.__extends||function(){var extendStatics2=function(d,b5){return extendStatics2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b6){d2.__proto__=b6}||function(d2,b6){for(var p in b6)Object.prototype.hasOwnProperty.call(b6,p)&&(d2[p]=b6[p])},extendStatics2(d,b5)};return function(d,b5){if(typeof b5!="function"&&b5!==null)throw new TypeError("Class extends value "+String(b5)+" is not a constructor or null");extendStatics2(d,b5);function __(){this.constructor=d}d.prototype=b5===null?Object.create(b5):(__.prototype=b5.prototype,new __)}}(),__assign2=exports&&exports.__assign||function(){return __assign2=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__assign2.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var React3=require_react(),react_native_1=require_react_native(),BaseScrollComponent_1=require_BaseScrollComponent(),TSCast_1=require_TSCast(),ScrollComponent=function(_super){__extends2(ScrollComponent2,_super);function ScrollComponent2(args){var _this=_super.call(this,args)||this;return _this._scrollViewRef=null,_this._getScrollViewRef=function(scrollView){_this._scrollViewRef=scrollView},_this._onScroll=function(event){if(event){var contentOffset=event.nativeEvent.contentOffset;_this._offset=_this.props.isHorizontal?contentOffset.x:contentOffset.y,_this.props.onScroll(contentOffset.x,contentOffset.y,event)}},_this._onLayout=function(event){(_this._height!==event.nativeEvent.layout.height||_this._width!==event.nativeEvent.layout.width)&&(_this._height=event.nativeEvent.layout.height,_this._width=event.nativeEvent.layout.width,_this.props.onSizeChanged&&(_this._isSizeChangedCalledOnce=!0,_this.props.onSizeChanged(event.nativeEvent.layout))),_this.props.onLayout&&_this.props.onLayout(event)},_this._height=args.layoutSize&&args.layoutSize.height||0,_this._width=args.layoutSize&&args.layoutSize.width||0,_this._offset=0,_this._isSizeChangedCalledOnce=!1,_this}return ScrollComponent2.prototype.scrollTo=function(x2,y2,isAnimated){this._scrollViewRef&&this._scrollViewRef.scrollTo({x:x2,y:y2,animated:isAnimated})},ScrollComponent2.prototype.getScrollableNode=function(){return this._scrollViewRef&&this._scrollViewRef.getScrollableNode?this._scrollViewRef.getScrollableNode():null},ScrollComponent2.prototype.getNativeScrollRef=function(){return this._scrollViewRef},ScrollComponent2.prototype.render=function(){var Scroller=TSCast_1.default.cast(this.props.externalScrollView),renderContentContainer=this.props.renderContentContainer?this.props.renderContentContainer:this._defaultContainer,contentContainerProps={style:{height:this.props.contentHeight,width:this.props.contentWidth},horizontal:this.props.isHorizontal,scrollOffset:this._offset,renderAheadOffset:this.props.renderAheadOffset,windowSize:(this.props.isHorizontal?this._width:this._height)+this.props.renderAheadOffset};return React3.createElement(Scroller,__assign2({ref:this._getScrollViewRef,removeClippedSubviews:!1,scrollEventThrottle:this.props.scrollThrottle},this.props,{horizontal:this.props.isHorizontal,onScroll:this._onScroll,onLayout:!this._isSizeChangedCalledOnce||this.props.canChangeSize?this._onLayout:this.props.onLayout}),React3.createElement(react_native_1.View,{style:{flexDirection:this.props.isHorizontal?"row":"column"}},renderContentContainer(contentContainerProps,this.props.children),this.props.renderFooter?this.props.renderFooter():null))},ScrollComponent2.prototype._defaultContainer=function(props,children){return React3.createElement(react_native_1.View,__assign2({},props),children)},ScrollComponent2.defaultProps={contentHeight:0,contentWidth:0,externalScrollView:TSCast_1.default.cast(react_native_1.ScrollView),isHorizontal:!1,scrollThrottle:16},ScrollComponent2}(BaseScrollComponent_1.default);exports.default=ScrollComponent}});var require_BaseViewRenderer=__commonJS({"node_modules/recyclerlistview/dist/reactnative/core/viewrenderer/BaseViewRenderer.js"(exports){"use strict";var __extends2=exports&&exports.__extends||function(){var extendStatics2=function(d,b5){return extendStatics2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b6){d2.__proto__=b6}||function(d2,b6){for(var p in b6)Object.prototype.hasOwnProperty.call(b6,p)&&(d2[p]=b6[p])},extendStatics2(d,b5)};return function(d,b5){if(typeof b5!="function"&&b5!==null)throw new TypeError("Class extends value "+String(b5)+" is not a constructor or null");extendStatics2(d,b5);function __(){this.constructor=d}d.prototype=b5===null?Object.create(b5):(__.prototype=b5.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var ComponentCompat_1=require_ComponentCompat(),BaseViewRenderer=function(_super){__extends2(BaseViewRenderer2,_super);function BaseViewRenderer2(){var _this=_super!==null&&_super.apply(this,arguments)||this;return _this.isRendererMounted=!0,_this}return BaseViewRenderer2.prototype.shouldComponentUpdate=function(newProps){var hasMoved=this.props.x!==newProps.x||this.props.y!==newProps.y,hasSizeChanged=!newProps.forceNonDeterministicRendering&&(this.props.width!==newProps.width||this.props.height!==newProps.height)||this.props.layoutProvider!==newProps.layoutProvider,hasExtendedStateChanged=this.props.extendedState!==newProps.extendedState,hasInternalSnapshotChanged=this.props.internalSnapshot!==newProps.internalSnapshot,hasDataChanged=this.props.dataHasChanged&&this.props.dataHasChanged(this.props.data,newProps.data),shouldUpdate=hasSizeChanged||hasDataChanged||hasExtendedStateChanged||hasInternalSnapshotChanged;return shouldUpdate?newProps.itemAnimator.animateWillUpdate(this.props.x,this.props.y,newProps.x,newProps.y,this.getRef(),newProps.index):hasMoved&&(shouldUpdate=!newProps.itemAnimator.animateShift(this.props.x,this.props.y,newProps.x,newProps.y,this.getRef(),newProps.index)),shouldUpdate},BaseViewRenderer2.prototype.componentDidMount=function(){this.animatorStyleOverrides=void 0,this.props.itemAnimator.animateDidMount(this.props.x,this.props.y,this.getRef(),this.props.index)},BaseViewRenderer2.prototype.componentWillMountCompat=function(){this.animatorStyleOverrides=this.props.itemAnimator.animateWillMount(this.props.x,this.props.y,this.props.index)},BaseViewRenderer2.prototype.componentWillUnmount=function(){this.isRendererMounted=!1,this.props.itemAnimator.animateWillUnmount(this.props.x,this.props.y,this.getRef(),this.props.index)},BaseViewRenderer2.prototype.componentDidUpdate=function(){},BaseViewRenderer2.prototype.renderChild=function(){return this.props.childRenderer(this.props.layoutType,this.props.data,this.props.index,this.props.extendedState)},BaseViewRenderer2}(ComponentCompat_1.ComponentCompat);exports.default=BaseViewRenderer}});var require_ViewRenderer=__commonJS({"node_modules/recyclerlistview/dist/reactnative/platform/reactnative/viewrenderer/ViewRenderer.js"(exports){"use strict";var __extends2=exports&&exports.__extends||function(){var extendStatics2=function(d,b5){return extendStatics2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b6){d2.__proto__=b6}||function(d2,b6){for(var p in b6)Object.prototype.hasOwnProperty.call(b6,p)&&(d2[p]=b6[p])},extendStatics2(d,b5)};return function(d,b5){if(typeof b5!="function"&&b5!==null)throw new TypeError("Class extends value "+String(b5)+" is not a constructor or null");extendStatics2(d,b5);function __(){this.constructor=d}d.prototype=b5===null?Object.create(b5):(__.prototype=b5.prototype,new __)}}(),__assign2=exports&&exports.__assign||function(){return __assign2=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__assign2.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var React3=require_react(),react_native_1=require_react_native(),BaseViewRenderer_1=require_BaseViewRenderer(),ViewRenderer=function(_super){__extends2(ViewRenderer2,_super);function ViewRenderer2(){var _this=_super!==null&&_super.apply(this,arguments)||this;return _this._dim={width:0,height:0},_this._viewRef=null,_this._setRef=function(view){_this._viewRef=view},_this._onLayout=function(event){var xDiff=Math.abs(_this.props.x-event.nativeEvent.layout.x),yDiff=Math.abs(_this.props.y-event.nativeEvent.layout.y);xDiff<1&&yDiff<1&&(_this.props.height!==event.nativeEvent.layout.height||_this.props.width!==event.nativeEvent.layout.width)&&(_this._dim.height=event.nativeEvent.layout.height,_this._dim.width=event.nativeEvent.layout.width,_this.props.onSizeChanged&&_this.props.onSizeChanged(_this._dim,_this.props.index)),_this.props.onItemLayout&&_this.props.onItemLayout(_this.props.index)},_this._scheduleForceSizeUpdateTimer=function(){if(_this.props.forceNonDeterministicRendering){var oldDim=__assign2({},_this._dim);setTimeout(function(){_this._forceSizeUpdate(oldDim)},32)}},_this._forceSizeUpdate=function(dim){dim.width===_this._dim.width&&dim.height===_this._dim.height&&_this.isRendererMounted&&_this.props.onSizeChanged&&_this.props.onSizeChanged(_this._dim,_this.props.index)},_this}return ViewRenderer2.prototype.renderCompat=function(){var props=this.props.forceNonDeterministicRendering?{ref:this._setRef,onLayout:this._onLayout,style:__assign2(__assign2({flexDirection:this.props.isHorizontal?"column":"row",left:this.props.x,position:"absolute",top:this.props.y},this.props.styleOverrides),this.animatorStyleOverrides)}:{ref:this._setRef,style:__assign2(__assign2({left:this.props.x,position:"absolute",top:this.props.y,height:this.props.height,width:this.props.width},this.props.styleOverrides),this.animatorStyleOverrides)};return this._renderItemContainer(props,this.props,this.renderChild())},ViewRenderer2.prototype.componentDidUpdate=function(){_super.prototype.componentDidUpdate.call(this),this.props.layoutProvider&&this._layoutManagerRef&&this.props.layoutProvider.getLayoutManager()!==this._layoutManagerRef&&(this._layoutManagerRef=this.props.layoutProvider.getLayoutManager(),this._scheduleForceSizeUpdateTimer())},ViewRenderer2.prototype.componentDidMount=function(){_super.prototype.componentDidMount.call(this),this.props.layoutProvider&&(this._layoutManagerRef=this.props.layoutProvider.getLayoutManager())},ViewRenderer2.prototype.getRef=function(){return this._viewRef},ViewRenderer2.prototype._renderItemContainer=function(props,parentProps,children){return this.props.renderItemContainer&&this.props.renderItemContainer(props,parentProps,children)||React3.createElement(react_native_1.View,__assign2({},props),children)},ViewRenderer2}(BaseViewRenderer_1.default);exports.default=ViewRenderer}});var require_RecyclerListView=__commonJS({"node_modules/recyclerlistview/dist/reactnative/core/RecyclerListView.js"(exports){"use strict";var __extends2=exports&&exports.__extends||function(){var extendStatics2=function(d,b5){return extendStatics2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b6){d2.__proto__=b6}||function(d2,b6){for(var p in b6)Object.prototype.hasOwnProperty.call(b6,p)&&(d2[p]=b6[p])},extendStatics2(d,b5)};return function(d,b5){if(typeof b5!="function"&&b5!==null)throw new TypeError("Class extends value "+String(b5)+" is not a constructor or null");extendStatics2(d,b5);function __(){this.constructor=d}d.prototype=b5===null?Object.create(b5):(__.prototype=b5.prototype,new __)}}(),__assign2=exports&&exports.__assign||function(){return __assign2=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__assign2.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var debounce=require_lodash2(),PropTypes=require_prop_types(),React3=require_react(),ts_object_utils_1=require_dist(),ContextProvider_1=require_ContextProvider(),DataProvider_1=require_DataProvider(),LayoutProvider_1=require_LayoutProvider(),CustomError_1=require_CustomError(),RecyclerListViewExceptions_1=require_RecyclerListViewExceptions(),Constants_1=require_Constants(),Messages_1=require_Messages(),VirtualRenderer_1=require_VirtualRenderer(),ItemAnimator_1=require_ItemAnimator(),ComponentCompat_1=require_ComponentCompat(),ScrollComponent_1=require_ScrollComponent(),ViewRenderer_1=require_ViewRenderer(),react_native_1=require_react_native(),IS_WEB=!react_native_1.Platform||react_native_1.Platform.OS==="web",RecyclerListView=function(_super){__extends2(RecyclerListView2,_super);function RecyclerListView2(props,context){var _this=_super.call(this,props,context)||this;if(_this.refreshRequestDebouncer=debounce(function(executable){executable()}),_this._onEndReachedCalled=!1,_this._initComplete=!1,_this._isMounted=!0,_this._relayoutReqIndex=-1,_this._params={initialOffset:0,initialRenderIndex:0,isHorizontal:!1,itemCount:0,renderAheadOffset:250},_this._layout={height:0,width:0},_this._pendingScrollToOffset=null,_this._tempDim={height:0,width:0},_this._initialOffset=0,_this._scrollComponent=null,_this._defaultItemAnimator=new ItemAnimator_1.BaseItemAnimator,_this.scrollToOffset=function(x2,y2,animate,useWindowCorrection){animate===void 0&&(animate=!1),useWindowCorrection===void 0&&(useWindowCorrection=!1),_this._scrollComponent&&(_this.props.isHorizontal?(y2=0,x2=useWindowCorrection?x2-_this._windowCorrectionConfig.value.windowShift:x2):(x2=0,y2=useWindowCorrection?y2-_this._windowCorrectionConfig.value.windowShift:y2),_this._scrollComponent.scrollTo(x2,y2,animate))},_this._onItemLayout=function(index){_this.onItemLayout(index)},_this._onSizeChanged=function(layout){if(layout.height===0||layout.width===0){if(_this.props.suppressBoundedSizeException)return;throw new CustomError_1.default(RecyclerListViewExceptions_1.default.layoutException)}if(!(!_this.props.canChangeSize&&_this.props.layoutSize)){var hasHeightChanged=_this._layout.height!==layout.height,hasWidthChanged=_this._layout.width!==layout.width;_this._layout.height=layout.height,_this._layout.width=layout.width,_this._initComplete?hasHeightChanged&&hasWidthChanged||hasHeightChanged&&_this.props.isHorizontal||hasWidthChanged&&!_this.props.isHorizontal?_this._checkAndChangeLayouts(_this.props,!0):_this._refreshViewability():(_this._initComplete=!0,_this._initTrackers(_this.props),_this._processOnEndReached())}},_this._renderStackWhenReady=function(stack){if(_this._pendingScrollToOffset){_this._pendingRenderStack=stack;return}_this._initStateIfRequired(stack)||_this.setState(function(){return{renderStack:stack}})},_this._dataHasChanged=function(row1,row2){return _this.props.dataProvider.rowHasChanged(row1,row2)},_this._onViewContainerSizeChange=function(dim,index){var layoutManager=_this._virtualRenderer.getLayoutManager();if(_this.props.debugHandlers&&_this.props.debugHandlers.resizeDebugHandler){var itemRect=layoutManager.getLayouts()[index];_this.props.debugHandlers.resizeDebugHandler.resizeDebug({width:itemRect.width,height:itemRect.height},dim,index)}_this.props.forceNonDeterministicRendering&&layoutManager.overrideLayout(index,dim)&&(_this._relayoutReqIndex===-1?_this._relayoutReqIndex=index:_this._relayoutReqIndex=Math.min(_this._relayoutReqIndex,index),_this._queueStateRefresh())},_this._onScroll=function(offsetX,offsetY,rawEvent){_this._virtualRenderer.updateOffset(offsetX,offsetY,!0,_this._getWindowCorrection(offsetX,offsetY,_this.props)),_this.props.onScroll&&_this.props.onScroll(rawEvent,offsetX,offsetY),_this._processOnEndReached()},_this._virtualRenderer=new VirtualRenderer_1.default(_this._renderStackWhenReady,function(offset){_this._pendingScrollToOffset=offset},function(index){return _this.props.dataProvider.getStableId(index)},!props.disableRecycling),_this.props.windowCorrectionConfig){var windowCorrection=void 0;_this.props.windowCorrectionConfig.value?windowCorrection=_this.props.windowCorrectionConfig.value:windowCorrection={startCorrection:0,endCorrection:0,windowShift:0},_this._windowCorrectionConfig={applyToItemScroll:!!_this.props.windowCorrectionConfig.applyToItemScroll,applyToInitialOffset:!!_this.props.windowCorrectionConfig.applyToInitialOffset,value:windowCorrection}}else _this._windowCorrectionConfig={applyToItemScroll:!1,applyToInitialOffset:!1,value:{startCorrection:0,endCorrection:0,windowShift:0}};return _this._getContextFromContextProvider(props),props.layoutSize?(_this._layout.height=props.layoutSize.height,_this._layout.width=props.layoutSize.width,_this._initComplete=!0,_this._initTrackers(props)):_this.state={internalSnapshot:{},renderStack:{}},_this}return RecyclerListView2.prototype.componentWillReceivePropsCompat=function(newProps){if(this._assertDependencyPresence(newProps),this._checkAndChangeLayouts(newProps),newProps.onVisibleIndicesChanged||this._virtualRenderer.removeVisibleItemsListener(),newProps.onVisibleIndexesChanged)throw new CustomError_1.default(RecyclerListViewExceptions_1.default.usingOldVisibleIndexesChangedParam);newProps.onVisibleIndicesChanged&&this._virtualRenderer.attachVisibleItemsListener(newProps.onVisibleIndicesChanged)},RecyclerListView2.prototype.componentDidUpdate=function(){this._processInitialOffset(),this._processOnEndReached(),this._checkAndChangeLayouts(this.props),this._virtualRenderer.setOptimizeForAnimations(!1)},RecyclerListView2.prototype.componentDidMount=function(){this._initComplete&&(this._processInitialOffset(),this._processOnEndReached())},RecyclerListView2.prototype.componentWillUnmount=function(){if(this._isMounted=!1,this.props.contextProvider){var uniqueKey=this.props.contextProvider.getUniqueKey();if(uniqueKey&&(this.props.contextProvider.save(uniqueKey+Constants_1.Constants.CONTEXT_PROVIDER_OFFSET_KEY_SUFFIX,this.getCurrentScrollOffset()),this.props.forceNonDeterministicRendering&&this._virtualRenderer)){var layoutManager=this._virtualRenderer.getLayoutManager();if(layoutManager){var layoutsToCache=layoutManager.getLayouts();this.props.contextProvider.save(uniqueKey+Constants_1.Constants.CONTEXT_PROVIDER_LAYOUT_KEY_SUFFIX,JSON.stringify({layoutArray:layoutsToCache}))}}}},RecyclerListView2.prototype.scrollToIndex=function(index,animate){var layoutManager=this._virtualRenderer.getLayoutManager();if(layoutManager){var offsets=layoutManager.getOffsetForIndex(index);this.scrollToOffset(offsets.x,offsets.y,animate,this._windowCorrectionConfig.applyToItemScroll)}else console.warn(Messages_1.Messages.WARN_SCROLL_TO_INDEX)},RecyclerListView2.prototype.bringToFocus=function(index,animate){var listSize=this.getRenderedSize(),itemLayout=this.getLayout(index),currentScrollOffset=this.getCurrentScrollOffset()+this._windowCorrectionConfig.value.windowShift,isHorizontal=this.props.isHorizontal;if(itemLayout){var mainAxisLayoutDimen=isHorizontal?itemLayout.width:itemLayout.height,mainAxisLayoutPos=isHorizontal?itemLayout.x:itemLayout.y,mainAxisListDimen=isHorizontal?listSize.width:listSize.height,screenEndPos=mainAxisListDimen+currentScrollOffset;if(mainAxisLayoutDimen>mainAxisListDimen||mainAxisLayoutPos<currentScrollOffset||mainAxisLayoutPos>screenEndPos)this.scrollToIndex(index);else{var viewEndPos=mainAxisLayoutPos+mainAxisLayoutDimen;if(viewEndPos>screenEndPos){var offset=viewEndPos-screenEndPos;this.scrollToOffset(offset+currentScrollOffset,offset+currentScrollOffset,animate,!0)}}}},RecyclerListView2.prototype.scrollToItem=function(data,animate){for(var count=this.props.dataProvider.getSize(),i=0;i<count;i++)if(this.props.dataProvider.getDataForIndex(i)===data){this.scrollToIndex(i,animate);break}},RecyclerListView2.prototype.getLayout=function(index){var layoutManager=this._virtualRenderer.getLayoutManager();return layoutManager?layoutManager.getLayouts()[index]:void 0},RecyclerListView2.prototype.scrollToTop=function(animate){this.scrollToOffset(0,0,animate)},RecyclerListView2.prototype.scrollToEnd=function(animate){var lastIndex=this.props.dataProvider.getSize()-1;this.scrollToIndex(lastIndex,animate)},RecyclerListView2.prototype.updateRenderAheadOffset=function(renderAheadOffset){var viewabilityTracker=this._virtualRenderer.getViewabilityTracker();return viewabilityTracker?(viewabilityTracker.updateRenderAheadOffset(renderAheadOffset),!0):!1},RecyclerListView2.prototype.getCurrentRenderAheadOffset=function(){var viewabilityTracker=this._virtualRenderer.getViewabilityTracker();return viewabilityTracker?viewabilityTracker.getCurrentRenderAheadOffset():this.props.renderAheadOffset},RecyclerListView2.prototype.getCurrentScrollOffset=function(){var viewabilityTracker=this._virtualRenderer.getViewabilityTracker();return viewabilityTracker?viewabilityTracker.getLastActualOffset():0},RecyclerListView2.prototype.findApproxFirstVisibleIndex=function(){var viewabilityTracker=this._virtualRenderer.getViewabilityTracker();return viewabilityTracker?viewabilityTracker.findFirstLogicallyVisibleIndex():0},RecyclerListView2.prototype.getRenderedSize=function(){return this._layout},RecyclerListView2.prototype.getContentDimension=function(){return this._virtualRenderer.getLayoutDimension()},RecyclerListView2.prototype.forceRerender=function(){this.setState({internalSnapshot:{}})},RecyclerListView2.prototype.getScrollableNode=function(){return this._scrollComponent&&this._scrollComponent.getScrollableNode?this._scrollComponent.getScrollableNode():null},RecyclerListView2.prototype.getNativeScrollRef=function(){return this._scrollComponent&&this._scrollComponent.getNativeScrollRef?this._scrollComponent.getNativeScrollRef():null},RecyclerListView2.prototype.renderCompat=function(){var _this=this;return React3.createElement(ScrollComponent_1.default,__assign2({ref:function(scrollComponent){return _this._scrollComponent=scrollComponent}},this.props,this.props.scrollViewProps,{onScroll:this._onScroll,onSizeChanged:this._onSizeChanged,contentHeight:this._initComplete?this._virtualRenderer.getLayoutDimension().height:0,contentWidth:this._initComplete?this._virtualRenderer.getLayoutDimension().width:0,renderAheadOffset:this.getCurrentRenderAheadOffset()}),this._generateRenderStack())},RecyclerListView2.prototype.prepareForLayoutAnimationRender=function(){this._virtualRenderer.setOptimizeForAnimations(!0)},RecyclerListView2.prototype.getVirtualRenderer=function(){return this._virtualRenderer},RecyclerListView2.prototype.onItemLayout=function(index){this.props.onItemLayout&&this.props.onItemLayout(index)},RecyclerListView2.prototype._processInitialOffset=function(){var _this=this;this._pendingScrollToOffset&&setTimeout(function(){if(_this._pendingScrollToOffset){var offset=_this._pendingScrollToOffset;_this._pendingScrollToOffset=null,_this.props.isHorizontal?offset.y=0:offset.x=0,_this.scrollToOffset(offset.x,offset.y,!1,_this._windowCorrectionConfig.applyToInitialOffset),_this._pendingRenderStack&&(_this._renderStackWhenReady(_this._pendingRenderStack),_this._pendingRenderStack=void 0)}},0)},RecyclerListView2.prototype._getContextFromContextProvider=function(props){if(props.contextProvider){var uniqueKey=props.contextProvider.getUniqueKey();if(uniqueKey){var offset=props.contextProvider.get(uniqueKey+Constants_1.Constants.CONTEXT_PROVIDER_OFFSET_KEY_SUFFIX);if(typeof offset=="number"&&offset>0&&(this._initialOffset=offset,props.onRecreate&&props.onRecreate({lastOffset:this._initialOffset}),props.contextProvider.remove(uniqueKey+Constants_1.Constants.CONTEXT_PROVIDER_OFFSET_KEY_SUFFIX)),props.forceNonDeterministicRendering){var cachedLayouts=props.contextProvider.get(uniqueKey+Constants_1.Constants.CONTEXT_PROVIDER_LAYOUT_KEY_SUFFIX);cachedLayouts&&typeof cachedLayouts=="string"&&(this._cachedLayouts=JSON.parse(cachedLayouts).layoutArray,props.contextProvider.remove(uniqueKey+Constants_1.Constants.CONTEXT_PROVIDER_LAYOUT_KEY_SUFFIX))}}}},RecyclerListView2.prototype._checkAndChangeLayouts=function(newProps,forceFullRender){if(this._params.isHorizontal=newProps.isHorizontal,this._params.itemCount=newProps.dataProvider.getSize(),this._virtualRenderer.setParamsAndDimensions(this._params,this._layout),this._virtualRenderer.setLayoutProvider(newProps.layoutProvider),newProps.dataProvider.hasStableIds()&&this.props.dataProvider!==newProps.dataProvider&&(newProps.dataProvider.requiresDataChangeHandling()?this._virtualRenderer.handleDataSetChange(newProps.dataProvider):this._virtualRenderer.hasPendingAnimationOptimization()&&console.warn(Messages_1.Messages.ANIMATION_ON_PAGINATION)),this.props.layoutProvider!==newProps.layoutProvider||this.props.isHorizontal!==newProps.isHorizontal)this._virtualRenderer.setLayoutManager(newProps.layoutProvider.createLayoutManager(this._layout,newProps.isHorizontal)),newProps.layoutProvider.shouldRefreshWithAnchoring?this._virtualRenderer.refreshWithAnchor():this._virtualRenderer.refresh(),this._refreshViewability();else if(this.props.dataProvider!==newProps.dataProvider){newProps.dataProvider.getSize()>this.props.dataProvider.getSize()&&(this._onEndReachedCalled=!1);var layoutManager=this._virtualRenderer.getLayoutManager();layoutManager&&(layoutManager.relayoutFromIndex(newProps.dataProvider.getFirstIndexToProcessInternal(),newProps.dataProvider.getSize()),this._virtualRenderer.refresh())}else if(forceFullRender){var layoutManager=this._virtualRenderer.getLayoutManager();if(layoutManager){var cachedLayouts=layoutManager.getLayouts();this._virtualRenderer.setLayoutManager(newProps.layoutProvider.createLayoutManager(this._layout,newProps.isHorizontal,cachedLayouts)),this._refreshViewability()}}else if(this._relayoutReqIndex>=0){var layoutManager=this._virtualRenderer.getLayoutManager();if(layoutManager){var dataProviderSize=newProps.dataProvider.getSize();layoutManager.relayoutFromIndex(Math.min(Math.max(dataProviderSize-1,0),this._relayoutReqIndex),dataProviderSize),this._relayoutReqIndex=-1,this._refreshViewability()}}},RecyclerListView2.prototype._refreshViewability=function(){this._virtualRenderer.refresh(),this._queueStateRefresh()},RecyclerListView2.prototype._queueStateRefresh=function(){var _this=this;this.refreshRequestDebouncer(function(){_this._isMounted&&_this.setState(function(prevState){return prevState})})},RecyclerListView2.prototype._initStateIfRequired=function(stack){return!this.state&&!this.getHasRenderedOnce()?(this.state={internalSnapshot:{},renderStack:stack},!0):!1},RecyclerListView2.prototype._initTrackers=function(props){if(this._assertDependencyPresence(props),props.onVisibleIndexesChanged)throw new CustomError_1.default(RecyclerListViewExceptions_1.default.usingOldVisibleIndexesChangedParam);props.onVisibleIndicesChanged&&this._virtualRenderer.attachVisibleItemsListener(props.onVisibleIndicesChanged),this._params={initialOffset:this._initialOffset?this._initialOffset:props.initialOffset,initialRenderIndex:props.initialRenderIndex,isHorizontal:props.isHorizontal,itemCount:props.dataProvider.getSize(),renderAheadOffset:props.renderAheadOffset},this._virtualRenderer.setParamsAndDimensions(this._params,this._layout);var layoutManager=props.layoutProvider.createLayoutManager(this._layout,props.isHorizontal,this._cachedLayouts);this._virtualRenderer.setLayoutManager(layoutManager),this._virtualRenderer.setLayoutProvider(props.layoutProvider),this._virtualRenderer.init();var offset=this._virtualRenderer.getInitialOffset(),contentDimension=layoutManager.getContentDimension();offset.y>0&&contentDimension.height>this._layout.height||offset.x>0&&contentDimension.width>this._layout.width?(this._pendingScrollToOffset=offset,this._initStateIfRequired()||this.setState({})):this._virtualRenderer.startViewabilityTracker(this._getWindowCorrection(offset.x,offset.y,props))},RecyclerListView2.prototype._getWindowCorrection=function(offsetX,offsetY,props){return props.applyWindowCorrection&&props.applyWindowCorrection(offsetX,offsetY,this._windowCorrectionConfig.value)||this._windowCorrectionConfig.value},RecyclerListView2.prototype._assertDependencyPresence=function(props){if(!props.dataProvider||!props.layoutProvider)throw new CustomError_1.default(RecyclerListViewExceptions_1.default.unresolvedDependenciesException)},RecyclerListView2.prototype._assertType=function(type){if(!type&&type!==0)throw new CustomError_1.default(RecyclerListViewExceptions_1.default.itemTypeNullException)},RecyclerListView2.prototype._renderRowUsingMeta=function(itemMeta){var dataSize=this.props.dataProvider.getSize(),dataIndex=itemMeta.dataIndex;if(!ts_object_utils_1.ObjectUtil.isNullOrUndefined(dataIndex)&&dataIndex<dataSize){var itemRect=this._virtualRenderer.getLayoutManager().getLayouts()[dataIndex],data=this.props.dataProvider.getDataForIndex(dataIndex),type=this.props.layoutProvider.getLayoutTypeForIndex(dataIndex),key=this._virtualRenderer.syncAndGetKey(dataIndex),styleOverrides=this._virtualRenderer.getLayoutManager().getStyleOverridesForIndex(dataIndex);return this._assertType(type),this.props.forceNonDeterministicRendering||this._checkExpectedDimensionDiscrepancy(itemRect,type,dataIndex),React3.createElement(ViewRenderer_1.default,{key,data,dataHasChanged:this._dataHasChanged,x:itemRect.x,y:itemRect.y,layoutType:type,index:dataIndex,styleOverrides,layoutProvider:this.props.layoutProvider,forceNonDeterministicRendering:this.props.forceNonDeterministicRendering,isHorizontal:this.props.isHorizontal,onSizeChanged:this._onViewContainerSizeChange,childRenderer:this.props.rowRenderer,height:itemRect.height,width:itemRect.width,itemAnimator:ts_object_utils_1.Default.value(this.props.itemAnimator,this._defaultItemAnimator),extendedState:this.props.extendedState,internalSnapshot:this.state.internalSnapshot,renderItemContainer:this.props.renderItemContainer,onItemLayout:this._onItemLayout})}return null},RecyclerListView2.prototype._checkExpectedDimensionDiscrepancy=function(itemRect,type,index){this.props.layoutProvider.checkDimensionDiscrepancy(itemRect,type,index)&&(this._relayoutReqIndex===-1?this._relayoutReqIndex=index:this._relayoutReqIndex=Math.min(this._relayoutReqIndex,index))},RecyclerListView2.prototype._generateRenderStack=function(){var renderedItems=[];if(this.state)for(var key in this.state.renderStack)this.state.renderStack.hasOwnProperty(key)&&renderedItems.push(this._renderRowUsingMeta(this.state.renderStack[key]));return renderedItems},RecyclerListView2.prototype._processOnEndReached=function(){if(this.props.onEndReached&&this._virtualRenderer){var layout=this._virtualRenderer.getLayoutDimension(),viewabilityTracker=this._virtualRenderer.getViewabilityTracker();if(viewabilityTracker){var windowBound=this.props.isHorizontal?layout.width-this._layout.width:layout.height-this._layout.height,lastOffset=viewabilityTracker?viewabilityTracker.getLastOffset():0,threshold=windowBound-lastOffset,listLength=this.props.isHorizontal?this._layout.width:this._layout.height,triggerOnEndThresholdRelative=listLength*ts_object_utils_1.Default.value(this.props.onEndReachedThresholdRelative,0),triggerOnEndThreshold=ts_object_utils_1.Default.value(this.props.onEndReachedThreshold,0);threshold<=triggerOnEndThresholdRelative||threshold<=triggerOnEndThreshold?this.props.onEndReached&&!this._onEndReachedCalled&&(this._onEndReachedCalled=!0,this.props.onEndReached()):this._onEndReachedCalled=!1}}},RecyclerListView2.defaultProps={canChangeSize:!1,disableRecycling:!1,initialOffset:0,initialRenderIndex:0,isHorizontal:!1,onEndReachedThreshold:0,onEndReachedThresholdRelative:0,renderAheadOffset:IS_WEB?1e3:250},RecyclerListView2.propTypes={},RecyclerListView2}(ComponentCompat_1.ComponentCompat);exports.default=RecyclerListView;RecyclerListView.propTypes={layoutProvider:PropTypes.instanceOf(LayoutProvider_1.BaseLayoutProvider).isRequired,dataProvider:PropTypes.instanceOf(DataProvider_1.BaseDataProvider).isRequired,contextProvider:PropTypes.instanceOf(ContextProvider_1.default),rowRenderer:PropTypes.func.isRequired,initialOffset:PropTypes.number,renderAheadOffset:PropTypes.number,isHorizontal:PropTypes.bool,onScroll:PropTypes.func,onRecreate:PropTypes.func,externalScrollView:PropTypes.oneOfType([PropTypes.func,PropTypes.object]),onEndReached:PropTypes.func,onEndReachedThreshold:PropTypes.number,onEndReachedThresholdRelative:PropTypes.number,onVisibleIndexesChanged:PropTypes.func,onVisibleIndicesChanged:PropTypes.func,renderFooter:PropTypes.func,initialRenderIndex:PropTypes.number,layoutSize:PropTypes.object,scrollThrottle:PropTypes.number,canChangeSize:PropTypes.bool,useWindowScroll:PropTypes.bool,disableRecycling:PropTypes.bool,forceNonDeterministicRendering:PropTypes.bool,extendedState:PropTypes.object,itemAnimator:PropTypes.instanceOf(ItemAnimator_1.BaseItemAnimator),renderContentContainer:PropTypes.func,renderItemContainer:PropTypes.func,optimizeForInsertDeleteAnimations:PropTypes.bool,style:PropTypes.oneOfType([PropTypes.object,PropTypes.number]),scrollViewProps:PropTypes.object,applyWindowCorrection:PropTypes.func,onItemLayout:PropTypes.func,windowCorrectionConfig:PropTypes.object}}});var require_BaseScrollView=__commonJS({"node_modules/recyclerlistview/dist/reactnative/core/scrollcomponent/BaseScrollView.js"(exports){"use strict";var __extends2=exports&&exports.__extends||function(){var extendStatics2=function(d,b5){return extendStatics2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b6){d2.__proto__=b6}||function(d2,b6){for(var p in b6)Object.prototype.hasOwnProperty.call(b6,p)&&(d2[p]=b6[p])},extendStatics2(d,b5)};return function(d,b5){if(typeof b5!="function"&&b5!==null)throw new TypeError("Class extends value "+String(b5)+" is not a constructor or null");extendStatics2(d,b5);function __(){this.constructor=d}d.prototype=b5===null?Object.create(b5):(__.prototype=b5.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var React3=require_react(),BaseScrollView=function(_super){__extends2(BaseScrollView2,_super);function BaseScrollView2(props){return _super.call(this,props)||this}return BaseScrollView2}(React3.Component);exports.default=BaseScrollView}});var require_AutoScroll=__commonJS({"node_modules/recyclerlistview/dist/reactnative/utils/AutoScroll.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.AutoScroll=void 0;var AutoScroll=function(){function AutoScroll2(){}return AutoScroll2.scrollNow=function(scrollable,fromX,fromY,toX,toY,speedMultiplier){return speedMultiplier===void 0&&(speedMultiplier=1),new Promise(function(resolve){scrollable.scrollToOffset(fromX,fromY,!1);var incrementPerMs=.1*speedMultiplier,startTime=Date.now(),startX=fromX,startY=fromY,animationLoop=function(){requestAnimationFrame(function(){var currentTime=Date.now(),timeElapsed=currentTime-startTime,distanceToCover=incrementPerMs*timeElapsed;if(startX+=distanceToCover,startY+=distanceToCover,scrollable.scrollToOffset(Math.min(toX,startX),Math.min(toY,startY),!1),startTime=currentTime,Math.min(toX,startX)!==toX||Math.min(toY,startY)!==toY){animationLoop();return}resolve()})};animationLoop()})},AutoScroll2}();exports.AutoScroll=AutoScroll}});var require_ProgressiveListView=__commonJS({"node_modules/recyclerlistview/dist/reactnative/core/ProgressiveListView.js"(exports){"use strict";var __extends2=exports&&exports.__extends||function(){var extendStatics2=function(d,b5){return extendStatics2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b6){d2.__proto__=b6}||function(d2,b6){for(var p in b6)Object.prototype.hasOwnProperty.call(b6,p)&&(d2[p]=b6[p])},extendStatics2(d,b5)};return function(d,b5){if(typeof b5!="function"&&b5!==null)throw new TypeError("Class extends value "+String(b5)+" is not a constructor or null");extendStatics2(d,b5);function __(){this.constructor=d}d.prototype=b5===null?Object.create(b5):(__.prototype=b5.prototype,new __)}}(),__assign2=exports&&exports.__assign||function(){return __assign2=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__assign2.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var RecyclerListView_1=require_RecyclerListView(),ProgressiveListView=function(_super){__extends2(ProgressiveListView2,_super);function ProgressiveListView2(){var _this=_super!==null&&_super.apply(this,arguments)||this;return _this.isFirstLayoutComplete=!1,_this}return ProgressiveListView2.prototype.componentDidMount=function(){_super.prototype.componentDidMount.call(this),this.props.forceNonDeterministicRendering||this.updateRenderAheadProgressively(this.getCurrentRenderAheadOffset())},ProgressiveListView2.prototype.componentWillUnmount=function(){this.cancelRenderAheadUpdate(),_super.prototype.componentWillUnmount.call(this)},ProgressiveListView2.prototype.onItemLayout=function(index){this.isFirstLayoutComplete||(this.isFirstLayoutComplete=!0,this.props.forceNonDeterministicRendering&&this.updateRenderAheadProgressively(this.getCurrentRenderAheadOffset())),_super.prototype.onItemLayout.call(this,index)},ProgressiveListView2.prototype.updateRenderAheadProgressively=function(newVal){var _this=this;this.cancelRenderAheadUpdate(),this.renderAheadUpdateCallbackId=requestAnimationFrame(function(){_this.updateRenderAheadOffset(newVal)?_this.incrementRenderAhead():_this.updateRenderAheadProgressively(newVal)})},ProgressiveListView2.prototype.incrementRenderAhead=function(){if(this.props.maxRenderAhead&&this.props.renderAheadStep){var layoutManager=this.getVirtualRenderer().getLayoutManager(),currentRenderAheadOffset=this.getCurrentRenderAheadOffset();if(layoutManager){var contentDimension=layoutManager.getContentDimension(),maxContentSize=this.props.isHorizontal?contentDimension.width:contentDimension.height;if(currentRenderAheadOffset<maxContentSize&&currentRenderAheadOffset<this.props.maxRenderAhead){var newRenderAheadOffset=currentRenderAheadOffset+this.props.renderAheadStep;this.updateRenderAheadProgressively(newRenderAheadOffset)}else this.performFinalUpdate()}}},ProgressiveListView2.prototype.performFinalUpdate=function(){var _this=this;this.cancelRenderAheadUpdate(),this.renderAheadUpdateCallbackId=requestAnimationFrame(function(){_this.props.finalRenderAheadOffset!==void 0&&_this.updateRenderAheadOffset(_this.props.finalRenderAheadOffset)})},ProgressiveListView2.prototype.cancelRenderAheadUpdate=function(){this.renderAheadUpdateCallbackId!==void 0&&cancelAnimationFrame(this.renderAheadUpdateCallbackId)},ProgressiveListView2.defaultProps=__assign2(__assign2({},RecyclerListView_1.default.defaultProps),{maxRenderAhead:Number.MAX_VALUE,renderAheadStep:300,renderAheadOffset:0}),ProgressiveListView2}(RecyclerListView_1.default);exports.default=ProgressiveListView}});var require_reactnative=__commonJS({"node_modules/recyclerlistview/dist/reactnative/index.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.ComponentCompat=exports.BaseDataProvider=exports.AutoScroll=exports.BaseScrollView=exports.BaseItemAnimator=exports.ProgressiveListView=exports.RecyclerListView=exports.GridLayoutManager=exports.GridLayoutProvider=exports.WrapGridLayoutManager=exports.LayoutManager=exports.BaseLayoutProvider=exports.LayoutProvider=exports.DataProvider=exports.ContextProvider=void 0;var ContextProvider_1=require_ContextProvider();exports.ContextProvider=ContextProvider_1.default;var DataProvider_1=require_DataProvider();exports.DataProvider=DataProvider_1.default;Object.defineProperty(exports,"BaseDataProvider",{enumerable:!0,get:function(){return DataProvider_1.BaseDataProvider}});var LayoutProvider_1=require_LayoutProvider();Object.defineProperty(exports,"BaseLayoutProvider",{enumerable:!0,get:function(){return LayoutProvider_1.BaseLayoutProvider}});Object.defineProperty(exports,"LayoutProvider",{enumerable:!0,get:function(){return LayoutProvider_1.LayoutProvider}});var GridLayoutProvider_1=require_GridLayoutProvider();Object.defineProperty(exports,"GridLayoutProvider",{enumerable:!0,get:function(){return GridLayoutProvider_1.GridLayoutProvider}});var RecyclerListView_1=require_RecyclerListView();exports.RecyclerListView=RecyclerListView_1.default;var BaseScrollView_1=require_BaseScrollView();exports.BaseScrollView=BaseScrollView_1.default;var ItemAnimator_1=require_ItemAnimator();Object.defineProperty(exports,"BaseItemAnimator",{enumerable:!0,get:function(){return ItemAnimator_1.BaseItemAnimator}});var AutoScroll_1=require_AutoScroll();Object.defineProperty(exports,"AutoScroll",{enumerable:!0,get:function(){return AutoScroll_1.AutoScroll}});var LayoutManager_1=require_LayoutManager();Object.defineProperty(exports,"LayoutManager",{enumerable:!0,get:function(){return LayoutManager_1.LayoutManager}});Object.defineProperty(exports,"WrapGridLayoutManager",{enumerable:!0,get:function(){return LayoutManager_1.WrapGridLayoutManager}});var GridLayoutManager_1=require_GridLayoutManager();Object.defineProperty(exports,"GridLayoutManager",{enumerable:!0,get:function(){return GridLayoutManager_1.GridLayoutManager}});var ProgressiveListView_1=require_ProgressiveListView();exports.ProgressiveListView=ProgressiveListView_1.default;var ComponentCompat_1=require_ComponentCompat();Object.defineProperty(exports,"ComponentCompat",{enumerable:!0,get:function(){return ComponentCompat_1.ComponentCompat}})}});var require_StickyObject=__commonJS({"node_modules/recyclerlistview/dist/reactnative/core/sticky/StickyObject.js"(exports){"use strict";var __extends2=exports&&exports.__extends||function(){var extendStatics2=function(d,b5){return extendStatics2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b6){d2.__proto__=b6}||function(d2,b6){for(var p in b6)Object.prototype.hasOwnProperty.call(b6,p)&&(d2[p]=b6[p])},extendStatics2(d,b5)};return function(d,b5){if(typeof b5!="function"&&b5!==null)throw new TypeError("Class extends value "+String(b5)+" is not a constructor or null");extendStatics2(d,b5);function __(){this.constructor=d}d.prototype=b5===null?Object.create(b5):(__.prototype=b5.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});exports.StickyType=void 0;var React3=require_react(),react_native_1=require_react_native(),RecyclerListViewExceptions_1=require_RecyclerListViewExceptions(),CustomError_1=require_CustomError(),ComponentCompat_1=require_ComponentCompat(),StickyType;(function(StickyType2){StickyType2[StickyType2.HEADER=0]="HEADER",StickyType2[StickyType2.FOOTER=1]="FOOTER"})(StickyType=exports.StickyType||(exports.StickyType={}));var StickyObject=function(_super){__extends2(StickyObject2,_super);function StickyObject2(props,context){var _this=_super.call(this,props,context)||this;return _this.stickyType=StickyType.HEADER,_this.stickyTypeMultiplier=1,_this.stickyVisiblity=!1,_this.currentIndex=0,_this.currentStickyIndex=0,_this.visibleIndices=[],_this.bounceScrolling=!1,_this._stickyViewOffset=new react_native_1.Animated.Value(0),_this._previousStickyIndex=0,_this._nextStickyIndex=0,_this._firstCompute=!0,_this._smallestVisibleIndex=0,_this._largestVisibleIndex=0,_this._offsetY=0,_this._windowCorrection={startCorrection:0,endCorrection:0,windowShift:0},_this}return StickyObject2.prototype.componentWillReceivePropsCompat=function(newProps){this._updateDimensionParams(),this.calculateVisibleStickyIndex(newProps.stickyIndices,this._smallestVisibleIndex,this._largestVisibleIndex,this._offsetY,this._windowBound),this._computeLayouts(newProps.stickyIndices),this.stickyViewVisible(this.stickyVisiblity,!1)},StickyObject2.prototype.renderCompat=function(){var containerStyle=[{transform:[{translateY:this._stickyViewOffset}]},!this.props.renderContainer&&[{position:"absolute",width:this._scrollableWidth},this.containerPosition]],content=React3.createElement(react_native_1.Animated.View,{style:containerStyle},this.stickyVisiblity?this._renderSticky():null);if(this.props.renderContainer){var _extendedState=this.props.getExtendedState();return this.props.renderContainer(content,this.currentStickyIndex,_extendedState)}else return content},StickyObject2.prototype.onVisibleIndicesChanged=function(all){this._firstCompute&&(this.initStickyParams(),this._offsetY=this._getAdjustedOffsetY(this._offsetY),this._firstCompute=!1),this._updateDimensionParams(),this._setSmallestAndLargestVisibleIndices(all),this.calculateVisibleStickyIndex(this.props.stickyIndices,this._smallestVisibleIndex,this._largestVisibleIndex,this._offsetY,this._windowBound),this._computeLayouts(),this.stickyViewVisible(this.stickyVisiblity)},StickyObject2.prototype.onScroll=function(offsetY){if(offsetY=this._getAdjustedOffsetY(offsetY),this._offsetY=offsetY,this._updateDimensionParams(),this.boundaryProcessing(offsetY,this._windowBound),this._previousStickyIndex!==void 0){if(this._previousStickyIndex*this.stickyTypeMultiplier>=this.currentStickyIndex*this.stickyTypeMultiplier)throw new CustomError_1.default(RecyclerListViewExceptions_1.default.stickyIndicesArraySortError);var scrollY_1=this.getScrollY(offsetY,this._scrollableHeight);if(this._previousHeight&&this._currentYd&&scrollY_1&&scrollY_1<this._currentYd){if(scrollY_1>this._currentYd-this._previousHeight){this.currentIndex-=this.stickyTypeMultiplier;var translate=(scrollY_1-this._currentYd+this._previousHeight)*(-1*this.stickyTypeMultiplier);this._stickyViewOffset.setValue(translate),this._computeLayouts(),this.stickyViewVisible(!0)}}else this._stickyViewOffset.setValue(0)}if(this._nextStickyIndex!==void 0){if(this._nextStickyIndex*this.stickyTypeMultiplier<=this.currentStickyIndex*this.stickyTypeMultiplier)throw new CustomError_1.default(RecyclerListViewExceptions_1.default.stickyIndicesArraySortError);var scrollY_2=this.getScrollY(offsetY,this._scrollableHeight);if(this._currentHeight&&this._nextYd&&scrollY_2&&scrollY_2+this._currentHeight>this._nextYd)if(scrollY_2<=this._nextYd){var translate=(scrollY_2-this._nextYd+this._currentHeight)*(-1*this.stickyTypeMultiplier);this._stickyViewOffset.setValue(translate)}else scrollY_2>this._nextYd&&(this.currentIndex+=this.stickyTypeMultiplier,this._stickyViewOffset.setValue(0),this._computeLayouts(),this.stickyViewVisible(!0));else this._stickyViewOffset.setValue(0)}},StickyObject2.prototype.stickyViewVisible=function(_visible,shouldTriggerRender){shouldTriggerRender===void 0&&(shouldTriggerRender=!0),this.stickyVisiblity=_visible,shouldTriggerRender&&this.setState({})},StickyObject2.prototype.getWindowCorrection=function(props){return props.getWindowCorrection&&props.getWindowCorrection()||this._windowCorrection},StickyObject2.prototype.boundaryProcessing=function(offsetY,windowBound){var hasReachedBoundary=this.hasReachedBoundary(offsetY,windowBound);this.bounceScrolling!==hasReachedBoundary&&(this.bounceScrolling=hasReachedBoundary,this.bounceScrolling?this.stickyViewVisible(!1):this.onVisibleIndicesChanged(this.visibleIndices))},StickyObject2.prototype._updateDimensionParams=function(){var rlvDimension=this.props.getRLVRenderedSize();rlvDimension&&(this._scrollableHeight=rlvDimension.height,this._scrollableWidth=rlvDimension.width);var contentDimension=this.props.getContentDimension();contentDimension&&this._scrollableHeight&&(this._windowBound=contentDimension.height-this._scrollableHeight)},StickyObject2.prototype._computeLayouts=function(newStickyIndices){var stickyIndices=newStickyIndices||this.props.stickyIndices;stickyIndices&&(this.currentStickyIndex=stickyIndices[this.currentIndex],this._previousStickyIndex=stickyIndices[this.currentIndex-this.stickyTypeMultiplier],this._nextStickyIndex=stickyIndices[this.currentIndex+this.stickyTypeMultiplier],this.currentStickyIndex!==void 0&&(this._currentLayout=this.props.getLayoutForIndex(this.currentStickyIndex),this._currentY=this._currentLayout?this._currentLayout.y:void 0,this._currentHeight=this._currentLayout?this._currentLayout.height:void 0,this._currentYd=this._currentY&&this._currentHeight?this.getCurrentYd(this._currentY,this._currentHeight):void 0),this._previousStickyIndex!==void 0&&(this._previousLayout=this.props.getLayoutForIndex(this._previousStickyIndex),this._previousHeight=this._previousLayout?this._previousLayout.height:void 0),this._nextStickyIndex!==void 0&&(this._nextLayout=this.props.getLayoutForIndex(this._nextStickyIndex),this._nextY=this._nextLayout?this._nextLayout.y:void 0,this._nextHeight=this._nextLayout?this._nextLayout.height:void 0,this._nextYd=this._nextY&&this._nextHeight?this.getNextYd(this._nextY,this._nextHeight):void 0))},StickyObject2.prototype._setSmallestAndLargestVisibleIndices=function(indicesArray){this.visibleIndices=indicesArray,this._smallestVisibleIndex=indicesArray[0],this._largestVisibleIndex=indicesArray[indicesArray.length-1]},StickyObject2.prototype._renderSticky=function(){if(this.currentStickyIndex!==void 0){var _stickyData=this.props.getDataForIndex(this.currentStickyIndex),_stickyLayoutType=this.props.getLayoutTypeForIndex(this.currentStickyIndex),_extendedState=this.props.getExtendedState(),_rowRenderer=this.props.getRowRenderer();return this.props.overrideRowRenderer?this.props.overrideRowRenderer(_stickyLayoutType,_stickyData,this.currentStickyIndex,_extendedState):_rowRenderer(_stickyLayoutType,_stickyData,this.currentStickyIndex,_extendedState)}return null},StickyObject2.prototype._getAdjustedOffsetY=function(offsetY){return offsetY+this.getWindowCorrection(this.props).windowShift},StickyObject2}(ComponentCompat_1.ComponentCompat);exports.default=StickyObject}});var require_StickyHeader=__commonJS({"node_modules/recyclerlistview/dist/reactnative/core/sticky/StickyHeader.js"(exports){"use strict";var __extends2=exports&&exports.__extends||function(){var extendStatics2=function(d,b5){return extendStatics2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b6){d2.__proto__=b6}||function(d2,b6){for(var p in b6)Object.prototype.hasOwnProperty.call(b6,p)&&(d2[p]=b6[p])},extendStatics2(d,b5)};return function(d,b5){if(typeof b5!="function"&&b5!==null)throw new TypeError("Class extends value "+String(b5)+" is not a constructor or null");extendStatics2(d,b5);function __(){this.constructor=d}d.prototype=b5===null?Object.create(b5):(__.prototype=b5.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var StickyObject_1=require_StickyObject(),BinarySearch_1=require_BinarySearch(),StickyHeader=function(_super){__extends2(StickyHeader2,_super);function StickyHeader2(props,context){return _super.call(this,props,context)||this}return StickyHeader2.prototype.onScroll=function(offsetY){var startCorrection=this.getWindowCorrection(this.props).startCorrection;startCorrection&&(this.containerPosition={top:startCorrection},offsetY+=startCorrection),_super.prototype.onScroll.call(this,offsetY)},StickyHeader2.prototype.initStickyParams=function(){this.stickyType=StickyObject_1.StickyType.HEADER,this.stickyTypeMultiplier=1,this.containerPosition={top:this.getWindowCorrection(this.props).startCorrection},this.bounceScrolling=!0},StickyHeader2.prototype.calculateVisibleStickyIndex=function(stickyIndices,smallestVisibleIndex,largestVisibleIndex,offsetY,windowBound){if(stickyIndices&&smallestVisibleIndex!==void 0)if(this.bounceScrolling=this.hasReachedBoundary(offsetY,windowBound),smallestVisibleIndex<stickyIndices[0]||this.bounceScrolling)this.stickyVisiblity=!1;else{this.stickyVisiblity=!0;var valueAndIndex=BinarySearch_1.default.findValueSmallerThanTarget(stickyIndices,smallestVisibleIndex);valueAndIndex?(this.currentIndex=valueAndIndex.index,this.currentStickyIndex=valueAndIndex.value):console.log("Header sticky index calculation gone wrong.")}},StickyHeader2.prototype.getNextYd=function(nextY,nextHeight){return nextY},StickyHeader2.prototype.getCurrentYd=function(currentY,currentHeight){return currentY},StickyHeader2.prototype.getScrollY=function(offsetY,scrollableHeight){return offsetY},StickyHeader2.prototype.hasReachedBoundary=function(offsetY,_windowBound){return!1},StickyHeader2}(StickyObject_1.default);exports.default=StickyHeader}});var require_StickyFooter=__commonJS({"node_modules/recyclerlistview/dist/reactnative/core/sticky/StickyFooter.js"(exports){"use strict";var __extends2=exports&&exports.__extends||function(){var extendStatics2=function(d,b5){return extendStatics2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b6){d2.__proto__=b6}||function(d2,b6){for(var p in b6)Object.prototype.hasOwnProperty.call(b6,p)&&(d2[p]=b6[p])},extendStatics2(d,b5)};return function(d,b5){if(typeof b5!="function"&&b5!==null)throw new TypeError("Class extends value "+String(b5)+" is not a constructor or null");extendStatics2(d,b5);function __(){this.constructor=d}d.prototype=b5===null?Object.create(b5):(__.prototype=b5.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});var StickyObject_1=require_StickyObject(),BinarySearch_1=require_BinarySearch(),StickyFooter=function(_super){__extends2(StickyFooter2,_super);function StickyFooter2(props,context){return _super.call(this,props,context)||this}return StickyFooter2.prototype.onScroll=function(offsetY){var endCorrection=this.getWindowCorrection(this.props).endCorrection;endCorrection&&(this.containerPosition={bottom:endCorrection},offsetY-=endCorrection),_super.prototype.onScroll.call(this,offsetY)},StickyFooter2.prototype.initStickyParams=function(){this.stickyType=StickyObject_1.StickyType.FOOTER,this.stickyTypeMultiplier=-1,this.containerPosition={bottom:this.getWindowCorrection(this.props).endCorrection},this.bounceScrolling=!1},StickyFooter2.prototype.calculateVisibleStickyIndex=function(stickyIndices,_smallestVisibleIndex,largestVisibleIndex,offsetY,windowBound){if(stickyIndices&&largestVisibleIndex)if(this.bounceScrolling=this.hasReachedBoundary(offsetY,windowBound),largestVisibleIndex>stickyIndices[stickyIndices.length-1]||this.bounceScrolling)this.stickyVisiblity=!1,this.props.alwaysStickyFooter&&offsetY===0&&(this.stickyVisiblity=!0);else{this.stickyVisiblity=!0;var valueAndIndex=BinarySearch_1.default.findValueLargerThanTarget(stickyIndices,largestVisibleIndex);valueAndIndex?(this.currentIndex=valueAndIndex.index,this.currentStickyIndex=valueAndIndex.value):console.log("Footer sticky index calculation gone wrong.")}},StickyFooter2.prototype.getNextYd=function(nextY,nextHeight){return-1*(nextY+nextHeight)},StickyFooter2.prototype.getCurrentYd=function(currentY,currentHeight){return-1*(currentY+currentHeight)},StickyFooter2.prototype.getScrollY=function(offsetY,scrollableHeight){return scrollableHeight?-1*(offsetY+scrollableHeight):void 0},StickyFooter2.prototype.hasReachedBoundary=function(offsetY,windowBound){if(windowBound!==void 0){var endReachedMargin=Math.round(offsetY-windowBound);return endReachedMargin>=0}return!1},StickyFooter2}(StickyObject_1.default);exports.default=StickyFooter}});var require_StickyContainer=__commonJS({"node_modules/recyclerlistview/dist/reactnative/core/StickyContainer.js"(exports){"use strict";var __extends2=exports&&exports.__extends||function(){var extendStatics2=function(d,b5){return extendStatics2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b6){d2.__proto__=b6}||function(d2,b6){for(var p in b6)Object.prototype.hasOwnProperty.call(b6,p)&&(d2[p]=b6[p])},extendStatics2(d,b5)};return function(d,b5){if(typeof b5!="function"&&b5!==null)throw new TypeError("Class extends value "+String(b5)+" is not a constructor or null");extendStatics2(d,b5);function __(){this.constructor=d}d.prototype=b5===null?Object.create(b5):(__.prototype=b5.prototype,new __)}}(),__assign2=exports&&exports.__assign||function(){return __assign2=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__assign2.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var React3=require_react(),PropTypes=require_prop_types(),react_native_1=require_react_native(),StickyHeader_1=require_StickyHeader(),StickyFooter_1=require_StickyFooter(),CustomError_1=require_CustomError(),RecyclerListViewExceptions_1=require_RecyclerListViewExceptions(),ComponentCompat_1=require_ComponentCompat(),StickyContainer=function(_super){__extends2(StickyContainer2,_super);function StickyContainer2(props,context){var _this=_super.call(this,props,context)||this;_this._recyclerRef=void 0,_this._stickyHeaderRef=null,_this._stickyFooterRef=null,_this._visibleIndicesAll=[],_this._windowCorrection={startCorrection:0,endCorrection:0,windowShift:0},_this._rlvRowRenderer=function(type,data,index,extendedState){if(_this.props.alwaysStickyFooter){var rlvDimension=_this._getRLVRenderedSize(),contentDimension=_this._getContentDimension(),isScrollable=!1;if(rlvDimension&&contentDimension&&(isScrollable=contentDimension.height>rlvDimension.height),!isScrollable&&_this.props.stickyFooterIndices&&index===_this.props.stickyFooterIndices[0])return null}return _this._rowRenderer(type,data,index,extendedState)},_this._getRecyclerRef=function(recycler){if(_this._recyclerRef=recycler,_this.props.children.ref)if(typeof _this.props.children.ref=="function")_this.props.children.ref(recycler);else throw new CustomError_1.default(RecyclerListViewExceptions_1.default.refNotAsFunctionException)},_this._getCurrentWindowCorrection=function(){return _this._windowCorrection},_this._getStickyHeaderRef=function(stickyHeaderRef){_this._stickyHeaderRef!==stickyHeaderRef&&(_this._stickyHeaderRef=stickyHeaderRef,_this._callStickyObjectsOnVisibleIndicesChanged(_this._visibleIndicesAll))},_this._getStickyFooterRef=function(stickyFooterRef){_this._stickyFooterRef!==stickyFooterRef&&(_this._stickyFooterRef=stickyFooterRef,_this._callStickyObjectsOnVisibleIndicesChanged(_this._visibleIndicesAll))},_this._onVisibleIndicesChanged=function(all,now,notNow){_this._visibleIndicesAll=all,_this._callStickyObjectsOnVisibleIndicesChanged(all),_this.props.children&&_this.props.children.props&&_this.props.children.props.onVisibleIndicesChanged&&_this.props.children.props.onVisibleIndicesChanged(all,now,notNow)},_this._callStickyObjectsOnVisibleIndicesChanged=function(all){_this._stickyHeaderRef&&_this._stickyHeaderRef.onVisibleIndicesChanged(all),_this._stickyFooterRef&&_this._stickyFooterRef.onVisibleIndicesChanged(all)},_this._onScroll=function(rawEvent,offsetX,offsetY){_this._getWindowCorrection(offsetX,offsetY,_this.props),_this._stickyHeaderRef&&_this._stickyHeaderRef.onScroll(offsetY),_this._stickyFooterRef&&_this._stickyFooterRef.onScroll(offsetY),_this.props.children&&_this.props.children.props.onScroll&&_this.props.children.props.onScroll(rawEvent,offsetX,offsetY)},_this._assertChildType=function(){if(React3.Children.count(_this.props.children)!==1||!_this._isChildRecyclerInstance())throw new CustomError_1.default(RecyclerListViewExceptions_1.default.wrongStickyChildTypeException)},_this._isChildRecyclerInstance=function(){return _this.props.children.props.dataProvider&&_this.props.children.props.rowRenderer&&_this.props.children.props.layoutProvider},_this._getLayoutForIndex=function(index){if(_this._recyclerRef)return _this._recyclerRef.getLayout(index)},_this._getDataForIndex=function(index){return _this._dataProvider.getDataForIndex(index)},_this._getLayoutTypeForIndex=function(index){return _this._layoutProvider.getLayoutTypeForIndex(index)},_this._getExtendedState=function(){return _this._extendedState},_this._getRowRenderer=function(){return _this._rowRenderer},_this._getRLVRenderedSize=function(){if(_this._recyclerRef)return _this._recyclerRef.getRenderedSize()},_this._getContentDimension=function(){if(_this._recyclerRef)return _this._recyclerRef.getContentDimension()},_this._applyWindowCorrection=function(offsetX,offsetY,windowCorrection){_this.props.applyWindowCorrection&&_this.props.applyWindowCorrection(offsetX,offsetY,windowCorrection)},_this._initParams=function(props2){var childProps2=props2.children.props;_this._dataProvider=childProps2.dataProvider,_this._layoutProvider=childProps2.layoutProvider,_this._extendedState=childProps2.extendedState,_this._rowRenderer=childProps2.rowRenderer},_this._assertChildType();var childProps=props.children.props;return _this._dataProvider=childProps.dataProvider,_this._layoutProvider=childProps.layoutProvider,_this._extendedState=childProps.extendedState,_this._rowRenderer=childProps.rowRenderer,_this._getWindowCorrection(0,0,props),_this}return StickyContainer2.prototype.componentWillReceivePropsCompat=function(newProps){this._initParams(newProps)},StickyContainer2.prototype.renderCompat=function(){var _this=this;this._assertChildType();var recycler=React3.cloneElement(this.props.children,__assign2(__assign2({},this.props.children.props),{ref:this._getRecyclerRef,onVisibleIndicesChanged:this._onVisibleIndicesChanged,onScroll:this._onScroll,applyWindowCorrection:this._applyWindowCorrection,rowRenderer:this._rlvRowRenderer}));return React3.createElement(react_native_1.View,{style:this.props.style?this.props.style:{flex:1}},recycler,this.props.stickyHeaderIndices?React3.createElement(StickyHeader_1.default,{ref:function(stickyHeaderRef){return _this._getStickyHeaderRef(stickyHeaderRef)},stickyIndices:this.props.stickyHeaderIndices,getLayoutForIndex:this._getLayoutForIndex,getDataForIndex:this._getDataForIndex,getLayoutTypeForIndex:this._getLayoutTypeForIndex,getExtendedState:this._getExtendedState,getRLVRenderedSize:this._getRLVRenderedSize,getContentDimension:this._getContentDimension,getRowRenderer:this._getRowRenderer,overrideRowRenderer:this.props.overrideRowRenderer,renderContainer:this.props.renderStickyContainer,getWindowCorrection:this._getCurrentWindowCorrection}):null,this.props.stickyFooterIndices?React3.createElement(StickyFooter_1.default,{ref:function(stickyFooterRef){return _this._getStickyFooterRef(stickyFooterRef)},stickyIndices:this.props.stickyFooterIndices,getLayoutForIndex:this._getLayoutForIndex,getDataForIndex:this._getDataForIndex,getLayoutTypeForIndex:this._getLayoutTypeForIndex,getExtendedState:this._getExtendedState,getRLVRenderedSize:this._getRLVRenderedSize,getContentDimension:this._getContentDimension,getRowRenderer:this._getRowRenderer,overrideRowRenderer:this.props.overrideRowRenderer,renderContainer:this.props.renderStickyContainer,getWindowCorrection:this._getCurrentWindowCorrection,alwaysStickBottom:this.props.alwaysStickyFooter}):null)},StickyContainer2.prototype._getWindowCorrection=function(offsetX,offsetY,props){return props.applyWindowCorrection&&props.applyWindowCorrection(offsetX,offsetY,this._windowCorrection)||this._windowCorrection},StickyContainer2.propTypes={},StickyContainer2}(ComponentCompat_1.ComponentCompat);exports.default=StickyContainer;StickyContainer.propTypes={children:PropTypes.element.isRequired,stickyHeaderIndices:PropTypes.arrayOf(PropTypes.number),stickyFooterIndices:PropTypes.arrayOf(PropTypes.number),overrideRowRenderer:PropTypes.func,style:PropTypes.object,renderStickyContainer:PropTypes.func,applyWindowCorrection:PropTypes.func}}});var require_sticky=__commonJS({"node_modules/recyclerlistview/sticky/index.js"(exports,module){module.exports=require_StickyContainer()}});var require_AutoLayoutViewNativeComponent=__commonJS({"node_modules/@shopify/flash-list/dist/native/auto-layout/AutoLayoutViewNativeComponent.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_native_1=require_react_native(),AutoLayoutViewNativeComponent=react_native_1.View;exports.default=AutoLayoutViewNativeComponent}});var require_AutoLayoutView=__commonJS({"node_modules/@shopify/flash-list/dist/native/auto-layout/AutoLayoutView.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.useOnNativeBlankAreaEvents=void 0;var tslib_1=(init_tslib_es6(),__toCommonJS(tslib_es6_exports)),react_1=tslib_1.__importStar(require_react()),AutoLayoutViewNativeComponent_1=tslib_1.__importDefault(require_AutoLayoutViewNativeComponent()),listeners=[],useOnNativeBlankAreaEvents=function(onBlankAreaEvent){(0,react_1.useEffect)(function(){return listeners.push(onBlankAreaEvent),function(){listeners.filter(function(callback){return callback!==onBlankAreaEvent})}},[onBlankAreaEvent])};exports.useOnNativeBlankAreaEvents=useOnNativeBlankAreaEvents;var AutoLayoutView=function(_super){tslib_1.__extends(AutoLayoutView2,_super);function AutoLayoutView2(){var _this=_super!==null&&_super.apply(this,arguments)||this;return _this.onBlankAreaEventCallback=function(_a2){var nativeEvent=_a2.nativeEvent,blankArea=Math.max(nativeEvent.offsetStart,nativeEvent.offsetEnd),blankEventValue={blankArea,offsetStart:nativeEvent.offsetStart,offsetEnd:nativeEvent.offsetEnd};_this.broadcastBlankEvent(blankEventValue),_this.props.onBlankAreaEvent&&_this.props.onBlankAreaEvent(blankEventValue)},_this}return AutoLayoutView2.prototype.broadcastBlankEvent=function(value){for(var len=listeners.length,i=0;i<len;i++)listeners[i](value)},AutoLayoutView2.prototype.render=function(){return react_1.default.createElement(AutoLayoutViewNativeComponent_1.default,tslib_1.__assign({},this.props,{onBlankAreaEvent:this.onBlankAreaEventCallback,enableInstrumentation:listeners.length!==0||!!this.props.onBlankAreaEvent,disableAutoLayout:this.props.disableAutoLayout}),this.props.children)},AutoLayoutView2}(react_1.default.Component);exports.default=AutoLayoutView}});var require_CellContainer=__commonJS({"node_modules/@shopify/flash-list/dist/native/cell-container/CellContainer.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=(init_tslib_es6(),__toCommonJS(tslib_es6_exports)),react_1=tslib_1.__importDefault(require_react()),react_native_1=require_react_native(),CellContainer=react_1.default.forwardRef(function(props,ref){return react_1.default.createElement(react_native_1.View,tslib_1.__assign({ref},props))});CellContainer.displayName="CellContainer";exports.default=CellContainer}});var require_PureComponentWrapper=__commonJS({"node_modules/@shopify/flash-list/dist/PureComponentWrapper.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.PureComponentWrapper=void 0;var tslib_1=(init_tslib_es6(),__toCommonJS(tslib_es6_exports)),react_1=tslib_1.__importDefault(require_react()),PureComponentWrapper=function(_super){tslib_1.__extends(PureComponentWrapper2,_super);function PureComponentWrapper2(){var _this=_super!==null&&_super.apply(this,arguments)||this;return _this.overrideEnabled=void 0,_this}return PureComponentWrapper2.prototype.setEnabled=function(enabled){enabled!==this.overrideEnabled&&(this.overrideEnabled=enabled,this.forceUpdate())},PureComponentWrapper2.prototype.render=function(){return this.overrideEnabled===void 0?this.props.enabled&&this.props.renderer(this.props.arg)||null:this.overrideEnabled&&this.props.renderer(this.props.arg)||null},PureComponentWrapper2.defaultProps={enabled:!0},PureComponentWrapper2}(react_1.default.PureComponent);exports.PureComponentWrapper=PureComponentWrapper}});var require_AverageWindow=__commonJS({"node_modules/@shopify/flash-list/dist/utils/AverageWindow.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.AverageWindow=void 0;var AverageWindow=function(){function AverageWindow2(size,startValue){this.nextIndex=0,this.inputValues=new Array(Math.max(1,size)),this.currentAverage=startValue??0,this.currentCount=startValue===void 0?0:1,this.nextIndex=this.currentCount,this.inputValues[0]=startValue}return Object.defineProperty(AverageWindow2.prototype,"currentValue",{get:function(){return this.currentAverage},enumerable:!1,configurable:!0}),AverageWindow2.prototype.addValue=function(value){var target=this.getNextIndex(),oldValue=this.inputValues[target],newCount=oldValue===void 0?this.currentCount+1:this.currentCount;this.inputValues[target]=value,this.currentAverage=this.currentAverage*(this.currentCount/newCount)+(value-(oldValue??0))/newCount,this.currentCount=newCount},AverageWindow2.prototype.getNextIndex=function(){var newTarget=this.nextIndex;return this.nextIndex=(this.nextIndex+1)%this.inputValues.length,newTarget},AverageWindow2}();exports.AverageWindow=AverageWindow}});var require_ContentContainerUtils=__commonJS({"node_modules/@shopify/flash-list/dist/utils/ContentContainerUtils.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.getContentContainerPadding=exports.applyContentContainerInsetForLayoutManager=exports.hasUnsupportedKeysInContentContainerStyle=exports.updateContentStyle=void 0;var tslib_1=(init_tslib_es6(),__toCommonJS(tslib_es6_exports)),updateContentStyle=function(contentStyle,contentContainerStyleSource){var _a2=contentContainerStyleSource??{},paddingTop=_a2.paddingTop,paddingRight=_a2.paddingRight,paddingBottom=_a2.paddingBottom,paddingLeft=_a2.paddingLeft,padding=_a2.padding,paddingVertical=_a2.paddingVertical,paddingHorizontal=_a2.paddingHorizontal,backgroundColor=_a2.backgroundColor;return contentStyle.paddingLeft=Number(paddingLeft||paddingHorizontal||padding||0),contentStyle.paddingRight=Number(paddingRight||paddingHorizontal||padding||0),contentStyle.paddingTop=Number(paddingTop||paddingVertical||padding||0),contentStyle.paddingBottom=Number(paddingBottom||paddingVertical||padding||0),contentStyle.backgroundColor=backgroundColor,contentStyle};exports.updateContentStyle=updateContentStyle;var hasUnsupportedKeysInContentContainerStyle=function(contentContainerStyleSource){var _a2=contentContainerStyleSource??{},paddingTop=_a2.paddingTop,paddingRight=_a2.paddingRight,paddingBottom=_a2.paddingBottom,paddingLeft=_a2.paddingLeft,padding=_a2.padding,paddingVertical=_a2.paddingVertical,paddingHorizontal=_a2.paddingHorizontal,backgroundColor=_a2.backgroundColor,rest=tslib_1.__rest(_a2,["paddingTop","paddingRight","paddingBottom","paddingLeft","padding","paddingVertical","paddingHorizontal","backgroundColor"]);return Object.keys(rest).length>0};exports.hasUnsupportedKeysInContentContainerStyle=hasUnsupportedKeysInContentContainerStyle;var applyContentContainerInsetForLayoutManager=function(dim,contentContainerStyle,horizontal){var contentStyle=(0,exports.updateContentStyle)({},contentContainerStyle);return horizontal?dim.height-=contentStyle.paddingTop+contentStyle.paddingBottom:dim.width-=contentStyle.paddingLeft+contentStyle.paddingRight,dim};exports.applyContentContainerInsetForLayoutManager=applyContentContainerInsetForLayoutManager;var getContentContainerPadding=function(contentStyle,horizontal){return horizontal?{paddingTop:contentStyle.paddingTop,paddingBottom:contentStyle.paddingBottom}:{paddingLeft:contentStyle.paddingLeft,paddingRight:contentStyle.paddingRight}};exports.getContentContainerPadding=getContentContainerPadding}});var require_GridLayoutProviderWithProps=__commonJS({"node_modules/@shopify/flash-list/dist/GridLayoutProviderWithProps.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=(init_tslib_es6(),__toCommonJS(tslib_es6_exports)),recyclerlistview_1=require_reactnative(),AverageWindow_1=require_AverageWindow(),ContentContainerUtils_1=require_ContentContainerUtils(),GridLayoutProviderWithProps=function(_super){tslib_1.__extends(GridLayoutProviderWithProps2,_super);function GridLayoutProviderWithProps2(maxSpan,getLayoutType,getSpan,getHeightOrWidth,props,acceptableRelayoutDelta){var _this=this,_a2;return _this=_super.call(this,maxSpan,function(i){return getLayoutType(i,_this.props,_this.getCleanLayoutObj())},function(i){return getSpan(i,_this.props,_this.getCleanLayoutObj())},function(i){var _a3;return(_a3=getHeightOrWidth(i,_this.props,_this.getCleanLayoutObj()))!==null&&_a3!==void 0?_a3:_this.averageItemSize},acceptableRelayoutDelta)||this,_this.layoutObject={span:void 0,size:void 0},_this.renderWindowInsets={width:0,height:0},_this._hasExpired=!1,_this.defaultEstimatedItemSize=100,_this.props=props,_this.averageWindow=new AverageWindow_1.AverageWindow(1,(_a2=props.estimatedItemSize)!==null&&_a2!==void 0?_a2:_this.defaultEstimatedItemSize),_this.renderWindowInsets=_this.getAdjustedRenderWindowSize(_this.renderWindowInsets),_this}return GridLayoutProviderWithProps2.prototype.updateProps=function(props){var newInsetValues=(0,ContentContainerUtils_1.applyContentContainerInsetForLayoutManager)({height:0,width:0},props.contentContainerStyle,!!props.horizontal);return this._hasExpired=this._hasExpired||this.props.numColumns!==props.numColumns||newInsetValues.height!==this.renderWindowInsets.height||newInsetValues.width!==this.renderWindowInsets.width,this.renderWindowInsets=newInsetValues,this.props=props,this},Object.defineProperty(GridLayoutProviderWithProps2.prototype,"hasExpired",{get:function(){return this._hasExpired},enumerable:!1,configurable:!0}),GridLayoutProviderWithProps2.prototype.markExpired=function(){this._hasExpired=!0},GridLayoutProviderWithProps2.prototype.reportItemLayout=function(index){var _a2,layout=(_a2=this.getLayoutManager())===null||_a2===void 0?void 0:_a2.getLayouts()[index];layout&&(layout.isOverridden=!0,this.averageWindow.addValue(this.props.horizontal?layout.width:layout.height))},Object.defineProperty(GridLayoutProviderWithProps2.prototype,"averageItemSize",{get:function(){return this.averageWindow.currentValue},enumerable:!1,configurable:!0}),GridLayoutProviderWithProps2.prototype.newLayoutManager=function(renderWindowSize,isHorizontal,cachedLayouts){var _a2,estimatedItemCount=Math.max(3,Math.round((this.props.horizontal?renderWindowSize.width:renderWindowSize.height)/((_a2=this.props.estimatedItemSize)!==null&&_a2!==void 0?_a2:this.defaultEstimatedItemSize)));this.averageWindow=new AverageWindow_1.AverageWindow(2*(this.props.numColumns||1)*estimatedItemCount,this.averageWindow.currentValue);var newLayoutManager=_super.prototype.newLayoutManager.call(this,this.getAdjustedRenderWindowSize(renderWindowSize),isHorizontal,cachedLayouts);return cachedLayouts&&this.updateCachedDimensions(cachedLayouts,newLayoutManager),newLayoutManager},GridLayoutProviderWithProps2.prototype.updateCachedDimensions=function(cachedLayouts,layoutManager){for(var layoutCount=cachedLayouts.length,i=0;i<layoutCount;i++)cachedLayouts[i]=tslib_1.__assign(tslib_1.__assign({},cachedLayouts[i]),layoutManager.getStyleOverridesForIndex(i))},GridLayoutProviderWithProps2.prototype.getCleanLayoutObj=function(){return this.layoutObject.size=void 0,this.layoutObject.span=void 0,this.layoutObject},GridLayoutProviderWithProps2.prototype.getAdjustedRenderWindowSize=function(renderWindowSize){return(0,ContentContainerUtils_1.applyContentContainerInsetForLayoutManager)(tslib_1.__assign({},renderWindowSize),this.props.contentContainerStyle,!!this.props.horizontal)},GridLayoutProviderWithProps2}(recyclerlistview_1.GridLayoutProvider);exports.default=GridLayoutProviderWithProps}});var require_CustomError2=__commonJS({"node_modules/@shopify/flash-list/dist/errors/CustomError.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=(init_tslib_es6(),__toCommonJS(tslib_es6_exports)),CustomError=function(_super){tslib_1.__extends(CustomError2,_super);function CustomError2(exception){var _this=_super.call(this,"".concat(exception.type,": ").concat(exception.message))||this;return _this.name=exception.type,_this}return CustomError2}(Error);exports.default=CustomError}});var require_ExceptionList=__commonJS({"node_modules/@shopify/flash-list/dist/errors/ExceptionList.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var ExceptionList={refreshBooleanMissing:{message:"`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `undefined`.",type:"InvariantViolation"},stickyWhileHorizontalNotSupported:{message:"sticky headers are not supported when list is in horizontal mode. Remove `stickyHeaderIndices` prop.",type:"NotSupportedException"},columnsWhileHorizontalNotSupported:{message:"numColumns is not supported when list is in horizontal mode. Please remove or set numColumns to 1.",type:"NotSupportedException"},multipleViewabilityThresholdTypesNotSupported:{message:"You can set exactly one of itemVisiblePercentThreshold or viewAreaCoveragePercentThreshold. Specifying both is not supported.",type:"MultipleViewabilityThresholdTypesException"},overrideItemLayoutRequiredForMasonryOptimization:{message:"optimizeItemArrangement has been enabled on `MasonryFlashList` but overrideItemLayout is not set.",type:"InvariantViolation"}};exports.default=ExceptionList}});var require_Warnings=__commonJS({"node_modules/@shopify/flash-list/dist/errors/Warnings.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var WarningList={styleUnsupported:"You have passed a style to FlashList. This list doesn't support styling, use contentContainerStyle or wrap the list in a parent and apply style to it instead.",styleContentContainerUnsupported:"FlashList only supports padding related props and backgroundColor in contentContainerStyle. Please remove other values as they're not used.",unusableRenderedSize:"FlashList's rendered size is not usable. Either the height or width is too small (<2px). Please make sure that the parent view of the list has a valid size. FlashList will match the size of the parent.",missingKeyExtractor:"FlashList requires a keyExtractor prop to be defined when animating elements. Without it, the animations will not run as expected.",estimatedItemSizeMissingWarning:"estimatedItemSize FlashList prop is not defined - based on current configuration you can set it to @size to optimize list performance. Refer to FlashList documentation for more details."};exports.default=WarningList}});var require_ViewabilityHelper=__commonJS({"node_modules/@shopify/flash-list/dist/viewability/ViewabilityHelper.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=(init_tslib_es6(),__toCommonJS(tslib_es6_exports)),CustomError_1=tslib_1.__importDefault(require_CustomError2()),ExceptionList_1=tslib_1.__importDefault(require_ExceptionList()),ViewabilityHelper=function(){function ViewabilityHelper2(viewabilityConfig,viewableIndicesChanged){this.possiblyViewableIndices=[],this.hasInteracted=!1,this.viewableIndices=[],this.lastReportedViewableIndices=[],this.timers=new Set,this.viewabilityConfig=viewabilityConfig,this.viewableIndicesChanged=viewableIndicesChanged}return ViewabilityHelper2.prototype.dispose=function(){this.timers.forEach(clearTimeout)},ViewabilityHelper2.prototype.updateViewableItems=function(horizontal,scrollOffset,listSize,getLayout,viewableIndices){var _this=this,_a2,_b2,_c,_d,_e,_f,_g,_h;if(viewableIndices!==void 0&&(this.possiblyViewableIndices=viewableIndices),((_a2=this.viewabilityConfig)===null||_a2===void 0?void 0:_a2.itemVisiblePercentThreshold)!==null&&((_b2=this.viewabilityConfig)===null||_b2===void 0?void 0:_b2.itemVisiblePercentThreshold)!==void 0&&((_c=this.viewabilityConfig)===null||_c===void 0?void 0:_c.viewAreaCoveragePercentThreshold)!==null&&((_d=this.viewabilityConfig)===null||_d===void 0?void 0:_d.viewAreaCoveragePercentThreshold)!==void 0)throw new CustomError_1.default(ExceptionList_1.default.multipleViewabilityThresholdTypesNotSupported);if(!((_f=(_e=this.viewabilityConfig)===null||_e===void 0?void 0:_e.waitForInteraction)!==null&&_f!==void 0&&_f&&!this.hasInteracted)){var newViewableIndices=this.possiblyViewableIndices.filter(function(index){var _a3,_b3;return _this.isItemViewable(index,horizontal,scrollOffset,listSize,(_a3=_this.viewabilityConfig)===null||_a3===void 0?void 0:_a3.viewAreaCoveragePercentThreshold,(_b3=_this.viewabilityConfig)===null||_b3===void 0?void 0:_b3.itemVisiblePercentThreshold,getLayout)});this.viewableIndices=newViewableIndices;var minimumViewTime=(_h=(_g=this.viewabilityConfig)===null||_g===void 0?void 0:_g.minimumViewTime)!==null&&_h!==void 0?_h:250;if(minimumViewTime>0)var timeoutId_1=setTimeout(function(){_this.timers.delete(timeoutId_1),_this.checkViewableIndicesChanges(newViewableIndices),_this.timers.add(timeoutId_1)},minimumViewTime);else this.checkViewableIndicesChanges(newViewableIndices)}},ViewabilityHelper2.prototype.checkViewableIndicesChanges=function(newViewableIndices){var _this=this,currentlyNewViewableIndices=newViewableIndices.filter(function(index){return _this.viewableIndices.includes(index)}),newlyVisibleItems=currentlyNewViewableIndices.filter(function(index){return!_this.lastReportedViewableIndices.includes(index)}),newlyNonvisibleItems=this.lastReportedViewableIndices.filter(function(index){return!currentlyNewViewableIndices.includes(index)});(newlyVisibleItems.length>0||newlyNonvisibleItems.length>0)&&(this.lastReportedViewableIndices=currentlyNewViewableIndices,this.viewableIndicesChanged(currentlyNewViewableIndices,newlyVisibleItems,newlyNonvisibleItems))},ViewabilityHelper2.prototype.clearLastReportedViewableIndices=function(){this.lastReportedViewableIndices=[]},ViewabilityHelper2.prototype.isItemViewable=function(index,horizontal,scrollOffset,listSize,viewAreaCoveragePercentThreshold,itemVisiblePercentThreshold,getLayout){var itemLayout=getLayout(index);if(itemLayout===void 0)return!1;var itemTop=(horizontal?itemLayout.x:itemLayout.y)-scrollOffset,itemSize=horizontal?itemLayout.width:itemLayout.height,listMainSize=horizontal?listSize.width:listSize.height,pixelsVisible=Math.min(itemTop+itemSize,listMainSize)-Math.max(itemTop,0);if(pixelsVisible===itemSize)return!0;if(pixelsVisible===0)return!1;var viewAreaMode=viewAreaCoveragePercentThreshold!=null,percent=viewAreaMode?pixelsVisible/listMainSize:pixelsVisible/itemSize,viewableAreaPercentThreshold=viewAreaMode?viewAreaCoveragePercentThreshold*.01:(itemVisiblePercentThreshold??0)*.01;return percent>=viewableAreaPercentThreshold},ViewabilityHelper2}();exports.default=ViewabilityHelper}});var require_ViewabilityManager=__commonJS({"node_modules/@shopify/flash-list/dist/viewability/ViewabilityManager.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=(init_tslib_es6(),__toCommonJS(tslib_es6_exports)),ViewabilityHelper_1=tslib_1.__importDefault(require_ViewabilityHelper()),ViewabilityManager=function(){function ViewabilityManager2(flashListRef){var _this=this,_a2;this.viewabilityHelpers=[],this.hasInteracted=!1,this.dispose=function(){_this.viewabilityHelpers.forEach(function(viewabilityHelper){return viewabilityHelper.dispose()})},this.onVisibleIndicesChanged=function(all){_this.updateViewableItems(all)},this.recordInteraction=function(){_this.hasInteracted||(_this.hasInteracted=!0,_this.viewabilityHelpers.forEach(function(viewabilityHelper){viewabilityHelper.hasInteracted=!0}),_this.updateViewableItems())},this.updateViewableItems=function(newViewableIndices){var _a3,_b2,_c,_d,listSize=(_b2=(_a3=_this.flashListRef.recyclerlistview_unsafe)===null||_a3===void 0?void 0:_a3.getRenderedSize())!==null&&_b2!==void 0?_b2:_this.flashListRef.props.estimatedListSize;if(!(listSize===void 0||!_this.shouldListenToVisibleIndices)){var scrollOffset=((_d=(_c=_this.flashListRef.recyclerlistview_unsafe)===null||_c===void 0?void 0:_c.getCurrentScrollOffset())!==null&&_d!==void 0?_d:0)-_this.flashListRef.firstItemOffset;_this.viewabilityHelpers.forEach(function(viewabilityHelper){var _a4;viewabilityHelper.updateViewableItems((_a4=_this.flashListRef.props.horizontal)!==null&&_a4!==void 0?_a4:!1,scrollOffset,listSize,function(index){var _a5;return(_a5=_this.flashListRef.recyclerlistview_unsafe)===null||_a5===void 0?void 0:_a5.getLayout(index)},newViewableIndices)})}},this.recomputeViewableItems=function(){_this.viewabilityHelpers.forEach(function(viewabilityHelper){return viewabilityHelper.clearLastReportedViewableIndices()}),_this.updateViewableItems()},this.createViewabilityHelper=function(viewabilityConfig,onViewableItemsChanged){var mapViewToken=function(index,isViewable){var _a3,item=(_a3=_this.flashListRef.props.data)===null||_a3===void 0?void 0:_a3[index],key=item===void 0||_this.flashListRef.props.keyExtractor===void 0?index.toString():_this.flashListRef.props.keyExtractor(item,index);return{index,isViewable,item,key,timestamp:Date.now()}};return new ViewabilityHelper_1.default(viewabilityConfig,function(indices,newlyVisibleIndices,newlyNonvisibleIndices){onViewableItemsChanged?.({viewableItems:indices.map(function(index){return mapViewToken(index,!0)}),changed:tslib_1.__spreadArray(tslib_1.__spreadArray([],tslib_1.__read(newlyVisibleIndices.map(function(index){return mapViewToken(index,!0)})),!1),tslib_1.__read(newlyNonvisibleIndices.map(function(index){return mapViewToken(index,!1)})),!1)})})},this.flashListRef=flashListRef,flashListRef.props.onViewableItemsChanged!==null&&flashListRef.props.onViewableItemsChanged!==void 0&&this.viewabilityHelpers.push(this.createViewabilityHelper(flashListRef.props.viewabilityConfig,flashListRef.props.onViewableItemsChanged)),((_a2=flashListRef.props.viewabilityConfigCallbackPairs)!==null&&_a2!==void 0?_a2:[]).forEach(function(pair){_this.viewabilityHelpers.push(_this.createViewabilityHelper(pair.viewabilityConfig,pair.onViewableItemsChanged))})}return Object.defineProperty(ViewabilityManager2.prototype,"shouldListenToVisibleIndices",{get:function(){return this.viewabilityHelpers.length>0},enumerable:!1,configurable:!0}),ViewabilityManager2}();exports.default=ViewabilityManager}});var require_FlashListProps=__commonJS({"node_modules/@shopify/flash-list/dist/FlashListProps.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.RenderTargetOptions=void 0;exports.RenderTargetOptions={Cell:"Cell",StickyHeader:"StickyHeader",Measurement:"Measurement"}}});var require_DefaultJSItemAnimator=__commonJS({"node_modules/recyclerlistview/dist/reactnative/platform/reactnative/itemanimators/defaultjsanimator/DefaultJSItemAnimator.js"(exports){"use strict";var __extends2=exports&&exports.__extends||function(){var extendStatics2=function(d,b5){return extendStatics2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d2,b6){d2.__proto__=b6}||function(d2,b6){for(var p in b6)Object.prototype.hasOwnProperty.call(b6,p)&&(d2[p]=b6[p])},extendStatics2(d,b5)};return function(d,b5){if(typeof b5!="function"&&b5!==null)throw new TypeError("Class extends value "+String(b5)+" is not a constructor or null");extendStatics2(d,b5);function __(){this.constructor=d}d.prototype=b5===null?Object.create(b5):(__.prototype=b5.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});exports.DefaultJSItemAnimator=void 0;var react_native_1=require_react_native(),ItemAnimator_1=require_ItemAnimator(),DefaultJSItemAnimator=function(_super){__extends2(DefaultJSItemAnimator2,_super);function DefaultJSItemAnimator2(){var _this=_super!==null&&_super.apply(this,arguments)||this;return _this.shouldAnimateOnce=!0,_this._hasAnimatedOnce=!1,_this._isTimerOn=!1,_this}return DefaultJSItemAnimator2.prototype.animateWillMount=function(atX,atY,itemIndex){},DefaultJSItemAnimator2.prototype.animateDidMount=function(atX,atY,itemRef,itemIndex){},DefaultJSItemAnimator2.prototype.animateWillUpdate=function(fromX,fromY,toX,toY,itemRef,itemIndex){},DefaultJSItemAnimator2.prototype.animateShift=function(fromX,fromY,toX,toY,itemRef,itemIndex){var _this=this;if(this._isTimerOn||(this._isTimerOn=!0,this._hasAnimatedOnce||setTimeout(function(){_this._hasAnimatedOnce=!0},700)),(fromX!==toX||fromY!==toY)&&(!this.shouldAnimateOnce||this.shouldAnimateOnce&&!this._hasAnimatedOnce)){var viewRef_1=itemRef,animXY_1=new react_native_1.Animated.ValueXY({x:fromX,y:fromY});return animXY_1.addListener(function(value){if(viewRef_1._isUnmountedForRecyclerListView){animXY_1.stopAnimation();return}viewRef_1.setNativeProps(_this._getNativePropObject(value.x,value.y))}),viewRef_1._lastAnimVal&&viewRef_1._lastAnimVal.stopAnimation(),viewRef_1._lastAnimVal=animXY_1,react_native_1.Animated.timing(animXY_1,{toValue:{x:toX,y:toY},duration:200,easing:react_native_1.Easing.out(react_native_1.Easing.ease),useNativeDriver:ItemAnimator_1.BaseItemAnimator.USE_NATIVE_DRIVER}).start(function(){viewRef_1._lastAnimVal=null}),!0}return!1},DefaultJSItemAnimator2.prototype.animateWillUnmount=function(atX,atY,itemRef,itemIndex){itemRef._isUnmountedForRecyclerListView=!0},DefaultJSItemAnimator2.prototype._getNativePropObject=function(x2,y2){return{style:{left:x2,top:y2}}},DefaultJSItemAnimator2}(ItemAnimator_1.BaseItemAnimator);exports.DefaultJSItemAnimator=DefaultJSItemAnimator}});var require_PlatformHelper=__commonJS({"node_modules/@shopify/flash-list/dist/native/config/PlatformHelper.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.getFooterContainer=exports.getItemAnimator=exports.getCellContainerPlatformStyles=exports.PlatformConfig=void 0;var DefaultJSItemAnimator_1=require_DefaultJSItemAnimator(),PlatformConfig={defaultDrawDistance:250,invertedTransformStyle:{transform:[{scaleY:-1}]},invertedTransformStyleHorizontal:{transform:[{scaleX:-1}]}};exports.PlatformConfig=PlatformConfig;var getCellContainerPlatformStyles=function(inverted,parentProps){};exports.getCellContainerPlatformStyles=getCellContainerPlatformStyles;var getItemAnimator=function(){return new DefaultJSItemAnimator_1.DefaultJSItemAnimator};exports.getItemAnimator=getItemAnimator;var getFooterContainer=function(){};exports.getFooterContainer=getFooterContainer}});var require_FlashList=__commonJS({"node_modules/@shopify/flash-list/dist/FlashList.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=(init_tslib_es6(),__toCommonJS(tslib_es6_exports)),react_1=tslib_1.__importDefault(require_react()),react_native_1=require_react_native(),recyclerlistview_1=require_reactnative(),sticky_1=tslib_1.__importDefault(require_sticky()),AutoLayoutView_1=tslib_1.__importDefault(require_AutoLayoutView()),CellContainer_1=tslib_1.__importDefault(require_CellContainer()),PureComponentWrapper_1=require_PureComponentWrapper(),GridLayoutProviderWithProps_1=tslib_1.__importDefault(require_GridLayoutProviderWithProps()),CustomError_1=tslib_1.__importDefault(require_CustomError2()),ExceptionList_1=tslib_1.__importDefault(require_ExceptionList()),Warnings_1=tslib_1.__importDefault(require_Warnings()),ViewabilityManager_1=tslib_1.__importDefault(require_ViewabilityManager()),FlashListProps_1=require_FlashListProps(),PlatformHelper_1=require_PlatformHelper(),ContentContainerUtils_1=require_ContentContainerUtils(),StickyHeaderContainer=sticky_1.default,FlashList2=function(_super){tslib_1.__extends(FlashList3,_super);function FlashList3(props){var _this=this,_a2;return _this=_super.call(this,props)||this,_this.listFixedDimensionSize=0,_this.transformStyle=PlatformHelper_1.PlatformConfig.invertedTransformStyle,_this.transformStyleHorizontal=PlatformHelper_1.PlatformConfig.invertedTransformStyleHorizontal,_this.distanceFromWindow=0,_this.contentStyle={paddingBottom:0,paddingTop:0,paddingLeft:0,paddingRight:0},_this.loadStartTime=0,_this.isListLoaded=!1,_this.windowCorrectionConfig={value:{windowShift:0,startCorrection:0,endCorrection:0},applyToItemScroll:!0,applyToInitialOffset:!0},_this.isEmptyList=!1,_this.onEndReached=function(){var _a3,_b2;(_b2=(_a3=_this.props).onEndReached)===null||_b2===void 0||_b2.call(_a3)},_this.getRefreshControl=function(){if(_this.props.onRefresh)return react_1.default.createElement(react_native_1.RefreshControl,{refreshing:!!_this.props.refreshing,progressViewOffset:_this.props.progressViewOffset,onRefresh:_this.props.onRefresh})},_this.onScrollBeginDrag=function(event){var _a3,_b2;_this.recordInteraction(),(_b2=(_a3=_this.props).onScrollBeginDrag)===null||_b2===void 0||_b2.call(_a3,event)},_this.onScroll=function(event){var _a3,_b2;_this.recordInteraction(),_this.viewabilityManager.updateViewableItems(),(_b2=(_a3=_this.props).onScroll)===null||_b2===void 0||_b2.call(_a3,event)},_this.handleSizeChange=function(event){var _a3;_this.validateListSize(event);var newSize=_this.props.horizontal?event.nativeEvent.layout.height:event.nativeEvent.layout.width,oldSize=_this.listFixedDimensionSize;_this.listFixedDimensionSize=newSize,oldSize>0&&oldSize!==newSize&&((_a3=_this.rlvRef)===null||_a3===void 0||_a3.forceRerender()),_this.props.onLayout&&_this.props.onLayout(event)},_this.container=function(props2,children){return _this.clearPostLoadTimeout(),react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement(PureComponentWrapper_1.PureComponentWrapper,{enabled:_this.isListLoaded||children.length>0||_this.isEmptyList,contentStyle:_this.props.contentContainerStyle,horizontal:_this.props.horizontal,header:_this.props.ListHeaderComponent,extraData:_this.state.extraData,headerStyle:_this.props.ListHeaderComponentStyle,inverted:_this.props.inverted,renderer:_this.header}),react_1.default.createElement(AutoLayoutView_1.default,tslib_1.__assign({},props2,{onBlankAreaEvent:_this.props.onBlankArea,onLayout:_this.updateDistanceFromWindow,disableAutoLayout:_this.props.disableAutoLayout}),children),_this.isEmptyList?_this.getValidComponent(_this.props.ListEmptyComponent):null,react_1.default.createElement(PureComponentWrapper_1.PureComponentWrapper,{enabled:_this.isListLoaded||children.length>0||_this.isEmptyList,contentStyle:_this.props.contentContainerStyle,horizontal:_this.props.horizontal,header:_this.props.ListFooterComponent,extraData:_this.state.extraData,headerStyle:_this.props.ListFooterComponentStyle,inverted:_this.props.inverted,renderer:_this.footer}),_this.getComponentForHeightMeasurement())},_this.itemContainer=function(props2,parentProps){var _a3,CellRendererComponent=(_a3=_this.props.CellRendererComponent)!==null&&_a3!==void 0?_a3:CellContainer_1.default;return react_1.default.createElement(CellRendererComponent,tslib_1.__assign({},props2,{style:tslib_1.__assign(tslib_1.__assign(tslib_1.__assign(tslib_1.__assign({},props2.style),{flexDirection:_this.props.horizontal?"row":"column",alignItems:"stretch"}),_this.getTransform()),(0,PlatformHelper_1.getCellContainerPlatformStyles)(_this.props.inverted,parentProps)),index:parentProps.index}),react_1.default.createElement(PureComponentWrapper_1.PureComponentWrapper,{extendedState:parentProps.extendedState,internalSnapshot:parentProps.internalSnapshot,data:parentProps.data,arg:parentProps.index,renderer:_this.getCellContainerChild}))},_this.updateDistanceFromWindow=function(event){var newDistanceFromWindow=_this.props.horizontal?event.nativeEvent.layout.x:event.nativeEvent.layout.y;_this.distanceFromWindow!==newDistanceFromWindow&&(_this.distanceFromWindow=newDistanceFromWindow,_this.windowCorrectionConfig.value.windowShift=-_this.distanceFromWindow,_this.viewabilityManager.updateViewableItems())},_this.separator=function(index){if(_this.props.data===null||_this.props.data===void 0||index+1>=_this.props.data.length)return null;var leadingItem=_this.props.data[index],trailingItem=_this.props.data[index+1],_$props={leadingItem,trailingItem},Separator=_this.props.ItemSeparatorComponent;return Separator&&react_1.default.createElement(Separator,tslib_1.__assign({},_$props))},_this.header=function(){return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement(react_native_1.View,{style:{paddingTop:_this.contentStyle.paddingTop,paddingLeft:_this.contentStyle.paddingLeft}}),react_1.default.createElement(react_native_1.View,{style:[_this.props.ListHeaderComponentStyle,_this.getTransform()]},_this.getValidComponent(_this.props.ListHeaderComponent)))},_this.footer=function(){var _a3,FooterContainer=(_a3=(0,PlatformHelper_1.getFooterContainer)())!==null&&_a3!==void 0?_a3:CellContainer_1.default;return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement(FooterContainer,{index:-1,style:[_this.props.ListFooterComponentStyle,_this.getTransform()]},_this.getValidComponent(_this.props.ListFooterComponent)),react_1.default.createElement(react_native_1.View,{style:{paddingBottom:_this.contentStyle.paddingBottom,paddingRight:_this.contentStyle.paddingRight}}))},_this.getComponentForHeightMeasurement=function(){return _this.props.horizontal&&!_this.props.disableHorizontalListHeightMeasurement&&!_this.isListLoaded&&_this.state.dataProvider.getSize()>0?react_1.default.createElement(react_native_1.View,{style:{opacity:0},pointerEvents:"none"},_this.rowRendererWithIndex(Math.min(_this.state.dataProvider.getSize()-1,1),FlashListProps_1.RenderTargetOptions.Measurement)):null},_this.applyWindowCorrection=function(_3,__,correctionObject){var _a3;correctionObject.windowShift=-_this.distanceFromWindow,(_a3=_this.stickyContentContainerRef)===null||_a3===void 0||_a3.setEnabled(_this.isStickyEnabled)},_this.rowRendererSticky=function(index){return _this.rowRendererWithIndex(index,FlashListProps_1.RenderTargetOptions.StickyHeader)},_this.rowRendererWithIndex=function(index,target){var _a3,_b2,_c;return(_b2=(_a3=_this.props).renderItem)===null||_b2===void 0?void 0:_b2.call(_a3,{item:_this.props.data[index],index,target,extraData:(_c=_this.state.extraData)===null||_c===void 0?void 0:_c.value})},_this.emptyRowRenderer=function(){return null},_this.getCellContainerChild=function(index){return react_1.default.createElement(react_1.default.Fragment,null,_this.props.inverted?_this.separator(index):null,react_1.default.createElement(react_native_1.View,{style:{flexDirection:_this.props.horizontal||_this.props.numColumns===1?"column":"row"}},_this.rowRendererWithIndex(index,FlashListProps_1.RenderTargetOptions.Cell)),_this.props.inverted?null:_this.separator(index))},_this.recyclerRef=function(ref){_this.rlvRef=ref},_this.stickyContentRef=function(ref){_this.stickyContentContainerRef=ref},_this.stickyOverrideRowRenderer=function(_3,rowData,index,___){return react_1.default.createElement(PureComponentWrapper_1.PureComponentWrapper,{ref:_this.stickyContentRef,enabled:_this.isStickyEnabled,rowData,arg:index,renderer:_this.rowRendererSticky})},_this.onItemLayout=function(index){_this.state.layoutProvider.reportItemLayout(index),_this.raiseOnLoadEventIfNeeded()},_this.raiseOnLoadEventIfNeeded=function(){var _a3,_b2;_this.isListLoaded||(_this.isListLoaded=!0,(_b2=(_a3=_this.props).onLoad)===null||_b2===void 0||_b2.call(_a3,{elapsedTimeInMs:Date.now()-_this.loadStartTime}),_this.runAfterOnLoad())},_this.runAfterOnLoad=function(){_this.props.estimatedItemSize===void 0&&(_this.itemSizeWarningTimeoutId=setTimeout(function(){var averageItemSize=Math.floor(_this.state.layoutProvider.averageItemSize);console.warn(Warnings_1.default.estimatedItemSizeMissingWarning.replace("@size",averageItemSize.toString()))},1e3)),_this.postLoadTimeoutId=setTimeout(function(){_this.props.horizontal&&_this.forceUpdate()},500)},_this.clearPostLoadTimeout=function(){_this.postLoadTimeoutId!==void 0&&(clearTimeout(_this.postLoadTimeoutId),_this.postLoadTimeoutId=void 0)},_this.clearRenderSizeWarningTimeout=function(){_this.renderedSizeWarningTimeoutId!==void 0&&(clearTimeout(_this.renderedSizeWarningTimeoutId),_this.renderedSizeWarningTimeoutId=void 0)},_this.recordInteraction=function(){_this.viewabilityManager.recordInteraction()},_this.recomputeViewableItems=function(){_this.viewabilityManager.recomputeViewableItems()},_this.loadStartTime=Date.now(),_this.validateProps(),props.estimatedListSize&&(props.horizontal?_this.listFixedDimensionSize=props.estimatedListSize.height:_this.listFixedDimensionSize=props.estimatedListSize.width),_this.distanceFromWindow=(_a2=props.estimatedFirstItemOffset)!==null&&_a2!==void 0?_a2:props.ListHeaderComponent&&1||0,_this.state=FlashList3.getInitialMutableState(_this),_this.viewabilityManager=new ViewabilityManager_1.default(_this),_this.itemAnimator=(0,PlatformHelper_1.getItemAnimator)(),_this}return FlashList3.prototype.validateProps=function(){var _a2,_b2;if(this.props.onRefresh&&typeof this.props.refreshing!="boolean")throw new CustomError_1.default(ExceptionList_1.default.refreshBooleanMissing);if(Number((_a2=this.props.stickyHeaderIndices)===null||_a2===void 0?void 0:_a2.length)>0&&this.props.horizontal)throw new CustomError_1.default(ExceptionList_1.default.stickyWhileHorizontalNotSupported);if(Number(this.props.numColumns)>1&&this.props.horizontal)throw new CustomError_1.default(ExceptionList_1.default.columnsWhileHorizontalNotSupported);__DEV__&&Object.keys(react_native_1.StyleSheet.flatten((_b2=this.props.style)!==null&&_b2!==void 0?_b2:{})).length>0&&console.warn(Warnings_1.default.styleUnsupported),(0,ContentContainerUtils_1.hasUnsupportedKeysInContentContainerStyle)(this.props.contentContainerStyle)&&console.warn(Warnings_1.default.styleContentContainerUnsupported)},FlashList3.getDerivedStateFromProps=function(nextProps,prevState){var _a2,_b2,newState=tslib_1.__assign({},prevState);return prevState.numColumns!==nextProps.numColumns?(newState.numColumns=nextProps.numColumns||1,newState.layoutProvider=FlashList3.getLayoutProvider(newState.numColumns,nextProps)):prevState.layoutProvider.updateProps(nextProps).hasExpired&&(newState.layoutProvider=FlashList3.getLayoutProvider(newState.numColumns,nextProps)),newState.layoutProvider.shouldRefreshWithAnchoring=!(!((_a2=prevState.layoutProvider)===null||_a2===void 0)&&_a2.hasExpired),nextProps.data!==prevState.data&&(newState.data=nextProps.data,newState.dataProvider=prevState.dataProvider.cloneWithRows(nextProps.data),nextProps.renderItem!==prevState.renderItem&&(newState.extraData=tslib_1.__assign({},prevState.extraData))),nextProps.extraData!==((_b2=prevState.extraData)===null||_b2===void 0?void 0:_b2.value)&&(newState.extraData={value:nextProps.extraData}),newState.renderItem=nextProps.renderItem,newState},FlashList3.getInitialMutableState=function(flashList){var getStableId;return flashList.props.keyExtractor!==null&&flashList.props.keyExtractor!==void 0&&(getStableId=function(index){return flashList.props.keyExtractor(flashList.props.data[index],index).toString()}),{data:null,layoutProvider:null,dataProvider:new recyclerlistview_1.DataProvider(function(r1,r2){return r1!==r2},getStableId),numColumns:0}},FlashList3.getLayoutProvider=function(numColumns,flashListProps){return new GridLayoutProviderWithProps_1.default(numColumns,function(index,props){var _a2,type=(_a2=props.getItemType)===null||_a2===void 0?void 0:_a2.call(props,props.data[index],index,props.extraData);return type||0},function(index,props,mutableLayout){var _a2,_b2;return(_a2=props.overrideItemLayout)===null||_a2===void 0||_a2.call(props,mutableLayout,props.data[index],index,numColumns,props.extraData),(_b2=mutableLayout?.span)!==null&&_b2!==void 0?_b2:1},function(index,props,mutableLayout){var _a2;return(_a2=props.overrideItemLayout)===null||_a2===void 0||_a2.call(props,mutableLayout,props.data[index],index,numColumns,props.extraData),mutableLayout?.size},flashListProps)},FlashList3.prototype.componentDidMount=function(){var _a2;((_a2=this.props.data)===null||_a2===void 0?void 0:_a2.length)===0&&this.raiseOnLoadEventIfNeeded()},FlashList3.prototype.componentWillUnmount=function(){this.viewabilityManager.dispose(),this.clearPostLoadTimeout(),this.clearRenderSizeWarningTimeout(),this.itemSizeWarningTimeoutId!==void 0&&clearTimeout(this.itemSizeWarningTimeoutId)},FlashList3.prototype.render=function(){this.isEmptyList=this.state.dataProvider.getSize()===0,(0,ContentContainerUtils_1.updateContentStyle)(this.contentStyle,this.props.contentContainerStyle);var _a2=this.props,drawDistance=_a2.drawDistance,removeClippedSubviews=_a2.removeClippedSubviews,stickyHeaderIndices=_a2.stickyHeaderIndices,horizontal=_a2.horizontal,onEndReachedThreshold=_a2.onEndReachedThreshold,estimatedListSize=_a2.estimatedListSize,initialScrollIndex=_a2.initialScrollIndex,style=_a2.style,contentContainerStyle=_a2.contentContainerStyle,renderScrollComponent=_a2.renderScrollComponent,restProps=tslib_1.__rest(_a2,["drawDistance","removeClippedSubviews","stickyHeaderIndices","horizontal","onEndReachedThreshold","estimatedListSize","initialScrollIndex","style","contentContainerStyle","renderScrollComponent"]),initialOffset=this.isInitialScrollIndexInFirstRow()&&this.distanceFromWindow||void 0,finalDrawDistance=drawDistance===void 0?PlatformHelper_1.PlatformConfig.defaultDrawDistance:drawDistance;return react_1.default.createElement(StickyHeaderContainer,{overrideRowRenderer:this.stickyOverrideRowRenderer,applyWindowCorrection:this.applyWindowCorrection,stickyHeaderIndices,style:this.props.horizontal?tslib_1.__assign({},this.getTransform()):tslib_1.__assign({flex:1,overflow:"hidden"},this.getTransform())},react_1.default.createElement(recyclerlistview_1.ProgressiveListView,tslib_1.__assign({},restProps,{ref:this.recyclerRef,layoutProvider:this.state.layoutProvider,dataProvider:this.state.dataProvider,rowRenderer:this.emptyRowRenderer,canChangeSize:!0,isHorizontal:!!horizontal,scrollViewProps:tslib_1.__assign({onScrollBeginDrag:this.onScrollBeginDrag,onLayout:this.handleSizeChange,refreshControl:this.props.refreshControl||this.getRefreshControl(),style:{minHeight:1,minWidth:1},contentContainerStyle:tslib_1.__assign({backgroundColor:this.contentStyle.backgroundColor,minHeight:1,minWidth:1},(0,ContentContainerUtils_1.getContentContainerPadding)(this.contentStyle,horizontal))},this.props.overrideProps),forceNonDeterministicRendering:!0,renderItemContainer:this.itemContainer,renderContentContainer:this.container,onEndReached:this.onEndReached,onEndReachedThresholdRelative:onEndReachedThreshold||void 0,extendedState:this.state.extraData,layoutSize:estimatedListSize,maxRenderAhead:3*finalDrawDistance,finalRenderAheadOffset:finalDrawDistance,renderAheadStep:finalDrawDistance,initialRenderIndex:!this.isInitialScrollIndexInFirstRow()&&initialScrollIndex||void 0,initialOffset,onItemLayout:this.onItemLayout,onScroll:this.onScroll,onVisibleIndicesChanged:this.viewabilityManager.shouldListenToVisibleIndices?this.viewabilityManager.onVisibleIndicesChanged:void 0,windowCorrectionConfig:this.getUpdatedWindowCorrectionConfig(),itemAnimator:this.itemAnimator,suppressBoundedSizeException:!0,externalScrollView:renderScrollComponent})))},FlashList3.prototype.getUpdatedWindowCorrectionConfig=function(){return this.isInitialScrollIndexInFirstRow()?this.windowCorrectionConfig.applyToInitialOffset=!1:this.windowCorrectionConfig.applyToInitialOffset=!0,this.windowCorrectionConfig.value.windowShift=-this.distanceFromWindow,this.windowCorrectionConfig},FlashList3.prototype.isInitialScrollIndexInFirstRow=function(){var _a2;return((_a2=this.props.initialScrollIndex)!==null&&_a2!==void 0?_a2:this.state.numColumns)<this.state.numColumns},FlashList3.prototype.validateListSize=function(event){var _a2=event.nativeEvent.layout,height=_a2.height,width=_a2.width;this.clearRenderSizeWarningTimeout(),(Math.floor(height)<=1||Math.floor(width)<=1)&&(this.renderedSizeWarningTimeoutId=setTimeout(function(){console.warn(Warnings_1.default.unusableRenderedSize)},1e3))},FlashList3.prototype.getTransform=function(){var transformStyle=this.props.horizontal?this.transformStyleHorizontal:this.transformStyle;return this.props.inverted&&transformStyle||void 0},FlashList3.prototype.getValidComponent=function(component){var PassedComponent=component;return react_1.default.isValidElement(PassedComponent)&&PassedComponent||PassedComponent&&react_1.default.createElement(PassedComponent,null)||null},Object.defineProperty(FlashList3.prototype,"isStickyEnabled",{get:function(){var _a2,currentOffset=((_a2=this.rlvRef)===null||_a2===void 0?void 0:_a2.getCurrentScrollOffset())||0;return currentOffset>=this.distanceFromWindow},enumerable:!1,configurable:!0}),FlashList3.prototype.prepareForLayoutAnimationRender=function(){var _a2;this.props.keyExtractor===null||this.props.keyExtractor===void 0?console.warn(Warnings_1.default.missingKeyExtractor):(_a2=this.rlvRef)===null||_a2===void 0||_a2.prepareForLayoutAnimationRender()},FlashList3.prototype.scrollToEnd=function(params){var _a2;(_a2=this.rlvRef)===null||_a2===void 0||_a2.scrollToEnd(!!params?.animated)},FlashList3.prototype.scrollToIndex=function(params){var _a2,_b2,_c,_d,_e,layout=(_a2=this.rlvRef)===null||_a2===void 0?void 0:_a2.getLayout(params.index),listSize=(_b2=this.rlvRef)===null||_b2===void 0?void 0:_b2.getRenderedSize();if(layout&&listSize){var itemOffset=this.props.horizontal?layout.x:layout.y,fixedDimension=this.props.horizontal?listSize.width:listSize.height,itemSize=this.props.horizontal?layout.width:layout.height,scrollOffset=Math.max(0,itemOffset-((_c=params.viewPosition)!==null&&_c!==void 0?_c:0)*(fixedDimension-itemSize))-((_d=params.viewOffset)!==null&&_d!==void 0?_d:0);(_e=this.rlvRef)===null||_e===void 0||_e.scrollToOffset(scrollOffset,scrollOffset,!!params.animated,!0)}},FlashList3.prototype.scrollToItem=function(params){var _a2,_b2,index=(_b2=(_a2=this.props.data)===null||_a2===void 0?void 0:_a2.indexOf(params.item))!==null&&_b2!==void 0?_b2:-1;index>=0&&this.scrollToIndex(tslib_1.__assign(tslib_1.__assign({},params),{index}))},FlashList3.prototype.scrollToOffset=function(params){var _a2,x2=this.props.horizontal?params.offset:0,y2=this.props.horizontal?0:params.offset;(_a2=this.rlvRef)===null||_a2===void 0||_a2.scrollToOffset(x2,y2,!!params.animated)},FlashList3.prototype.getScrollableNode=function(){var _a2,_b2;return((_b2=(_a2=this.rlvRef)===null||_a2===void 0?void 0:_a2.getScrollableNode)===null||_b2===void 0?void 0:_b2.call(_a2))||null},Object.defineProperty(FlashList3.prototype,"recyclerlistview_unsafe",{get:function(){return this.rlvRef},enumerable:!1,configurable:!0}),Object.defineProperty(FlashList3.prototype,"firstItemOffset",{get:function(){return this.distanceFromWindow},enumerable:!1,configurable:!0}),FlashList3.prototype.clearLayoutCacheOnUpdate=function(){this.state.layoutProvider.markExpired()},FlashList3.defaultProps={data:[],numColumns:1},FlashList3}(react_1.default.PureComponent);exports.default=FlashList2}});var require_AnimatedFlashList=__commonJS({"node_modules/@shopify/flash-list/dist/AnimatedFlashList.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=(init_tslib_es6(),__toCommonJS(tslib_es6_exports)),react_native_1=require_react_native(),FlashList_1=tslib_1.__importDefault(require_FlashList()),AnimatedFlashList=react_native_1.Animated.createAnimatedComponent(FlashList_1.default);exports.default=AnimatedFlashList}});var require_AutoScrollHelper=__commonJS({"node_modules/@shopify/flash-list/dist/benchmark/AutoScrollHelper.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.Cancellable=exports.autoScroll=void 0;function autoScroll(scroll,fromX,fromY,toX,toY,speedMultiplier,cancellable){return speedMultiplier===void 0&&(speedMultiplier=1),cancellable===void 0&&(cancellable=new Cancellable),new Promise(function(resolve){scroll(fromX,fromY,!1);var incrementPerMs=7*speedMultiplier,directionMultiplierX=toX>fromX?1:-1,directionMultiplierY=toY>fromY?1:-1,comparatorX=toX>fromX?Math.min:Math.max,comparatorY=toY>fromY?Math.min:Math.max,startTime=Date.now(),startX=fromX,startY=fromY,animationLoop=function(){requestAnimationFrame(function(){if(cancellable.isCancelled()){resolve(!1);return}var currentTime=Date.now(),timeElapsed=currentTime-startTime,distanceToCover=incrementPerMs*timeElapsed;if(startX+=distanceToCover*directionMultiplierX,startY+=distanceToCover*directionMultiplierY,scroll(comparatorX(toX,startX),comparatorY(toY,startY),!1),startTime=currentTime,comparatorX(toX,startX)!==toX||comparatorY(toY,startY)!==toY)return animationLoop();resolve(!0)})};animationLoop()})}exports.autoScroll=autoScroll;var Cancellable=function(){function Cancellable2(){this._isCancelled=!1}return Cancellable2.prototype.cancel=function(){this._isCancelled=!0},Cancellable2.prototype.isCancelled=function(){return this._isCancelled},Cancellable2}();exports.Cancellable=Cancellable}});var require_roundToDecimalPlaces=__commonJS({"node_modules/@shopify/flash-list/dist/benchmark/roundToDecimalPlaces.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.roundToDecimalPlaces=void 0;function roundToDecimalPlaces(value,decimalPlaces){var multiplier=Math.pow(10,decimalPlaces);return Math.round(value*multiplier)/multiplier}exports.roundToDecimalPlaces=roundToDecimalPlaces}});var require_JSFPSMonitor=__commonJS({"node_modules/@shopify/flash-list/dist/benchmark/JSFPSMonitor.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.JSFPSMonitor=void 0;var roundToDecimalPlaces_1=require_roundToDecimalPlaces(),JSFPSMonitor=function(){function JSFPSMonitor2(){var _this=this;this.startTime=0,this.frameCount=0,this.timeWindow={frameCount:0,startTime:0},this.minFPS=Number.MAX_SAFE_INTEGER,this.maxFPS=0,this.averageFPS=0,this.clearAnimationNumber=0,this.updateLoopCompute=function(){_this.frameCount++;var elapsedTime=(Date.now()-_this.startTime)/1e3;_this.averageFPS=elapsedTime>0?_this.frameCount/elapsedTime:0,_this.timeWindow.frameCount++;var timeWindowElapsedTime=(Date.now()-_this.timeWindow.startTime)/1e3;if(timeWindowElapsedTime>=1){var timeWindowAverageFPS=_this.timeWindow.frameCount/timeWindowElapsedTime;_this.minFPS=Math.min(_this.minFPS,timeWindowAverageFPS),_this.maxFPS=Math.max(_this.maxFPS,timeWindowAverageFPS),_this.timeWindow.frameCount=0,_this.timeWindow.startTime=Date.now()}_this.measureLoop()}}return JSFPSMonitor2.prototype.measureLoop=function(){this.clearAnimationNumber=requestAnimationFrame(this.updateLoopCompute)},JSFPSMonitor2.prototype.startTracking=function(){if(this.startTime!==0)throw new Error("This FPS Monitor has already been run, please create a new instance");this.startTime=Date.now(),this.timeWindow.startTime=Date.now(),this.measureLoop()},JSFPSMonitor2.prototype.stopAndGetData=function(){return cancelAnimationFrame(this.clearAnimationNumber),this.minFPS===Number.MAX_SAFE_INTEGER&&(this.minFPS=this.averageFPS,this.maxFPS=this.averageFPS),{minFPS:(0,roundToDecimalPlaces_1.roundToDecimalPlaces)(this.minFPS,1),maxFPS:(0,roundToDecimalPlaces_1.roundToDecimalPlaces)(this.maxFPS,1),averageFPS:(0,roundToDecimalPlaces_1.roundToDecimalPlaces)(this.averageFPS,1)}},JSFPSMonitor2}();exports.JSFPSMonitor=JSFPSMonitor}});var require_useBlankAreaTracker=__commonJS({"node_modules/@shopify/flash-list/dist/benchmark/useBlankAreaTracker.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.useBlankAreaTracker=void 0;var react_1=require_react();function useBlankAreaTracker(flashListRef,onBlankAreaChange,config){var _a2,startDelay=(_a2=config?.startDelayInMs)!==null&&_a2!==void 0?_a2:1e3,blankAreaResult=(0,react_1.useRef)({maxBlankArea:0,cumulativeBlankArea:0}).current,waitOperations=(0,react_1.useRef)({inProgress:!1,complete:!1}).current,onBlankAreaChangeRef=(0,react_1.useRef)(onBlankAreaChange);onBlankAreaChangeRef.current=onBlankAreaChange;var blankAreaTracker=(0,react_1.useCallback)(function(event){var _a3,_b2;if(!waitOperations.complete&&startDelay>0){waitOperations.inProgress||(waitOperations.inProgress=!0,setTimeout(function(){waitOperations.complete=!0},startDelay));return}var rlv=(_a3=flashListRef.current)===null||_a3===void 0?void 0:_a3.recyclerlistview_unsafe,horizontal=!!(!((_b2=flashListRef.current)===null||_b2===void 0)&&_b2.props.horizontal);rlv&&processBlankAreaChange(rlv,horizontal,blankAreaResult,event,onBlankAreaChangeRef.current,config)},[flashListRef]);return[blankAreaResult,blankAreaTracker]}exports.useBlankAreaTracker=useBlankAreaTracker;function processBlankAreaChange(rlv,horizontal,blankAreaResult,event,onBlankAreaChange,config){var listSize=horizontal?rlv.getRenderedSize().width:rlv.getRenderedSize().height,contentSize=horizontal?rlv.getContentDimension().width:rlv.getContentDimension().height;if(contentSize>listSize){var lastMaxBlankArea=blankAreaResult.maxBlankArea,lastCumulativeBlankArea=blankAreaResult.cumulativeBlankArea;blankAreaResult.maxBlankArea=Math.max(blankAreaResult.maxBlankArea,event.blankArea,0),blankAreaResult.cumulativeBlankArea+=config?.sumNegativeValues?event.blankArea:Math.max(event.blankArea,0),(lastCumulativeBlankArea!==blankAreaResult.cumulativeBlankArea||lastMaxBlankArea!==blankAreaResult.maxBlankArea)&&onBlankAreaChange?.(blankAreaResult)}}}});var require_useBenchmark=__commonJS({"node_modules/@shopify/flash-list/dist/benchmark/useBenchmark.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.getFormattedString=exports.useBenchmark=void 0;var tslib_1=(init_tslib_es6(),__toCommonJS(tslib_es6_exports)),react_1=require_react(),AutoScrollHelper_1=require_AutoScrollHelper(),JSFPSMonitor_1=require_JSFPSMonitor(),roundToDecimalPlaces_1=require_roundToDecimalPlaces(),useBlankAreaTracker_1=require_useBlankAreaTracker();function useBenchmark(flashListRef,callback,params){var _this=this;params===void 0&&(params={});var _a2=tslib_1.__read((0,useBlankAreaTracker_1.useBlankAreaTracker)(flashListRef,void 0,{sumNegativeValues:params.sumNegativeBlankAreaValues,startDelayInMs:0}),2),blankAreaResult=_a2[0],blankAreaTracker=_a2[1];return(0,react_1.useEffect)(function(){var _a3,cancellable=new AutoScrollHelper_1.Cancellable,suggestions=[];if(flashListRef.current&&!(Number((_a3=flashListRef.current.props.data)===null||_a3===void 0?void 0:_a3.length)>0))throw new Error("Data is empty, cannot run benchmark");var cancelTimeout=setTimeout(function(){return tslib_1.__awaiter(_this,void 0,void 0,function(){var jsFPSMonitor,i,jsProfilerResponse,result;return tslib_1.__generator(this,function(_a4){switch(_a4.label){case 0:jsFPSMonitor=new JSFPSMonitor_1.JSFPSMonitor,jsFPSMonitor.startTracking(),i=0,_a4.label=1;case 1:return i<(params.repeatCount||1)?[4,runScrollBenchmark(flashListRef,cancellable,params.speedMultiplier||1)]:[3,4];case 2:_a4.sent(),_a4.label=3;case 3:return i++,[3,1];case 4:return jsProfilerResponse=jsFPSMonitor.stopAndGetData(),jsProfilerResponse.averageFPS<35&&suggestions.push("Your average JS FPS is low. This can indicate that your components are doing too much work. Try to optimize your components and reduce re-renders if any"),computeSuggestions(flashListRef,suggestions),result=generateResult(jsProfilerResponse,blankAreaResult,suggestions,cancellable),cancellable.isCancelled()||(result.formattedString=getFormattedString(result)),callback(result),[2]}})})},params.startDelayInMs||3e3);return function(){clearTimeout(cancelTimeout),cancellable.cancel()}},[]),[blankAreaTracker]}exports.useBenchmark=useBenchmark;function getFormattedString(res){var _a2,_b2,_c,_d,_e;return`Results:

`+"JS FPS: Avg: ".concat((_a2=res.js)===null||_a2===void 0?void 0:_a2.averageFPS," | Min: ").concat((_b2=res.js)===null||_b2===void 0?void 0:_b2.minFPS," | Max: ").concat((_c=res.js)===null||_c===void 0?void 0:_c.maxFPS,`

`)+"".concat(res.blankArea?"Blank Area: Max: ".concat((_d=res.blankArea)===null||_d===void 0?void 0:_d.maxBlankArea," Cumulative: ").concat((_e=res.blankArea)===null||_e===void 0?void 0:_e.cumulativeBlankArea,`

`):"")+"".concat(res.suggestions.length>0?`Suggestions:

`.concat(res.suggestions.map(function(value,index){return"".concat(index+1,". ").concat(value)}).join(`
`)):"")}exports.getFormattedString=getFormattedString;function generateResult(jsProfilerResponse,blankAreaResult,suggestions,cancellable){return{js:jsProfilerResponse,blankArea:blankAreaResult.maxBlankArea>=0?{maxBlankArea:(0,roundToDecimalPlaces_1.roundToDecimalPlaces)(blankAreaResult.maxBlankArea,0),cumulativeBlankArea:(0,roundToDecimalPlaces_1.roundToDecimalPlaces)(blankAreaResult.cumulativeBlankArea,0)}:void 0,suggestions,interrupted:cancellable.isCancelled()}}function runScrollBenchmark(flashListRef,cancellable,scrollSpeedMultiplier){return tslib_1.__awaiter(this,void 0,void 0,function(){var horizontal_1,rlv,rlvSize,rlvContentSize,fromX,fromY,toX,toY,scrollNow;return tslib_1.__generator(this,function(_a2){switch(_a2.label){case 0:return flashListRef.current?(horizontal_1=flashListRef.current.props.horizontal,rlv=flashListRef.current.recyclerlistview_unsafe,rlv?(rlvSize=rlv.getRenderedSize(),rlvContentSize=rlv.getContentDimension(),fromX=0,fromY=0,toX=rlvContentSize.width-rlvSize.width,toY=rlvContentSize.height-rlvSize.height,scrollNow=function(x2,y2){var _$_a;(_$_a=flashListRef.current)===null||_$_a===void 0||_$_a.scrollToOffset({offset:horizontal_1?x2:y2,animated:!1})},[4,(0,AutoScrollHelper_1.autoScroll)(scrollNow,fromX,fromY,toX,toY,scrollSpeedMultiplier,cancellable)]):[3,3]):[3,3];case 1:return _a2.sent(),[4,(0,AutoScrollHelper_1.autoScroll)(scrollNow,toX,toY,fromX,fromY,scrollSpeedMultiplier,cancellable)];case 2:_a2.sent(),_a2.label=3;case 3:return[2]}})})}function computeSuggestions(flashListRef,suggestions){var _a2;if(flashListRef.current){flashListRef.current.props.data.length<200&&suggestions.push("Data count is low. Try to increase it to a large number (e.g 200) using the 'useDataMultiplier' hook.");var distanceFromWindow=(0,roundToDecimalPlaces_1.roundToDecimalPlaces)(flashListRef.current.firstItemOffset,0);(flashListRef.current.props.estimatedFirstItemOffset||0)!==distanceFromWindow&&suggestions.push("estimatedFirstItemOffset can be set to ".concat(distanceFromWindow));var rlv_1=flashListRef.current.recyclerlistview_unsafe,horizontal_2=flashListRef.current.props.horizontal;if(rlv_1){var sizeArray=rlv_1.props.dataProvider.getAllData().map(function(_3,index){var _a3,_b2,_c,_d;return horizontal_2?((_b2=(_a3=rlv_1.getLayout)===null||_a3===void 0?void 0:_a3.call(rlv_1,index))===null||_b2===void 0?void 0:_b2.width)||0:((_d=(_c=rlv_1.getLayout)===null||_c===void 0?void 0:_c.call(rlv_1,index))===null||_d===void 0?void 0:_d.height)||0}),averageSize=Math.round(sizeArray.reduce(function(prev,current){return prev+current},0)/sizeArray.length);Math.abs(averageSize-((_a2=flashListRef.current.props.estimatedItemSize)!==null&&_a2!==void 0?_a2:flashListRef.current.state.layoutProvider.defaultEstimatedItemSize))>5&&suggestions.push("estimatedItemSize can be set to ".concat(averageSize))}}}}});var require_useDataMultiplier=__commonJS({"node_modules/@shopify/flash-list/dist/benchmark/useDataMultiplier.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.useDataMultiplier=void 0;var tslib_1=(init_tslib_es6(),__toCommonJS(tslib_es6_exports));function useDataMultiplier(data,count){var len=data.length,arr=new Array(count),isObject=!1;typeof data[0]=="object"&&(isObject=!0);for(var i=0;i<count;i++)arr[i]=isObject?tslib_1.__assign({},data[i%len]):data[i%len];return[arr]}exports.useDataMultiplier=useDataMultiplier}});var require_useFlatListBenchmark=__commonJS({"node_modules/@shopify/flash-list/dist/benchmark/useFlatListBenchmark.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.useFlatListBenchmark=void 0;var tslib_1=(init_tslib_es6(),__toCommonJS(tslib_es6_exports)),react_1=require_react(),AutoScrollHelper_1=require_AutoScrollHelper(),JSFPSMonitor_1=require_JSFPSMonitor(),useBenchmark_1=require_useBenchmark();function useFlatListBenchmark(flatListRef,callback,params){var _this=this;return(0,react_1.useEffect)(function(){var _a2,cancellable=new AutoScrollHelper_1.Cancellable;if(flatListRef.current&&!(Number((_a2=flatListRef.current.props.data)===null||_a2===void 0?void 0:_a2.length)>0))throw new Error("Data is empty, cannot run benchmark");var cancelTimeout=setTimeout(function(){return tslib_1.__awaiter(_this,void 0,void 0,function(){var jsFPSMonitor,i,jsProfilerResponse,result;return tslib_1.__generator(this,function(_a3){switch(_a3.label){case 0:jsFPSMonitor=new JSFPSMonitor_1.JSFPSMonitor,jsFPSMonitor.startTracking(),i=0,_a3.label=1;case 1:return i<(params.repeatCount||1)?[4,runScrollBenchmark(flatListRef,params.targetOffset,cancellable,params.speedMultiplier||1)]:[3,4];case 2:_a3.sent(),_a3.label=3;case 3:return i++,[3,1];case 4:return jsProfilerResponse=jsFPSMonitor.stopAndGetData(),result={js:jsProfilerResponse,suggestions:[],interrupted:cancellable.isCancelled()},cancellable.isCancelled()||(result.formattedString=(0,useBenchmark_1.getFormattedString)(result)),callback(result),[2]}})})},params.startDelayInMs||3e3);return function(){clearTimeout(cancelTimeout),cancellable.cancel()}},[]),[]}exports.useFlatListBenchmark=useFlatListBenchmark;function runScrollBenchmark(flatListRef,targetOffset,cancellable,scrollSpeedMultiplier){return tslib_1.__awaiter(this,void 0,void 0,function(){var horizontal_1,fromX,fromY,toX,toY,scrollNow;return tslib_1.__generator(this,function(_a2){switch(_a2.label){case 0:return flatListRef.current?(horizontal_1=flatListRef.current.props.horizontal,fromX=0,fromY=0,toX=horizontal_1?targetOffset:0,toY=horizontal_1?0:targetOffset,scrollNow=function(x2,y2){var _$_a;(_$_a=flatListRef.current)===null||_$_a===void 0||_$_a.scrollToOffset({offset:horizontal_1?x2:y2,animated:!1})},[4,(0,AutoScrollHelper_1.autoScroll)(scrollNow,fromX,fromY,toX,toY,scrollSpeedMultiplier,cancellable)]):[3,3];case 1:return _a2.sent(),[4,(0,AutoScrollHelper_1.autoScroll)(scrollNow,toX,toY,fromX,fromY,scrollSpeedMultiplier,cancellable)];case 2:_a2.sent(),_a2.label=3;case 3:return[2]}})})}}});var require_MasonryFlashList=__commonJS({"node_modules/@shopify/flash-list/dist/MasonryFlashList.js"(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.MasonryFlashList=void 0;var tslib_1=(init_tslib_es6(),__toCommonJS(tslib_es6_exports)),react_1=tslib_1.__importStar(require_react()),react_native_1=require_react_native(),CustomError_1=tslib_1.__importDefault(require_CustomError2()),ExceptionList_1=tslib_1.__importDefault(require_ExceptionList()),FlashList_1=tslib_1.__importDefault(require_FlashList()),ContentContainerUtils_1=require_ContentContainerUtils(),defaultEstimatedItemSize=100,MasonryFlashListComponent=react_1.default.forwardRef(function(props,forwardRef){var _a2,_b2,_c,_d,_e,columnCount=props.numColumns||1,drawDistance=props.drawDistance,estimatedListSize=(_b2=(_a2=props.estimatedListSize)!==null&&_a2!==void 0?_a2:react_native_1.Dimensions.get("window"))!==null&&_b2!==void 0?_b2:{height:500,width:500};if(props.optimizeItemArrangement&&!props.overrideItemLayout)throw new CustomError_1.default(ExceptionList_1.default.overrideItemLayoutRequiredForMasonryOptimization);var dataSet=useDataSet(columnCount,!!props.optimizeItemArrangement,props.data,props.overrideItemLayout,props.extraData),totalColumnFlex=useTotalColumnFlex(dataSet,props),propsRef=(0,react_1.useRef)(props);propsRef.current=props;var onScrollRef=(0,react_1.useRef)([]),emptyScrollEvent=(0,react_1.useRef)(getEmptyScrollEvent()).current,ScrollComponent=(0,react_1.useRef)(getFlashListScrollView(onScrollRef,function(){var _a3;return((_a3=getListRenderedSize(parentFlashList))===null||_a3===void 0?void 0:_a3.height)||estimatedListSize.height})).current,onScrollProxy=(0,react_1.useRef)(function(scrollEvent){var _a3,_b3,_c2,_d2,_e2;emptyScrollEvent.nativeEvent.contentOffset.y=scrollEvent.nativeEvent.contentOffset.y-((_b3=(_a3=parentFlashList.current)===null||_a3===void 0?void 0:_a3.firstItemOffset)!==null&&_b3!==void 0?_b3:0),(_c2=onScrollRef.current)===null||_c2===void 0||_c2.forEach(function(onScrollCallback){onScrollCallback?.(emptyScrollEvent)}),scrollEvent.nativeEvent.doNotPropagate||(_e2=(_d2=propsRef.current).onScroll)===null||_e2===void 0||_e2.call(_d2,scrollEvent)}).current,onLoadForNestedLists=(0,react_1.useRef)(function(args){var _a3,_b3;setTimeout(function(){emptyScrollEvent.nativeEvent.doNotPropagate=!0,onScrollProxy?.(emptyScrollEvent),emptyScrollEvent.nativeEvent.doNotPropagate=!1},32),(_b3=(_a3=propsRef.current).onLoad)===null||_b3===void 0||_b3.call(_a3,args)}).current,_f=tslib_1.__read(useRefWithForwardRef(forwardRef),2),parentFlashList=_f[0],getFlashList=_f[1],renderItem=props.renderItem,getItemType=props.getItemType,getColumnFlex=props.getColumnFlex,overrideItemLayout=props.overrideItemLayout,viewabilityConfig=props.viewabilityConfig,keyExtractor=props.keyExtractor,onLoad=props.onLoad,onViewableItemsChanged=props.onViewableItemsChanged,data=props.data,stickyHeaderIndices=props.stickyHeaderIndices,CellRendererComponent=props.CellRendererComponent,ItemSeparatorComponent=props.ItemSeparatorComponent,remainingProps=tslib_1.__rest(props,["renderItem","getItemType","getColumnFlex","overrideItemLayout","viewabilityConfig","keyExtractor","onLoad","onViewableItemsChanged","data","stickyHeaderIndices","CellRendererComponent","ItemSeparatorComponent"]),firstColumnHeight=((_d=(_c=dataSet[0])===null||_c===void 0?void 0:_c.length)!==null&&_d!==void 0?_d:0)*((_e=props.estimatedItemSize)!==null&&_e!==void 0?_e:defaultEstimatedItemSize),insetForLayoutManager=(0,ContentContainerUtils_1.applyContentContainerInsetForLayoutManager)({height:0,width:0},props.contentContainerStyle,!1);return react_1.default.createElement(FlashList_1.default,tslib_1.__assign({ref:getFlashList},remainingProps,{horizontal:!1,numColumns:columnCount,data:dataSet,onScroll:onScrollProxy,estimatedItemSize:firstColumnHeight||estimatedListSize.height,renderItem:function(args){var _a3,_b3;return react_1.default.createElement(FlashList_1.default,{renderScrollComponent:ScrollComponent,estimatedItemSize:props.estimatedItemSize,data:args.item,onLoad:args.index===0?onLoadForNestedLists:void 0,renderItem:function(innerArgs){var _a4;return(_a4=renderItem?.(tslib_1.__assign(tslib_1.__assign({},innerArgs),{item:innerArgs.item.originalItem,index:innerArgs.item.originalIndex,columnSpan:1,columnIndex:args.index})))!==null&&_a4!==void 0?_a4:null},keyExtractor:keyExtractor?function(item,_3){return keyExtractor?.(item.originalItem,item.originalIndex)}:void 0,getItemType:getItemType?function(item,_3,extraData){return getItemType?.(item.originalItem,item.originalIndex,extraData)}:void 0,drawDistance,estimatedListSize:{height:estimatedListSize.height,width:((((_a3=getListRenderedSize(parentFlashList))===null||_a3===void 0?void 0:_a3.width)||estimatedListSize.width)+insetForLayoutManager.width)/totalColumnFlex*((_b3=getColumnFlex?.(args.item,args.index,columnCount,props.extraData))!==null&&_b3!==void 0?_b3:1)},extraData:props.extraData,CellRendererComponent,ItemSeparatorComponent,viewabilityConfig,onViewableItemsChanged:onViewableItemsChanged?function(info){updateViewTokens(info.viewableItems),updateViewTokens(info.changed),onViewableItemsChanged?.(info)}:void 0,overrideItemLayout:overrideItemLayout?function(layout,item,_3,__,extraData){overrideItemLayout?.(layout,item.originalItem,item.originalIndex,columnCount,extraData),layout.span=void 0}:void 0})},overrideItemLayout:getColumnFlex?function(layout,item,index,maxColumns,extraData){layout.span=columnCount*getColumnFlex(item,index,maxColumns,extraData)/totalColumnFlex}:void 0}))}),useDataSet=function(columnCount,optimizeItemArrangement,sourceData,overrideItemLayout,extraData){return(0,react_1.useMemo)(function(){var _a2;if(!sourceData||sourceData.length===0)return[];for(var columnHeightTracker=new Array(columnCount).fill(0),layoutObject={size:void 0},dataSet=new Array(columnCount),dataSize=sourceData.length,i=0;i<columnCount;i++)dataSet[i]=[];for(var i=0;i<dataSize;i++){var nextColumnIndex=i%columnCount;if(optimizeItemArrangement){for(var j=0;j<columnCount;j++)columnHeightTracker[j]<columnHeightTracker[nextColumnIndex]&&(nextColumnIndex=j);layoutObject.size=void 0,overrideItemLayout(layoutObject,sourceData[i],i,columnCount,extraData),columnHeightTracker[nextColumnIndex]+=(_a2=layoutObject.size)!==null&&_a2!==void 0?_a2:defaultEstimatedItemSize}dataSet[nextColumnIndex].push({originalItem:sourceData[i],originalIndex:i})}return dataSet},[sourceData,columnCount,optimizeItemArrangement,extraData])},useTotalColumnFlex=function(dataSet,props){return(0,react_1.useMemo)(function(){var columnCount=props.numColumns||1;if(!props.getColumnFlex)return columnCount;for(var totalFlexSum=0,dataSize=dataSet.length,i=0;i<dataSize;i++)totalFlexSum+=props.getColumnFlex(dataSet[i],i,columnCount,props.extraData);return totalFlexSum},[dataSet,props.getColumnFlex,props.extraData])},useRefWithForwardRef=function(forwardRef){var ref=(0,react_1.useRef)(null);return[ref,(0,react_1.useCallback)(function(instance){ref.current=instance,typeof forwardRef=="function"?forwardRef(instance):forwardRef&&(forwardRef.current=instance)},[forwardRef])]},getFlashListScrollView=function(onScrollRef,getParentHeight){var FlashListScrollView=react_1.default.forwardRef(function(props,ref){var onLayout=props.onLayout,onScroll=props.onScroll,rest=tslib_1.__rest(props,["onLayout","onScroll"]),onLayoutProxy=(0,react_1.useCallback)(function(layoutEvent){onLayout?.({nativeEvent:{layout:{height:getParentHeight(),width:layoutEvent.nativeEvent.layout.width}}})},[onLayout]);return(0,react_1.useEffect)(function(){var _a2;return onScroll&&((_a2=onScrollRef.current)===null||_a2===void 0||_a2.push(onScroll)),function(){if(!(!onScrollRef.current||!onScroll)){var indexToDelete=onScrollRef.current.indexOf(onScroll);indexToDelete>-1&&onScrollRef.current.splice(indexToDelete,1)}}},[onScroll]),react_1.default.createElement(react_native_1.View,tslib_1.__assign({ref},rest,{onLayout:onLayoutProxy}))});return FlashListScrollView.displayName="FlashListScrollView",FlashListScrollView},updateViewTokens=function(tokens2){for(var length=tokens2.length,i=0;i<length;i++){var token=tokens2[i];token.index!==null&&token.index!==void 0&&(token.item?(token.index=token.item.originalIndex,token.item=token.item.originalItem):(token.index=null,token.item=void 0))}},getEmptyScrollEvent=function(){return{nativeEvent:{contentOffset:{y:0,x:0}}}},getListRenderedSize=function(parentFlashList){var _a2,_b2;return(_b2=(_a2=parentFlashList?.current)===null||_a2===void 0?void 0:_a2.recyclerlistview_unsafe)===null||_b2===void 0?void 0:_b2.getRenderedSize()};MasonryFlashListComponent.displayName="MasonryFlashList";exports.MasonryFlashList=MasonryFlashListComponent}});var require_dist2=__commonJS({"node_modules/@shopify/flash-list/dist/index.js"(exports){"use strict";var __importDefault2=exports&&exports.__importDefault||function(mod2){return mod2&&mod2.__esModule?mod2:{default:mod2}};Object.defineProperty(exports,"__esModule",{value:!0});exports.CellContainer=exports.Cancellable=exports.autoScroll=exports.JSFPSMonitor=exports.MasonryFlashList=exports.useBlankAreaTracker=exports.useFlatListBenchmark=exports.useDataMultiplier=exports.useBenchmark=exports.useOnNativeBlankAreaEvents=exports.AnimatedFlashList=exports.RenderTargetOptions=exports.FlashList=void 0;var FlashList_1=require_FlashList();Object.defineProperty(exports,"FlashList",{enumerable:!0,get:function(){return __importDefault2(FlashList_1).default}});var FlashListProps_1=require_FlashListProps();Object.defineProperty(exports,"RenderTargetOptions",{enumerable:!0,get:function(){return FlashListProps_1.RenderTargetOptions}});var AnimatedFlashList_1=require_AnimatedFlashList();Object.defineProperty(exports,"AnimatedFlashList",{enumerable:!0,get:function(){return __importDefault2(AnimatedFlashList_1).default}});var AutoLayoutView_1=require_AutoLayoutView();Object.defineProperty(exports,"useOnNativeBlankAreaEvents",{enumerable:!0,get:function(){return AutoLayoutView_1.useOnNativeBlankAreaEvents}});var useBenchmark_1=require_useBenchmark();Object.defineProperty(exports,"useBenchmark",{enumerable:!0,get:function(){return useBenchmark_1.useBenchmark}});var useDataMultiplier_1=require_useDataMultiplier();Object.defineProperty(exports,"useDataMultiplier",{enumerable:!0,get:function(){return useDataMultiplier_1.useDataMultiplier}});var useFlatListBenchmark_1=require_useFlatListBenchmark();Object.defineProperty(exports,"useFlatListBenchmark",{enumerable:!0,get:function(){return useFlatListBenchmark_1.useFlatListBenchmark}});var useBlankAreaTracker_1=require_useBlankAreaTracker();Object.defineProperty(exports,"useBlankAreaTracker",{enumerable:!0,get:function(){return useBlankAreaTracker_1.useBlankAreaTracker}});var MasonryFlashList_1=require_MasonryFlashList();Object.defineProperty(exports,"MasonryFlashList",{enumerable:!0,get:function(){return MasonryFlashList_1.MasonryFlashList}});var JSFPSMonitor_1=require_JSFPSMonitor();Object.defineProperty(exports,"JSFPSMonitor",{enumerable:!0,get:function(){return JSFPSMonitor_1.JSFPSMonitor}});var AutoScrollHelper_1=require_AutoScrollHelper();Object.defineProperty(exports,"autoScroll",{enumerable:!0,get:function(){return AutoScrollHelper_1.autoScroll}});Object.defineProperty(exports,"Cancellable",{enumerable:!0,get:function(){return AutoScrollHelper_1.Cancellable}});var CellContainer_1=require_CellContainer();Object.defineProperty(exports,"CellContainer",{enumerable:!0,get:function(){return __importDefault2(CellContainer_1).default}})}});function MasonaryFlashPluginList({data,header,ListItemComponentProps,ListItemComponent,ListFooterComponent}){var navigation=NavigationNative.useNavigation(),dimensions=(0,import_react_native12.useWindowDimensions)(),numColumns=Math.floor((dimensions.width-16)/448),estimatedItemSize=24.01+32+62*import_react_native12.PixelRatio.getFontScale()**1.35;return jsx(import_flash_list.MasonryFlashList,{stickyHeaderIndices:header?[0]:void 0,ListHeaderComponent:header,renderItem:({item,columnIndex})=>jsx(PluginCardContext_default.Provider,{value:{navigation,plugin:item,manifest:item},children:jsx(ListItemComponent,{...ListItemComponentProps?ListItemComponentProps(item):item,horizontalGaps:dimensions.width>464&&columnIndex<numColumns-1})}),data,numColumns,estimatedItemSize,keyboardShouldPersistTaps:"handled",ListFooterComponent:ListFooterComponent||void 0})}var import_flash_list,import_react_native12,init_MasonaryFlashPluginList=__esm({"src/plugins/settings/pages/Plugins/components/MasonaryFlashPluginList.tsx"(){"use strict";init_react_jsx_runtime();init_common();import_flash_list=__toESM(require_dist2(),1),import_react_native12=__toESM(require_react_native(),1);init_PluginCardContext()}});function PluginListSearchAndFilters(){var{setQuery,ContextMenuComponent}=(0,import_react10.useContext)(PluginSettingsPageContext);return jsxs(import_react_native13.View,{style:styles5.queryContainer,children:[jsx(import_react_native13.View,{style:styles5.grow,children:jsx(SearchInput,{isRound:!0,isClearable:!0,size:"md",onChange:query=>setQuery(query.replaceAll(/\s/g,"").toLowerCase())})}),jsx(Show,{when:ContextMenuComponent,children:React.createElement(ContextMenuComponent,{children:props=>jsx(IconButton,{...props,icon:getAssetIndexByName("FiltersHorizontalIcon"),variant:"secondary-overlay"})})})]})}var import_react10,import_react_native13,init_PluginListSearchInputAndFilters=__esm({"src/plugins/settings/pages/Plugins/components/PluginListSearchInputAndFilters.tsx"(){"use strict";init_react_jsx_runtime();init_src5();init_components();init_components3();import_react10=__toESM(require_react(),1),import_react_native13=__toESM(require_react_native(),1);init_shared5();init_components2()}});function useFilteredPlugins(plugins,query,options){var{showInternal,showVengeance}=options,_plugins=(0,import_react11.useMemo)(()=>plugins.filter(plugin4=>plugin4.name.toLowerCase().replaceAll(/\s/g,"").includes(query)||plugin4.id.toLowerCase().includes(query)),[plugins,query]),externalPlugins=(0,import_react11.useMemo)(()=>_plugins.filter(plugin4=>(plugin4.external??!0)&&(options.showUnmanageable?!0:plugin4.manageable??!0)),[_plugins,options.showUnmanageable]),vengeancePlugins=(0,import_react11.useMemo)(()=>_plugins.filter(plugin4=>!(plugin4.external??!0)&&plugin4.id.startsWith("vengeance.")&&(options.showUnmanageable?!0:plugin4.manageable??!0)),[_plugins,options.showUnmanageable]),internalPlugins=(0,import_react11.useMemo)(()=>_plugins.filter(plugin4=>!(plugin4.external??!0)&&!plugin4.id.startsWith("vengeance.")&&(options.showUnmanageable?!0:plugin4.manageable??!0)),[_plugins,options.showUnmanageable]),empty=![showInternal&&internalPlugins.length,showVengeance&&vengeancePlugins.length,externalPlugins.length].reduce((a,b5)=>a+(b5||0),0),noSearchResults=empty&&!!query;return{plugins:_plugins,externalPlugins,vengeancePlugins,internalPlugins,empty,noSearchResults}}var import_react11,init_hooks2=__esm({"src/plugins/settings/pages/Plugins/hooks.ts"(){"use strict";import_react11=__toESM(require_react(),1)}});function PluginsSettingsPage(){var{storage}=(0,import_react12.useContext)(PluginContext);useObservable([pluginsStates,storage,externalPluginsMetadata]);var[query,setQuery]=(0,import_react12.useState)(""),{showInternal,showVengeance,showUnmanageable}=storage.plugins,{externalPlugins,vengeancePlugins,internalPlugins,empty,noSearchResults}=useFilteredPlugins(Object.values(registeredPlugins),query,storage.plugins),ContextMenuComponent=(0,import_react12.memo)(({children})=>jsx(ContextMenu,{title:"Filters",items:[[{label:"Show Vengeance plugins",IconComponent:showVengeance?CheckmarkLargeIcon:void 0,action:()=>storage.plugins.showVengeance=!showVengeance},{label:"Show internal plugins",IconComponent:showInternal?CheckmarkLargeIcon:void 0,action:()=>storage.plugins.showInternal=!showInternal},{label:"Show essential plugins",IconComponent:showUnmanageable?CheckmarkLargeIcon:void 0,action:()=>storage.plugins.showUnmanageable=!showUnmanageable}]],children}));return jsx(PageWrapper,{withTopControls:!0,children:jsx(PluginSettingsPageContext.Provider,{value:{setQuery,showInternal,showVengeance,showUnmanageable,ContextMenuComponent},children:jsx(Stack,{spacing:16,style:styles5.grow,children:jsxs(Show,{when:!empty||noSearchResults,fallback:jsx(NoPlugins,{}),children:[jsx(PluginListSearchAndFilters,{}),jsx(Show,{when:!noSearchResults,fallback:jsx(NoResults,{}),children:jsxs(import_react_native14.ScrollView,{fadingEdgeLength:32,keyboardShouldPersistTaps:"handled",style:styles5.autoSize,children:[jsx(MasonaryFlashPluginList,{data:externalPlugins,ListItemComponent:InstalledPluginCard,ListFooterComponent:!showVengeance&&!showInternal&&PluginBrowserCTA}),jsx(Show,{when:showVengeance,children:jsx(MasonaryFlashPluginList,{data:vengeancePlugins,header:jsx(TableRowGroupTitle,{title:"Vengeance Plugins"}),ListItemComponent:InstalledPluginCard,ListFooterComponent:!showInternal&&PluginBrowserCTA})}),jsx(Show,{when:showInternal,children:jsx(MasonaryFlashPluginList,{data:internalPlugins,header:jsxs(import_react_native14.View,{style:styles5.headerContainer,children:[jsx(TableRowGroupTitle,{title:"Internal Plugins"}),jsx(IconButton,{icon:getAssetIndexByName("CircleQuestionIcon-primary"),size:"sm",variant:"tertiary",onPress:showInternalPluginsInformationAlert})]}),ListItemComponent:InstalledPluginCard,ListFooterComponent:showInternal&&PluginBrowserCTA})})]})})]})})})})}function PluginBrowserCTA(){return jsxs(import_react_native14.View,{style:[styles5.centerChildren,styles5.browserCtaContainer],children:[jsx(Text,{variant:"heading-lg/semibold",children:"Want more plugins? Browse them here!"}),jsx(BrowsePluginsButton,{})]})}function showInternalPluginsInformationAlert(){return openAlert("revenge.plugins.settings.plugins.internal-plugins.description",jsx(AlertModal,{title:"What are internal plugins?",content:"Internal plugins are directly integrated into Revenge, and provide core functionalities such as this settings menu. Some internal plugins are essential to provide necessary resources required by other plugins.",actions:jsx(AlertActionButton,{text:"OK"})}))}var import_react12,import_react_native14,init_Plugins=__esm({"src/plugins/settings/pages/Plugins/index.tsx"(){"use strict";init_react_jsx_runtime();init_src5();init_common();init_components();init_icons();import_react12=__toESM(require_react(),1),import_react_native14=__toESM(require_react_native(),1);init_src7();init_src6();init_internals();init_components2();init_BrowsePluginsButton();init_Illustrations();init_InstalledPluginCard();init_MasonaryFlashPluginList();init_PluginListSearchInputAndFilters();init_shared5();init_hooks2();init_Wrapper();init_settings2()}});function InstallablePluginCard(props){return jsx(PluginCard,{...props,trailing:jsx(Button,{size:"sm",variant:"primary",icon:getAssetIndexByName("DownloadIcon"),text:"Install",onPress:()=>installPlugin(props.url)})})}var init_InstallablePluginCard=__esm({"src/plugins/settings/pages/Plugins/components/InstallablePluginCard.tsx"(){"use strict";init_react_jsx_runtime();init_src5();init_components();init_src8();init_PluginCard()}});function installPluginFromStorage(){return _installPluginFromStorage.apply(this,arguments)}function _installPluginFromStorage(){return _installPluginFromStorage=_async_to_generator(function*(){var result=yield filePicker.handleDocumentSelection({pickMultiple:!1}),file=result?.[0];if(file){var res=yield installPlugin(file.uri);if(!res)return onPluginInstalled();switch(res){case InstallPluginResult.PluginUnsigned:return openAlert("revenge.plugins.settings.plugins.install.unsigned",jsx(AlertModal,{title:"Install unsigned plugin?",content:jsxs(Text,{color:"text-muted",children:["The plugin you're trying to install is not signed. Are you sure you want to install it?"," ",jsx(IntlLink,{target:"https://palmdevs.me",children:"Learn more about this feature."})]}),actions:jsxs(Fragment,{children:[jsx(AlertActionButton,{variant:"destructive",text:"Install anyway",onPress:()=>installPlugin(file.uri,!0).then(onPluginInstalled)}),jsx(AlertActionButton,{variant:"secondary",text:"Cancel"})]})}));default:return openAlert("revenge.plugins.settings.plugin.install.failed",jsx(AlertModal,{title:"Plugin installation failed",content:InstallPluginResultMessage[res],actions:jsx(AlertActionButton,{text:"OK"})}))}}}),_installPluginFromStorage.apply(this,arguments)}var onPluginInstalled,init_utils4=__esm({"src/plugins/settings/pages/Plugins/utils.tsx"(){"use strict";init_async_to_generator();init_react_jsx_runtime();init_common();init_components();init_icons();init_src8();init_constants2();onPluginInstalled=()=>toasts.open({key:"revenge.plugins.settings.plugins.install.success",content:"Plugin installed!",IconComponent:DownloadIcon})}});function PluginBrowserPage(){var navigation=NavigationNative.useNavigation();(0,import_react13.useEffect)(()=>navigation.setOptions({headerRight:()=>jsx(ContextMenu,{title:"More options",items:[{label:"Install from storage",action:installPluginFromStorage,IconComponent:FolderIcon}],children:props=>jsx(IconButton,{...props,variant:"tertiary",icon:getAssetIndexByName("MoreHorizontalIcon")})})}),[]);var[query,setQuery]=(0,import_react13.useState)(""),{externalPlugins,empty,noSearchResults}=useFilteredPlugins([{name:"Mock Plugin",description:"This is a mock plugin",author:"Mock Author",id:"mock-plugin-1",url:"https://palmdevs.me/mock-plugin.zip",version:"1.0.0",icon:"Revenge.PluginIcon"},{name:"Another Mock Plugin",description:"This is another mock plugin",author:"Mock Author",id:"mock-plugin-2",url:"https://palmdevs.me/mock-plugin-2.zip",version:"1.0.0",icon:"Revenge.PluginIcon"}],query,{showInternal:!1,showVengeance:!0,showUnmanageable:!1});return jsx(PageWrapper,{withTopControls:!0,children:jsx(PluginSettingsPageContext.Provider,{value:{setQuery,showInternal:!1,showVengeance:!0,showUnmanageable:!1,ContextMenuComponent:(0,import_react13.memo)(()=>null)},children:jsx(Stack,{spacing:16,style:styles5.grow,children:jsxs(Show,{when:!empty||noSearchResults,fallback:jsx(NoPlugins,{}),children:[jsx(PluginListSearchAndFilters,{}),jsx(Show,{when:!noSearchResults,fallback:jsx(NoResults,{}),children:jsx(MasonaryFlashPluginList,{data:externalPlugins,ListItemComponentProps:item=>({url:item.url}),ListItemComponent:InstallablePluginCard})})]})})})})}var import_react13,init_Browser=__esm({"src/plugins/settings/pages/Plugins/Browser.tsx"(){"use strict";init_react_jsx_runtime();init_src5();init_common();init_components();init_icons();init_components2();import_react13=__toESM(require_react(),1);init_InstallablePluginCard();init_MasonaryFlashPluginList();init_PluginListSearchInputAndFilters();init_shared5();init_Wrapper();init_utils4();init_Illustrations();init_hooks2()}});var GitHubURL,DiscordURL,init_constants3=__esm({"src/plugins/settings/constants.ts"(){"use strict";GitHubURL="https://github.com/revenge-mod",DiscordURL="https://discord.com/invite/ddcQf3s2Uq"}});function RevengeSettingsPage(){var navigation=NavigationNative.useNavigation();return useObservable([settings]),jsx(import_react_native15.ScrollView,{children:jsxs(PageWrapper,{children:[jsx(TableRowGroup,{title:"Info",children:jsx(TableRow,{label:"About",icon:jsx(TableRowIcon,{source:getAssetIndexByName("CircleInformationIcon-primary")}),arrow:!0,onPress:()=>navigation.navigate("RevengeAbout")})}),jsxs(TableRowGroup,{title:"Revenge",children:[jsx(TableRow,{label:"Discord",icon:jsx(TableRowIcon,{source:getAssetIndexByName("Discord")}),arrow:!0,onPress:()=>links.openDeeplink(DiscordURL)}),jsx(TableRow,{label:"GitHub",icon:jsx(TableRowIcon,{source:getAssetIndexByName("img_account_sync_github_white")}),arrow:!0,onPress:()=>links.openURL(GitHubURL)}),jsx(TableRow,{label:"Contributors",icon:jsx(TableRowIcon,{source:getAssetIndexByName("FriendsIcon")}),arrow:!0,onPress:()=>navigation.navigate("RevengeContributors")})]}),jsx(TableRowGroup,{title:"Actions",children:jsx(TableRow,{label:"Reload Discord",icon:jsx(TableRowIcon,{source:getAssetIndexByName("RetryIcon")}),onPress:()=>BundleUpdaterManager.reload()})})]})})}var import_react_native15,init_Revenge=__esm({"src/plugins/settings/pages/Revenge.tsx"(){"use strict";init_react_jsx_runtime();init_src5();init_common();init_components();init_native();init_src7();init_src6();init_constants3();init_Wrapper();import_react_native15=__toESM(require_react_native(),1)}});function getCustomSettingRows(){return[...Object.values(customData.sections),{name:"(unbound)",settings:customData.rows}].map(section=>Object.entries(section.settings).reduce((rows,[key,row])=>(rows[key]=transformSettingRowToRawSettingRow(key,row),rows),{})).reduce((rows,newRows)=>Object.assign(rows,newRows),{})}function transformSettingRowToRawSettingRow(key,row){return{title:()=>row.label,parent:row.parent??null,icon:row.icon,IconComponent:row.icon?()=>TableRowIcon({source:row.icon}):void 0,unsearchable:row.unsearchable,screen:row.type==="route"?{route:key,getComponent:()=>row.component}:void 0,onPress:row.onPress,useDescription:row.description?()=>row.description:void 0,useTrailing:row.trailing?()=>row.trailing:void 0,useIsDisabled:typeof row.disabled=="boolean"?()=>row.disabled:void 0,usePredicate:row.predicate,onValueChange:row.onValueChange,useValue:()=>row.value,type:row.type}}var import_react15,plugin,PluginContext,init_settings2=__esm({"src/plugins/settings/index.tsx"(){"use strict";init_async_to_generator();init_react_jsx_runtime();init_components();init_internals();init_functions();init_react2();init_settings();import_react15=__toESM(require_react(),1);init_About();init_Contributors();init_CustomPageRenderer();init_Plugins();init_Browser();init_Revenge();init_contributors();plugin=registerPlugin({name:"Settings",author:"Revenge",description:"Settings menus for Revenge",id:"revenge.settings",version:"1.0.0",icon:"SettingsIcon"},{afterAppRender(context){return _async_to_generator(function*(){var{patcher:patcher6,revenge:{assets,modules:modules3,ui:{settings:sui}}}=context,contributors=new Set;for(var member of Object.values(contributors_default).flat())!member.icon||contributors.has(member.name)||(contributors.add(member.name),assets.registerCustom({name:`Revenge.Contributors.${member.name}`,type:"webp"},member.icon));sui.createSection({name:"Revenge",settings:{Revenge:{type:"route",label:"Revenge",icon:assets.getIndexByName("Revenge.RevengeIcon"),component:RevengeSettingsPage},RevengePlugins:{type:"route",label:"Plugins",icon:assets.getIndexByName("Revenge.PluginIcon"),component:()=>jsx(PluginContext.Provider,{value:context,children:jsx(PluginsSettingsPage,{})})}}}),sui.createRoute("RevengePluginBrowser",{type:"route",label:"Plugin Browser",component:PluginBrowserPage,icon:assets.getIndexByName("Revenge.PluginIcon"),parent:"RevengePlugins"}),sui.createRoute("RevengeAbout",{type:"route",label:"About",component:AboutSettingsPage,icon:assets.getIndexByName("CircleInformationIcon-primary"),parent:"Revenge"}),sui.createRoute("RevengeContributors",{type:"route",label:"Contributors",component:ContributorsSettingsPage,icon:assets.getIndexByName("FriendsIcon"),parent:"Revenge"}),sui.createRoute("RevengeCustomPage",{type:"route",label:"Revenge Page",unsearchable:!0,component:CustomPageRenderer,predicate:()=>!1}),yield sleep(0);var SettingsConstants=modules3.findByProps("SETTING_RENDERER_CONFIG"),SettingsOverviewScreen=modules3.findByName("SettingsOverviewScreen",!1),originalRendererConfig=SettingsConstants.SETTING_RENDERER_CONFIG,rendererConfig=originalRendererConfig;Object.defineProperty(SettingsConstants,"SETTING_RENDERER_CONFIG",{enumerable:!0,configurable:!0,get:()=>({...getCustomSettingRows(),...rendererConfig}),set:v2=>rendererConfig=v2}),patcher6.after(SettingsOverviewScreen,"default",(_3,children)=>{var registeredCustomRows=new Set(Object.values(customData.sections).flatMap(({settings:settings2})=>Object.keys(settings2))),{sections}=findInReactTree(children,i=>i.props?.sections).props;if(sections.findIndex(section2=>section2.settings.some(setting=>registeredCustomRows.has(setting)))===-1){var index=-~sections.findIndex(section2=>section2.settings.includes("ACCOUNT"))||1;for(var key in customData.sections){var section=customData.sections[key];sections.splice(index++,0,{label:section.name,settings:Object.keys(section.settings)})}}},"addNewSettingsSections")})()},initializeStorage:()=>({plugins:{showInternal:!1,showVengeance:!0,showUnmanageable:!1}})},{external:!1,manageable:!1}),PluginContext=(0,import_react15.createContext)(null)}});var init_staff_settings=__esm({"src/plugins/staff-settings/index.tsx"(){"use strict";init_internals();registerPlugin({name:"Staff Settings",author:"Revenge",description:"Enables access to staff settings on Discord",id:"revenge.staff-settings",version:"1.0.0",icon:"StaffBadgeIcon"},{onMetroModuleLoad(_3,__,exports,unsub){exports.default?.constructor?.displayName==="DeveloperExperimentStore"&&(unsub(),exports.default=new Proxy(exports.default,{get(target,property,receiver){return property==="isDeveloper"?!0:Reflect.get(target,property,receiver)}}))},beforeStop(){return{reloadRequired:!0}}},{external:!1,manageable:!0,enabled:!1})}});function AssetDisplay({index,asset,moduleId}){return jsx(TableRow,{variant:DisplayableTypes.has(asset.type)?"default":"danger",label:asset.name,subLabel:`Index: ${index} \u2022 Type: ${asset.type} \u2022 ${moduleId?`Module ID: ${moduleId}`:"Custom asset"}`,icon:DisplayableTypes.has(asset.type)?jsx(import_react_native16.Image,{source:index,style:{width:32,height:32}}):jsx(TableRow.Icon,{variant:"danger",source:getAssetIndexByName(asset.type in UndisplayableTypesIconMap?UndisplayableTypesIconMap[asset.type]:UndisplayableTypesIconMap.default)}),onPress:()=>openAlert("revenge.plugins.developer-settings.asset-browser.display",jsx(AlertModal,{title:asset.name,content:`Index: ${index}
Module ID: ${moduleId??"(custom asset)"}
Type: ${asset.type}`,extraContent:DisplayableTypes.has(asset.type)?jsx(import_react_native16.Image,{resizeMode:"contain",source:index,style:{flexGrow:1,width:"auto",height:192}}):jsxs(Text,{variant:"text-sm/medium",color:"text-danger",style:{width:"100%",textAlign:"center"},children:["Asset type ",asset.type.toUpperCase()," is not supported for preview."]}),actions:jsxs(Stack,{children:[jsx(AlertActionButton,{text:"Copy asset name",variant:"primary",onPress:()=>copyToClipboard(asset.name)}),jsx(AlertActionButton,{text:"Copy asset index",variant:"secondary",onPress:()=>copyToClipboard(index.toString())})]})}))})}function copyToClipboard(text){clipboard.setString(text),toasts.open({key:"revenge.plugins.developer-settings.asset-browser.copied",content:"Copied to clipboard",icon:icons_exports.CopyIcon})}function AssetBrowserSettingsPage(){var[search,setSearch]=(0,import_react16.useState)("");return jsxs(PageWrapper,{children:[jsx(SearchInput,{size:"md",onChange:v2=>setSearch(v2)}),jsx(FlashList,{data:Object.values(cache.assetModules).flatMap(reg=>Object.values(reg).filter(x2=>typeof x2=="number").map(requireModule)).concat(Object.values(customAssets)).map(index=>{var asset=getAssetByIndex(index);return[index,asset]}).filter(([index,asset])=>asset.name.toLowerCase().includes(search.toLowerCase())||index.toString().includes(search)||asset.type.includes(search)).map(([index,asset])=>({index,asset,moduleId:getAssetModuleIdByIndex(index)})),renderItem:({item})=>jsx(AssetDisplay,{...item}),estimatedItemSize:80})]})}var import_react16,import_react_native16,DisplayableTypes,UndisplayableTypesIconMap,init_AssetBrowser=__esm({"src/plugins/developer-settings/pages/AssetBrowser.tsx"(){"use strict";init_react_jsx_runtime();init_src5();init_common();init_components();init_metro();init_components3();import_react16=__toESM(require_react(),1),import_react_native16=__toESM(require_react_native(),1);init_Wrapper();DisplayableTypes=new Set(["png","jpg","svg","webp"]),UndisplayableTypesIconMap={jsona:"ic_file_text",lottie:"ic_image",webm:"CirclePlayIcon-primary",ttf:"ic_add_text",default:"UnknownGameIcon"}}});function DebugPerformanceTimesSettingsPage(){var previousTimestamp;return jsx(import_react_native17.ScrollView,{children:jsxs(PageWrapper,{children:[jsx(Text,{color:"text-danger",children:"Some delta times may be inaccurate as some steps run concurrently to each other. Only look at delta times when necessary. Steps that are marked in red were skipped/not recorded."}),jsx(TableRowGroup,{children:PerformanceTimesKeys.map(key=>{var timeNumber=timeOf(key);previousTimestamp??=timestampOf(key);var time=timeNumber.toFixed(4),delta=(timestampOf(key)-previousTimestamp).toFixed(4);return Number.isNaN(timeNumber)||(previousTimestamp=timestampOf(key)),jsx(TableRow,{variant:Number.isNaN(timeNumber)?"danger":"default",label:key,subLabel:`${time}ms (\u0394: ${delta}ms)`})})})]})})}var import_react_native17,PerformanceTimesKeys,init_DebugPerformanceTimes=__esm({"src/plugins/developer-settings/pages/DebugPerformanceTimes.tsx"(){"use strict";init_react_jsx_runtime();init_src();init_components();import_react_native17=__toESM(require_react_native(),1);init_Wrapper();PerformanceTimesKeys=Object.keys(PerformanceTimes).sort((a,b5)=>timeOf(a)-timeOf(b5))}});function disconnectFromDebugger(){DebuggerContext.ws.close(),DebuggerContext.connected=!1}function connectToDebugger(addr,revenge2){var ws=DebuggerContext.ws=new WebSocket(`ws://${addr}`);ws.addEventListener("open",()=>{DebuggerContext.connected=!0,DebuggerEvents.emit("connect"),DebuggerEvents.emit("*","connect")}),ws.addEventListener("close",()=>{DebuggerContext.connected=!1,DebuggerEvents.emit("disconnect"),DebuggerEvents.emit("*","disconnect")}),ws.addEventListener("error",e=>{DebuggerContext.connected=!1,DebuggerEvents.emit("error",e),DebuggerEvents.emit("*","error",e)}),ws.addEventListener("message",e=>{try{var json=JSON.parse(e.data);if(typeof json.code=="string"&&typeof json.nonce=="string"){var res;try{res=globalThis.eval(json.code)}catch(e2){res=e2}var inspect=revenge2.modules.findProp("inspect");try{ws.send(res instanceof Error?JSON.stringify({level:"error",message:String(res),nonce:json.nonce}):JSON.stringify({level:"info",message:inspect(res,{showHidden:!0}),nonce:json.nonce}))}catch(e2){ws.send(JSON.stringify({level:"error",message:`DebuggerError: ${String(e2)}`,nonce:json.nonce}))}}}catch{}})}var DebuggerEvents,DebuggerContext,init_debugger=__esm({"src/plugins/developer-settings/debugger.ts"(){"use strict";init_events();DebuggerEvents=new EventEmitter,DebuggerContext={ws:void 0,connected:!1}}});function disconnectFromDevTools(){DevToolsContext.ws.close(),DevToolsContext.connected=!1}function connectToDevTools(addr){var ws=DevToolsContext.ws=new WebSocket(`ws://${addr}`);ws.addEventListener("open",()=>{DevToolsContext.connected=!0,DevToolsEvents.emit("connect"),DevToolsEvents.emit("*","connect")}),ws.addEventListener("close",()=>{DevToolsContext.connected=!1,DevToolsEvents.emit("disconnect"),DevToolsEvents.emit("*","disconnect")}),ws.addEventListener("error",e=>{DevToolsContext.connected=!1,DevToolsEvents.emit("error",e),DevToolsEvents.emit("*","error",e)}),__reactDevTools.exports.connectToDevTools({websocket:ws})}var DevToolsEvents,DevToolsContext,init_devtools=__esm({"src/plugins/developer-settings/devtools.ts"(){"use strict";init_events();DevToolsEvents=new EventEmitter,DevToolsContext={ws:void 0,connected:!1,error:void 0}}});function DeveloperSettingsPage(){var context=(0,import_react17.useContext)(PluginContext2),{storage,revenge:{assets,modules:modules3}}=context;useObservable([storage]);var navigation=NavigationNative.useNavigation(),refDevToolsAddr=(0,import_react17.useRef)(storage.reactDevTools.address||"localhost:8097"),[rdtConnected,setRdtConnected]=(0,import_react17.useState)(DevToolsContext.connected),refDebuggerAddr=(0,import_react17.useRef)(storage.debugger.address||"localhost:9090"),[dbgConnected,setDbgConnected]=(0,import_react17.useState)(DebuggerContext.connected);return(0,import_react17.useEffect)(()=>{var listener=evt=>{setRdtConnected(evt==="connect")};return DevToolsEvents.on("*",listener),()=>void DevToolsEvents.off("*",listener)},[]),(0,import_react17.useEffect)(()=>{var listener=evt=>{setDbgConnected(evt==="connect")};return DebuggerEvents.on("*",listener),()=>void DebuggerEvents.off("*",listener)},[]),jsx(import_react_native18.ScrollView,{children:jsxs(PageWrapper,{children:[typeof __reactDevTools<"u"&&jsxs(Stack,{spacing:8,direction:"vertical",children:[jsx(TextInput,{editable:!rdtConnected,isDisabled:rdtConnected,leadingText:"ws://",defaultValue:refDevToolsAddr.current,label:"React DevTools",onChange:text=>refDevToolsAddr.current=text,onBlur:()=>{refDevToolsAddr.current!==storage.reactDevTools.address&&(storage.reactDevTools.address=refDevToolsAddr.current,toasts.open({key:"revenge.plugins.developer-settings.react-devtools.saved",content:"Saved DevTools address!"}))},returnKeyType:"done"}),jsxs(TableRowGroup,{children:[rdtConnected?jsx(TableRow,{label:"Disconnect from React DevTools",variant:"danger",icon:jsx(TableRowIcon,{variant:"danger",source:assets.getIndexByName("Revenge.ReactIcon")}),onPress:()=>disconnectFromDevTools()}):jsx(TableRow,{label:"Connect to React DevTools",icon:jsx(TableRowIcon,{source:assets.getIndexByName("Revenge.ReactIcon")}),onPress:()=>connectToDevTools(refDevToolsAddr.current)}),jsx(TableSwitchRow,{label:"Auto Connect on Startup",subLabel:"Automatically connect to React DevTools when the app starts.",icon:jsx(TableRowIcon,{source:assets.getIndexByName("Revenge.ReactIcon")}),value:storage.reactDevTools.autoConnect,onValueChange:v2=>storage.reactDevTools.autoConnect=v2})]},String(rdtConnected))]}),jsxs(Stack,{spacing:8,direction:"vertical",children:[jsx(TextInput,{editable:!dbgConnected,isDisabled:dbgConnected,leadingText:"ws://",defaultValue:refDebuggerAddr.current,label:"Debugger",onChange:text=>refDebuggerAddr.current=text,onBlur:()=>{refDebuggerAddr.current!==storage.debugger.address&&(storage.debugger.address=refDebuggerAddr.current,toasts.open({key:"revenge.plugins.developer-settings.debugger.saved",content:"Saved debugger address!"}))},returnKeyType:"done"}),jsxs(TableRowGroup,{children:[dbgConnected?jsx(TableRow,{label:"Disconnect from debugger",variant:"danger",icon:jsx(TableRowIcon,{variant:"danger",source:assets.getIndexByName("LinkIcon")}),onPress:()=>disconnectFromDebugger()}):jsx(TableRow,{label:"Connect to debugger",icon:jsx(TableRowIcon,{source:assets.getIndexByName("LinkIcon")}),onPress:()=>connectToDebugger(storage.debugger.address,context.revenge)}),jsx(TableSwitchRow,{label:"Auto Connect on Startup",subLabel:"Automatically connect to debugger when the app starts.",icon:jsx(TableRowIcon,{source:assets.getIndexByName("LinkIcon")}),value:storage.debugger.autoConnect,onValueChange:v2=>storage.debugger.autoConnect=v2})]},String(dbgConnected))]}),jsxs(TableRowGroup,{title:"Tools",children:[jsx(TableRow,{label:"Evaluate JavaScript",icon:jsx(TableRowIcon,{source:assets.getIndexByName("PaperIcon")}),onPress:()=>{alerts.openAlert("revenge.plugins.developer-settings.evaluate",jsx(PluginContext2.Provider,{value:context,children:jsx(DeveloperSettingsPageEvaluateJavaScriptAlert,{})}))}}),jsx(TableRow,{label:"Asset Browser",icon:jsx(TableRowIcon,{source:assets.getIndexByName("ImageIcon")}),arrow:!0,onPress:()=>navigation.navigate("RevengeAssetBrowser")}),jsx(TableRow,{variant:"danger",label:"Clear Settings",subLabel:"This will remove the settings file and reload the app.",icon:jsx(TableRowIcon,{variant:"danger",source:assets.getIndexByName("TrashIcon")}),onPress:_async_to_generator(function*(){yield settings[storageContextSymbol].file.delete(),BundleUpdaterManager.reload()})}),jsx(TableRow,{variant:"danger",label:"Clear Plugins Data",subLabel:"This will remove the all plugin-related data and reload the app.",icon:jsx(TableRowIcon,{variant:"danger",source:assets.getIndexByName("TrashIcon")}),onPress:_async_to_generator(function*(){yield FileModule.clearFolder("documents",PluginsDirectoryPath),BundleUpdaterManager.reload()})})]}),jsxs(TableRowGroup,{title:"Tests",children:[jsx(TableRow,{label:"Test CustomPageRenderer",icon:jsx(TableRowIcon,{source:assets.getIndexByName("ScreenArrowIcon")}),arrow:!0,onPress:()=>navigation.navigate("RevengeCustomPage",{title:"Custom Page Test",render:()=>null})}),jsx(TableRow,{variant:"danger",label:"Test ErrorBoundary",icon:jsx(TableRowIcon,{variant:"danger",source:assets.getIndexByName("ScreenXIcon")}),arrow:!0,onPress:()=>navigation.navigate("RevengeCustomPage",{title:"ErrorBoundary Test",render:()=>jsx("undefined",{})})})]}),jsx(TableRowGroup,{title:"Performance",children:jsx(TableRow,{label:"Show Debug Performance Times",icon:jsx(TableRowIcon,{source:assets.getIndexByName("TimerIcon")}),onPress:()=>navigation.navigate("RevengeDebugPerformanceTimes")})}),jsx(TableRowGroup,{title:"Caches",children:jsx(TableRow,{variant:"danger",label:"Recreate Metro Cache",subLabel:"Module blacklists, lookup flags, asset index maps, asset module ID maps. This will reload the app.",icon:jsx(TableRowIcon,{variant:"danger",source:assets.getIndexByName("TrashIcon")}),onPress:()=>{modules3.metro.invalidateCache(),BundleUpdaterManager.reload()}})})]})})}function DeveloperSettingsPageEvaluateJavaScriptAlert(){var{revenge:{modules:modules3}}=(0,import_react17.useContext)(PluginContext2),[evalAwaitResult,setEvalAwaitResult]=(0,import_react17.useState)(!0),codeRef=(0,import_react17.useRef)("");return jsx(AlertModal,{title:"Evaluate JavaScript",extraContent:jsxs(Stack,{children:[jsx(TextArea,{autoFocus:!0,label:"Code",size:"md",placeholder:"ReactNative.NativeModules.BundleUpdaterManager.reload()",onChange:v2=>codeRef.current=v2}),jsx(TableRowGroup,{children:jsx(TableSwitchRow,{label:"Await result",value:evalAwaitResult,onValueChange:v2=>setEvalAwaitResult(v2)})})]}),actions:jsxs(Stack,{children:[jsx(AlertActionButton,{text:"Evaluate",variant:"primary",onPress:_async_to_generator(function*(){var res=globalThis.eval(codeRef.current);alert(modules3.findProp("inspect")(res instanceof Promise&&evalAwaitResult?yield res:res,{depth:5}))})}),jsx(AlertActionButton,{text:"Cancel",variant:"secondary"})]})})}var import_react17,import_react_native18,init_Developer=__esm({"src/plugins/developer-settings/pages/Developer.tsx"(){"use strict";init_async_to_generator();init_react_jsx_runtime();init_common();init_components();init_native();init_src6();init_Wrapper();init_debugger();init_devtools();init_src7();init_paths();import_react17=__toESM(require_react(),1),import_react_native18=__toESM(require_react_native(),1);init_developer_settings()}});function setupDebugger({patcher:patcher6,cleanup}){var debuggerCleanups=new Set;patcher6.before(globalThis,"nativeLoggingHook",([message2,level])=>{DebuggerContext.ws?.readyState===WebSocket.OPEN&&DebuggerContext.ws.send(JSON.stringify({level:level===3?"error":level===2?"warn":"info",message:message2}))},"loggerPatch"),globalThis.reload=()=>BundleUpdaterManager.reload(),globalThis.patcher={snipe:(object2,key,callback)=>debuggerCleanups.add(patcher6.after(object2,key,callback??((args,ret)=>console.log("[SNIPER]",args,ret)),"revenge.plugins.developer-settings.debugger.patcher.snipe")),noop:(object2,key)=>debuggerCleanups.add(patcher6.instead(object2,key,()=>{},"revenge.plugins.developer-settings.debugger.patcher.noop")),wipe:()=>{for(var c2 of debuggerCleanups)c2();debuggerCleanups.clear()}},cleanup(()=>{delete globalThis.reload,delete globalThis.patcher},()=>{for(var c2 of debuggerCleanups)c2()})}var plugin2,PluginContext2,init_developer_settings=__esm({"src/plugins/developer-settings/index.tsx"(){"use strict";init_async_to_generator();init_react_jsx_runtime();init_common();init_internals();init_functions();init_AssetBrowser();init_DebugPerformanceTimes();init_Developer();init_debugger();init_devtools();init_native();plugin2=registerPlugin({name:"Developer Settings",author:"Revenge",description:"Developer settings for Revenge",id:"revenge.developer-settings",version:"1.0.0",icon:"WrenchIcon"},{afterAppRender(context){return _async_to_generator(function*(){var{cleanup,storage,revenge:{assets,ui:{settings:sui}}}=context;function wrapPluginContext(Component){return()=>jsx(PluginContext2.Provider,{value:context,children:jsx(Component,{})})}DevToolsEvents.on("error",err3=>toasts.open({key:"revenge.plugins.settings.react-devtools.error",content:`Error while connecting to React DevTools:
${err3.message}`})),DevToolsEvents.on("connect",()=>toasts.open({key:"revenge.plugins.settings.react-devtools.connected",content:"Connected to React DevTools"})),storage.reactDevTools.autoConnect&&globalThis.__reactDevTools&&connectToDevTools(storage.reactDevTools.address),storage.debugger.autoConnect&&connectToDebugger(storage.debugger.address,context.revenge),setupDebugger(context),yield sleep(0),cleanup(sui.addRowsToSection("Revenge",{RevengeDeveloper:{type:"route",label:"Developer",icon:assets.getIndexByName("WrenchIcon"),component:wrapPluginContext(DeveloperSettingsPage)}}),sui.createRoute("RevengeDebugPerformanceTimes",{type:"route",label:"Debug Performance Times",component:DebugPerformanceTimesSettingsPage,icon:assets.getIndexByName("TimerIcon")}),sui.createRoute("RevengeAssetBrowser",{type:"route",label:"Asset Browser",component:AssetBrowserSettingsPage,icon:assets.getIndexByName("ImageIcon")}))})()},initializeStorage:()=>({reactDevTools:{address:"localhost:8097",autoConnect:!1},debugger:{address:"localhost:9090",autoConnect:!1}})},{external:!1,manageable:!0,enabled:!1});PluginContext2=React.createContext(null)}});var MinimumSupportedBuildNumber,init_warnings=__esm({"src/plugins/warnings/index.tsx"(){"use strict";init_react_jsx_runtime();init_common();init_components();init_native();init_internals();MinimumSupportedBuildNumber=import_react_native.default.Platform.select({android:26e4,ios:69233});registerPlugin({name:"Warnings",author:"Revenge",description:"Startup warnings for users that are not using the recommended defaults for Revenge",id:"revenge.warnings",version:"1.0.0",icon:"WarningIcon"},{afterAppRender({revenge:{assets,modules:modules3},storage}){var{alerts:alerts2,toasts:toasts2}=modules3.common;!(Number(ClientInfoModule.Build)>MinimumSupportedBuildNumber)&&(storage.supportWarningDismissedAt??Date.now())+6048e5>Date.now()&&alerts2.openAlert("revenge.plugins.warnings.support-warning",jsx(AlertModal,{title:"Support Warning",content:`Revenge does not officially support this build of Discord. Please update to a newer version as some features may not work as expected.

Supported Builds: 260.0 (${MinimumSupportedBuildNumber}) and above
Your Build: ${ClientInfoModule.Version} (${ClientInfoModule.Build})`,actions:jsx(AlertActionButton,{text:"Remind me in 7 days",onPress:()=>{storage.supportWarningDismissedAt=Date.now(),toasts2.open({key:"revenge.plugins.warnings.support-warning.dismissed",content:"You will see this warning again in 7 days",icon:assets.getIndexByName("ic_warning_24px")})}})}))}},{external:!1,manageable:!1})}});var import_react_native19,init_notrack=__esm({"src/plugins/vengeance/notrack/index.tsx"(){"use strict";init_react_jsx_runtime();init_src5();init_components();init_internals();init_src6();import_react_native19=__toESM(require_react_native(),1);init_Wrapper();registerPlugin({name:"NoTrack",author:"Vengeance",description:"Prevents Discord from tracking your every move by disabling sentry functions",id:"vengeance.notrack",version:"1.0.0",icon:"EyeIcon"},{beforeAppRender({revenge:{modules:modules3},patcher:patcher6,storage}){var http=modules3.findByProps("HTTP","post");patcher6.instead(http.HTTP,"post",(args,original)=>{var{url}=args?.[0]??{};return url?.startsWith("/science")&&storage.blockScience?(storage.countRequests&&storage.blockedRequests++,Promise.resolve()):original.apply(this,args)},"http.post")},initializeStorage(){return{blockedRequests:0,blockScience:!0,countRequests:!0}},SettingsComponent({storage}){return useObservable([storage]),jsx(import_react_native19.ScrollView,{children:jsxs(PageWrapper,{children:[jsx(Card,{children:jsxs(Text,{variant:"text-md/medium",children:["NoTrack has successfully blocked"," ",jsxs(Text,{variant:"text-md/bold",children:[storage.blockedRequests," tracking request",storage.blockedRequests!==1?"s":""]})," ","so far"]})}),jsxs(TableRowGroup,{title:"Settings",children:[jsx(TableSwitchRow,{label:"Block /science",subLabel:`Blocks requests to Discord's "science" analytics API endpoint`,icon:jsx(TableRowIcon,{source:getAssetIndexByName("BeakerIcon")}),value:storage.blockScience,onValueChange:v2=>storage.blockScience=v2}),jsx(TableSwitchRow,{label:"Save count",subLabel:"Count the number of blocked requests",icon:jsx(TableRowIcon,{source:getAssetIndexByName("ClockIcon")}),value:storage.countRequests,onValueChange:v2=>storage.countRequests=v2})]})]})})}},{external:!1,manageable:!0,enabled:!0})}});var init_silenttyping=__esm({"src/plugins/vengeance/silenttyping/index.ts"(){"use strict";init_internals();registerPlugin({name:"Silent Typing",author:"Purple_\u039Eye\u2122",description:"Others won't see you typing.",id:"vengeance.silenttyping",version:"1.0.2",icon:"EyeSlashIcon"},{afterAppRender({patcher:patcher6,revenge:revenge2}){var Typing=revenge2.modules.findByProps("startTyping","stopTyping");Typing&&["startTyping","stopTyping"].forEach(method=>patcher6.instead(Typing,method,()=>{}))}},{external:!1,manageable:!0,enabled:!0})}});var import_react_native20,autoConfirmKeys,getTranslations,init_quickdelete=__esm({"src/plugins/vengeance/quickdelete/index.tsx"(){"use strict";init_react_jsx_runtime();init_internals();init_common();init_src5();init_components();import_react_native20=__toESM(require_react_native(),1);init_src6();init_Wrapper();autoConfirmKeys={embed:"vXZ+Fh",message:"AMvpS0"},getTranslations=(keys,locale)=>Object.fromEntries(Object.entries(keys).map(([type,key])=>[type,intl?.t?.[key]?.(locale)?.reserialize?.()?.trim()]));registerPlugin({name:"Quick Delete",author:"Purple_\u039Eye\u2122",description:"Automatically confirm message or embed deletion.",id:"vengeance.quickdelete",version:"1.3.1",icon:"TrashIcon"},{afterAppRender({revenge:{modules:modules3},patcher:patcher6,cleanup,storage}){var Popup=modules3.findByProps("show","openLazy");if(!Popup)return console.error("[QuickDelete] Popup module not found");var locale=intl?.intl?.currentLocale;if(!locale){console.error("[QuickDelete] Locale not found. Plugin initialization aborted.");return}var translations=getTranslations(autoConfirmKeys,locale);cleanup(patcher6.instead(Popup,"show",([popup],original)=>{var titleOrBody=[popup?.children?.props?.title?.trim(),popup?.body?.trim()],isDeletion=type=>storage[`autoConfirm${type.charAt(0).toUpperCase()+type.slice(1)}`]&&titleOrBody.includes(translations[type]);if(isDeletion("message")||isDeletion("embed"))popup.onConfirm?.();else return original.call(Popup,popup)}))},initializeStorage(){return{autoConfirmMessage:!0,autoConfirmEmbed:!0}},SettingsComponent({storage}){useObservable([storage]);var settings2=[{label:"Auto-confirm message deletion",subLabel:"Automatically confirms deletion popups for messages",icon:"ForumIcon",value:"autoConfirmMessage"},{label:"Auto-confirm embed deletion",subLabel:"Automatically confirms deletion popups for embeds",icon:"EmbedIcon",value:"autoConfirmEmbed"}];return jsx(import_react_native20.ScrollView,{children:jsxs(PageWrapper,{children:[jsx(Card,{children:jsx(Text,{variant:"text-md/medium",children:"Quick Delete allows you to automatically confirm message or embed deletions."})}),jsx(TableRowGroup,{title:"Settings",children:settings2.map(({label,subLabel,icon,value})=>jsx(TableSwitchRow,{label,subLabel,icon:jsx(TableRowIcon,{source:getAssetIndexByName(icon)}),value:storage[value],onValueChange:v2=>storage[value]=v2},value))})]})})}},{external:!1,manageable:!0,enabled:!0})}});function patchAppIcons({revenge:{modules:modules3},storage,patcher:patcher6,cleanup}){var icons=modules3.findByProps("getIcons","getOfficialAlternateIcons"),iconsIds=modules3.findByProps("FreemiumAppIconIds","MasterAppIconIds"),upsellObj=modules3.findByProps("useIsPremiumAppIconUpsellEnabled"),upsellComponent=modules3.findByName("PremiumAppIconFeatureUpsell",!1),patched2=!0;cleanup(()=>patched2=!1);var _Freemiums=iconsIds.FreemiumAppIconIds;Object.defineProperty(iconsIds,"FreemiumAppIconIds",{get(){return patched2&&storage.extra.appIcons?iconsIds.MasterAppIconIds:_Freemiums}}),patcher6.after(icons,"getIcons",(_3,ret)=>storage.extra.appIcons?ret.map(x2=>({...x2,isPremium:!1})):ret,"appicons.getIcons"),patcher6.after(icons,"getOfficialAlternateIcons",(_3,ret)=>storage.extra.appIcons?ret.map(x2=>({...x2,isPremium:!1})):ret,"appicons.getOfficialAlternateIcons"),patcher6.after(icons,"getIconById",(_3,ret)=>storage.extra.appIcons?{...ret,isPremium:!1}:ret,"appicons.getIconById"),patcher6.instead(upsellObj,"useIsPremiumAppIconUpsellEnabled",()=>storage.extra.appIcons,"appicons.upsellObj"),patcher6.instead(upsellComponent,"default",function(args,original){return storage.extra.appIcons?null:original.apply(this,args)},"appicons.upsellComponent")}var init_appIcons=__esm({"src/plugins/vengeance/freenitro/patches/extra/appIcons.ts"(){"use strict"}});function patchNitroThemes({revenge:{modules:modules3},patcher:patcher6,storage}){var getPremiumSubscription=modules3.findProp("getPremiumSubscription");patcher6.before(FluxDispatcher,"dispatch",args=>{var[event]=args;if(event.type==="SELECTIVELY_SYNCED_USER_SETTINGS_UPDATE"&&event.changes.appearance?.settings.clientThemeSettings?.backgroundGradientPresetId&&(getPremiumSubscription()||storage.bypassNitroCheck))return event.changes.appearance.shouldSync=!1,args},"nitrothemes.shouldSync")}var init_nitroThemes=__esm({"src/plugins/vengeance/freenitro/patches/extra/nitroThemes.ts"(){"use strict";init_common()}});function patchFakeify({revenge:{modules:modules3},patcher:patcher6,storage},emojiPickerOpen){var messagesModule=modules3.findByProps("sendMessage","editMessage"),EmojiPickerList=modules3.findByTypeName("EmojiPickerList"),ChatInputSendButton=modules3.findByTypeName("ChatInputSendButton"),PermissionsBits=modules3.findProp("Permissions"),getChannel=modules3.findProp("getChannel"),getSelfMember=modules3.findProp("getSelfMember"),can=modules3.findProp("can"),getChannelId=modules3.findProp("getChannelId"),getStickerById=modules3.findProp("getStickerById"),getPremiumSubscription=modules3.findProp("getPremiumSubscription");function hasPermission(channelId,permission){var channel=getChannel(channelId);return!channel||channel.isPrivate()?!0:can(permission,channel)}var hasExternalEmojiPerms=channelId=>hasPermission(channelId,PermissionsBits.USE_EXTERNAL_EMOJIS),hasExternalStickerPerms=channelId=>hasPermission(channelId,PermissionsBits.USE_EXTERNAL_STICKERS),hasEmbedLinksPerms=channelId=>hasPermission(channelId,PermissionsBits.EMBED_LINKS),guildId=()=>getChannel(getChannelId())?.guild_id;function canUseEmote(e,channelId){if(getPremiumSubscription()&&storage.bypassNitroCheck)return!1;if(e.type===0)return!0;if(!e.available)return!1;var twitchSubEmote=!1;if(e.managed&&e.guildId){var myRoles=getSelfMember(e.guildId)?.roles??[];twitchSubEmote=e.roles?.some(r=>myRoles.includes(r))||!1}var hasNitro=getPremiumSubscription()&&!storage.bypassNitroCheck;return hasNitro||twitchSubEmote?e.guildId===guildId()||hasExternalEmojiPerms(channelId):!e.animated&&e.guildId===guildId()}patcher6.instead(messagesModule,"sendStickers",function(){var _ref=_async_to_generator(function*(args,original){if(!storage.stickers.enabled)return original.apply(this,args);var[channelId,stickerIds,extra,something]=args,stickers=stickerIds.map(id=>{var sticker=getStickerById(id),canUseStickers=getPremiumSubscription()&&!storage.bypassNitroCheck&&hasExternalStickerPerms(channelId);if(!(!sticker||"pack_id"in sticker||sticker.available&&(canUseStickers||sticker.guild_id===guildId()))){var link=`https://media.discordapp.net/stickers/${id}.${sticker.format_type===4?"gif":"png"}?size=${storage.stickers.size}&name=${encodeURIComponent(sticker.name)}`;return storage.hyperlinks?`[${sticker.name}](${link})`:link}});return stickers[0]?!hasEmbedLinksPerms(channelId)&&!storage.ignoreEmbeds&&!(yield showNoEmbedPermsAlert(()=>storage.ignoreEmbeds=!0))?yield Promise.reject():yield messagesModule.sendMessage(channelId,{content:stickers.join(" ")},extra,something):yield original.apply(this,args)});return function(args,original){return _ref.apply(this,arguments)}}(),"fakeify.sendStickers"),patcher6.instead(EmojiPickerList,"type",function(args,original){var[props]=args;if(!storage.emoji.enabled||!props?.categories||!props.channel)return original.apply(this,args);for(var category of props.categories)category.isNitroLocked=!1,category.emojisDisabled?.clear();return(0,import_react18.useEffect)(()=>(emojiPickerOpen.current.add("picker"),()=>void emojiPickerOpen.current.delete("picker")),[]),original.apply(this,args)},"fakeify.EmojiPickerList"),patcher6.before(ChatInputSendButton,"type",([{messageHasContent}])=>void(messageHasContent?emojiPickerOpen.current.add("chat"):emojiPickerOpen.current.delete("chat")),"fakeify.ChatInputSendButton"),patcher6.instead(messagesModule,"sendMessage",function(){var _ref=_async_to_generator(function*(args,original){if(!storage.emoji.enabled)return yield original.apply(this,args);var[channelId,data]=args,didBypass=!1,i=-1,didIs=new Set;for(var emoji of data.validNonShortcutEmojis??[])if(i++,!canUseEmote(emoji,channelId)){didBypass=!0;var emojiString=`<${emoji.animated?"a":""}:${emoji.name}:${emoji.id}>`,link=`https://cdn.discordapp.com/emojis/${emoji.id}.${emoji.animated?"gif":"webp"}?size=${storage.emoji.size}&name=${encodeURIComponent(emoji.name)}`,text=storage.hyperlinks?`[${emoji.name}](${link})`:link;data.content=data.content.replace(emojiString,text),didIs.add(i)}return data.validNonShortcutEmojis&&(data.validNonShortcutEmojis=data.validNonShortcutEmojis.filter((_3,i2)=>!didIs.has(i2))),didBypass&&!hasEmbedLinksPerms(channelId)&&!storage.ignoreEmbeds&&!(yield showNoEmbedPermsAlert(()=>storage.ignoreEmbeds=!0))?yield Promise.reject():yield original.apply(this,args)});return function(args,original){return _ref.apply(this,arguments)}}(),"fakeify.sendMessage"),patcher6.instead(messagesModule,"editMessage",function(){var _ref=_async_to_generator(function*(args,original){if(!storage.emoji.enabled)return yield original.apply(this,args);var[channelId,_3,data]=args,didBypass=!1,i=-1,didIs=new Set;for(var emoji of data.validNonShortcutEmojis??[])if(i++,!canUseEmote(emoji,channelId)){didBypass=!0;var emojiString=`<${emoji.animated?"a":""}:${emoji.name}:${emoji.id}>`,link=`https://cdn.discordapp.com/emojis/${emoji.id}.${emoji.animated?"gif":"webp"}?size=${storage.emoji.size}`,text=storage.hyperlinks?`[${emoji.name}](${link})`:`${link}&name=${encodeURIComponent(emoji.name)}`;data.content=data.content.replace(emojiString,text),didIs.add(i)}return data.validNonShortcutEmojis&&(data.validNonShortcutEmojis=data.validNonShortcutEmojis.filter((_4,i2)=>!didIs.has(i2))),didBypass&&!hasEmbedLinksPerms(channelId)&&!storage.ignoreEmbeds&&!(yield showNoEmbedPermsAlert(()=>storage.ignoreEmbeds=!0))?yield Promise.reject():yield original.apply(this,args)});return function(args,original){return _ref.apply(this,arguments)}}(),"fakeify.editMessage")}function NoEmbedPermsAlertModal({outcome,disable}){(0,import_react18.useEffect)(()=>()=>outcome(!1),[]);var[meow,setMeow]=React.useState(!1);return FormSwitch2,jsx(AlertModal,{title:"Hold on!",content:"You are trying to send/edit a message that has a fake emoji or sticker, however you do not have permissions to embed links in the current channel. Are you sure you want to send this message? Your fake items will appear as a link only.",extraContent:jsx(FormCheckboxRow,{label:"Do not show again",selected:meow,onPress:()=>setMeow(!meow)}),actions:jsxs(Fragment,{children:[jsx(AlertActionButton,{variant:"primary",text:"Send anyway",onPress:()=>{meow&&disable(),outcome(!0)}}),jsx(AlertActionButton,{variant:"secondary",text:"Cancel",onPress:()=>outcome(!1)})]})})}function showNoEmbedPermsAlert(disable){return new Promise(res=>openAlert("vengeance.plugins.freenitro.fakeify.no-embed-perms",jsx(NoEmbedPermsAlertModal,{outcome:res,disable})))}var import_react18,FormCheckboxRow,init_fakeify=__esm({"src/plugins/vengeance/freenitro/patches/fakeify.tsx"(){"use strict";init_async_to_generator();init_react_jsx_runtime();init_common();init_components();init_finders();init_components3();import_react18=__toESM(require_react(),1),FormCheckboxRow=findProp("FormCheckboxRow")}});function patchRealify({revenge:{modules:modules3},storage,patcher:patcher6}){var StickerDetailActionSheet=modules3.findByTypeName("StickerDetailActionSheet"),getCustomEmojiById=modules3.findProp("getCustomEmojiById"),getStickerById=modules3.findProp("getStickerById"),{prototype:RowManager}=modules3.findByName("RowManager");function findFakeEmoji(src,loadCache){if(!storage.emoji.realify||!storage.emoji.enabled||!cdnLinks.some(x2=>src.includes(x2)))return null;var fakeEmojiMatch=src.match(emojiUrlRegex);if(fakeEmojiMatch){var temp=loadCache(fakeEmojiMatch[1]);if(temp)return temp;var url=null;try{url=new URL(src)}catch{}var name=getCustomEmojiById(fakeEmojiMatch[1])?.name??url?.searchParams.get("name")??"FakeEmoji";return{name,id:fakeEmojiMatch[1],animated:fakeEmojiMatch[2]==="gif",src}}return null}function findFakeSticker(src,loadCache){if(!storage.stickers.realify||!storage.stickers.enabled||!cdnLinks.some(x2=>src.includes(x2)))return null;var fakeStickerMatch=src.match(stickerUrlRegex);if(fakeStickerMatch){var temp=loadCache(fakeStickerMatch[1]);if(temp)return temp;var url=null;try{url=new URL(src)}catch{}var sticker=getStickerById(fakeStickerMatch[1]),name=sticker?.name??url?.searchParams.get("name")??"FakeSticker",width=Number(sticker?.width??url?.searchParams.get("size")??storage.stickers.size),height=Number(sticker?.height??url?.searchParams.get("size")??storage.stickers.size),formatType=fakeStickerMatch[2]==="gif"?4:sticker?.format_type??1;return{format_type:formatType,name,id:fakeStickerMatch[1],src,width,height}}return null}patcher6.after(RowManager,"generate",(_3,row)=>{if(!(row.type!==1||!row.message)){var{message:message2}=row,membeds=message2.embeds??[],removeEmbeds=new Set,emojis=new Map,stickers=new Map;for(var i in membeds){var embed=membeds[i];if(!(embed.type!=="image"||!embed.url)){var fakeEmoji=findFakeEmoji(embed.url,id2=>emojis.get(id2));fakeEmoji&&(removeEmbeds.add(Number(i)),emojis.set(fakeEmoji.id,fakeEmoji));var fakeSticker=findFakeSticker(embed.url,id2=>stickers.get(id2));fakeSticker&&(removeEmbeds.add(Number(i)),stickers.set(fakeSticker.id,fakeSticker))}}if(message2.embeds=membeds.filter((_4,i2)=>!removeEmbeds.has(i2)),!message2.content?.length)message2.content=[...emojis.values()].map(({id:id2,name:name2,src:src2,animated})=>({type:"customEmoji",id:id2,alt:name2+isFakerAlt,src:src2,frozenSrc:src2.replace(".gif",".webp"),animated,jumboable:emojis.size<=30}));else{var recursiveCheck2=function(contents){for(var i2 in contents){var cnt=contents[i2];if(cnt)if(Array.isArray(cnt))recursiveCheck2(cnt);else if("type"in cnt&&cnt.type==="link"){if(typeof cnt.target=="string"){var e=findFakeEmoji(cnt.target,id2=>emojis.get(id2));if(e)emojis.set(e.id,e),contents[i2]={type:"customEmoji",id:e.id,alt:e.name+isFakerAlt,src:e.src,frozenSrc:e.src.replace(".gif",".webp"),get jumboable(){return isJumboable},animated:e.animated};else{var s=findFakeSticker(cnt.target,id2=>stickers.get(id2));s&&(stickers.set(s.id,s),contents[i2]={type:"text",content:""})}}}else"content"in cnt&&Array.isArray(cnt.content)?recursiveCheck2(cnt.content):"items"in cnt&&Array.isArray(cnt.items)&&recursiveCheck2(cnt.items)}shouldDebug&&console.log("Rec check ",contents),(contents.find(x2=>x2&&(!("type"in x2)||x2.type==="text"&&x2.content?.length>0||x2.type!=="customEmoji"))||contents.filter(x2=>x2&&"type"in x2&&x2.type==="customEmoji").length>30)&&(isJumboable=!1)},recursiveCheck=recursiveCheck2,isJumboable=!0;(!shouldDebug||DebuggerContext.connected)&&recursiveCheck2(message2.content)}var mattachments=message2.attachments??[],removeAttachments=new Set;for(var i1 in mattachments)if(!(!storage.stickers.realify||!storage.stickers.enabled)){var attachment=mattachments[i1];if(!(attachment.attachmentType!=="image"||!attachment.filename.endsWith(".gif")||!attachment.isAnimated||!attachment.width||!attachment.height)&&attachmentUrlRegex.test(attachment.url)){var id=attachment.filename.slice(0,-4);if(!id||!getStickerById(id))continue;if(stickers.get(id)){removeAttachments.add(Number(i1));continue}var name=getStickerById(id)?.name??attachment.description??"FakeSticker";removeAttachments.add(Number(i1)),stickers.set(id,{format_type:4,name,id,src:attachment.url,width:attachment.width,height:attachment.height})}}if(message2.attachments=mattachments.filter((_4,i2)=>!removeAttachments.has(i2)),stickers.size){message2.stickers??=[];for(var{format_type,name:name1,id:id1,src,width,height}of stickers.values())message2.stickers.push({format_type,id:id1,asset:id1,name:name1+isFakerAlt,url:src,width,height,renderMode:0})}return row}},"realify.RowGenerator"),patcher6.before(import_react_native21.View,"render",args=>{var props=args?.[0],textMain=props?.children?.[0]?.props,textSub=props?.children?.[1]?.props,isEmoji=textMain?.children?.endsWith?.(":");if(textMain?.children?.endsWith?.(isEmoji?`${isFakerAlt}:`:isFakerAlt)&&textMain?.color==="header-primary"&&textMain?.variant===(isEmoji?"text-md/bold":"heading-md/extrabold")&&textSub?.children&&textSub?.variant==="text-sm/medium")return textMain.children=isEmoji?`${textMain.children.slice(0,-(isFakerAlt.length+1))}:`:textMain.children.slice(0,-isFakerAlt.length),textSub.children+=` This is a FreeNitro ${isEmoji?"emoji":"sticker"} and renders like a real ${isEmoji?"emoji":"sticker"} only to you. Appears as a link to non-plugin users.`,args},"realify.View"),patcher6.after(StickerDetailActionSheet,"type",([props],ret)=>{var sticker=ret?.props?.children?.props?.children?.props?.sticker;if(sticker?.name&&props?.renderableSticker?.name)return sticker.name=props.renderableSticker.name,ret},"realify.StickerDetailActionSheet")}var import_react_native21,cdnLinks,emojiUrlRegex,stickerUrlRegex,attachmentUrlRegex,isFakerAlt,shouldDebug,init_realify=__esm({"src/plugins/vengeance/freenitro/patches/realify.tsx"(){"use strict";import_react_native21=__toESM(require_react_native(),1);init_debugger();cdnLinks=["cdn.discordapp.com","media.discordapp.net"],emojiUrlRegex=/\/emojis\/(\d+?)\.(png|webp|gif)/,stickerUrlRegex=/\/stickers\/(\d+?)\.(png|webp|gif)/,attachmentUrlRegex=/\/attachments\/\d+?\/\d+?\/(\d+?)\.gif/,isFakerAlt="\u200B [FreeNitro fake]",shouldDebug=!1}});var import_react_native22,emojiSizeLadder,stickerSizeLadder,useSettingsStyles,plugin3,init_freenitro=__esm({"src/plugins/vengeance/freenitro/index.tsx"(){"use strict";init_react_jsx_runtime();init_src5();init_common();init_components();init_internals();init_src6();init_colors();import_react_native22=__toESM(require_react_native(),1);init_Wrapper();init_appIcons();init_nitroThemes();init_fakeify();init_realify();emojiSizeLadder=[32,48,64,128,160,256,512],stickerSizeLadder=[32,64,128,160,256,512],useSettingsStyles=createStyles({icon:{tintColor:SemanticColor.INTERACTIVE_NORMAL},slider:{backgroundColor:SemanticColor.CARD_PRIMARY_BG,paddingHorizontal:12,paddingVertical:8}}),plugin3=registerPlugin({name:"FreeNitro",author:"Vengeance",description:"Lets you send fake custom/animated emoji and stickers and use profile themes without having nitro.",id:"vengeance.freenitro",version:"1.0.0",icon:"GiftIcon"},{beforeAppRender(context){var _this,_loop=function(key2,predicate2){patcher6.instead(canUseObj,key2,(args,original)=>predicate2()||original.apply(_this,args))},{revenge:{modules:modules3},storage,patcher:patcher6}=context,emojiPickerOpen={current:new Set},canUseObj=modules3.findByProps("canUseCustomStickersEverywhere"),predicates=[{key:"canUseEmojisEverywhere",predicate:()=>!!emojiPickerOpen.current.size},{key:"canUseAnimatedEmojis",predicate:()=>!!emojiPickerOpen.current.size},{key:"canUseCustomStickersEverywhere",predicate:()=>storage.stickers.enabled},{key:"canUseClientThemes",predicate:()=>storage.extra.nitroThemes},{key:"canUseSoundboardEverywhere",predicate:()=>storage.extra.soundboard}];for(var{key,predicate}of predicates)_this=this,_loop(key,predicate);patchFakeify(context,emojiPickerOpen),patchRealify(context),patchAppIcons(context),patchNitroThemes(context)},initializeStorage(){return{bypassNitroCheck:!0,hyperlinks:!0,ignoreEmbeds:!1,emoji:{enabled:!0,size:48,realify:!0},stickers:{enabled:!0,size:160,realify:!0},extra:{nitroThemes:!0,appIcons:!0,soundboard:!0}}},SettingsComponent({storage}){useObservable([storage]);var settingsStyles=useSettingsStyles();return jsx(import_react_native22.ScrollView,{children:jsxs(PageWrapper,{children:[jsxs(TableRowGroup,{title:"Global",children:[jsx(TableSwitchRow,{label:"Bypass Nitro check",subLabel:"Forces the plugin to work even if you have Nitro",icon:jsx(TableRowIcon,{source:getAssetIndexByName("NitroWheelIcon")}),value:storage.bypassNitroCheck,onValueChange:v2=>storage.bypassNitroCheck=v2}),jsx(TableSwitchRow,{label:"Hyperlink",subLabel:"Turns fake emojis and fake stickers into hyperlinks",icon:jsx(TableRowIcon,{source:getAssetIndexByName("LinkIcon")}),value:storage.hyperlinks,onValueChange:v2=>storage.hyperlinks=v2}),jsx(TableSwitchRow,{label:"Ignore no embed permissions alert",icon:jsx(TableRowIcon,{source:getAssetIndexByName("WarningIcon")}),value:storage.ignoreEmbeds,onValueChange:v2=>storage.ignoreEmbeds=v2})]}),jsxs(TableRowGroup,{title:"Emoji",children:[jsx(TableSwitchRow,{label:"Enabled",subLabel:"Allows sending fake emojis",icon:jsx(TableRowIcon,{source:getAssetIndexByName("emoji-neutral")}),value:storage.emoji.enabled,onValueChange:v2=>storage.emoji.enabled=v2}),jsx(TableRow,{label:"Size",subLabel:"Size of the emojis when sending",icon:jsx(TableRowIcon,{source:getAssetIndexByName("ImageIcon")}),trailing:jsx(Text,{variant:"text-md/medium",children:storage.emoji.size})}),jsx(import_react_native22.View,{style:settingsStyles.slider,children:jsx(Slider,{value:emojiSizeLadder.indexOf(storage.emoji.size)+1,step:1,minimumValue:1,maximumValue:emojiSizeLadder.length,onValueChange:v2=>storage.emoji.size=emojiSizeLadder[v2-1]})}),jsx(TableSwitchRow,{label:"Realify",subLabel:"Turn fake emojis into real ones",icon:jsx(TableRowIcon,{source:getAssetIndexByName("PencilSparkleIcon")}),value:storage.emoji.realify,onValueChange:v2=>storage.emoji.realify=v2})]}),jsxs(TableRowGroup,{title:"Stickers",children:[jsx(TableSwitchRow,{label:"Enabled",subLabel:"Allows sending fake stickers",icon:jsx(TableRowIcon,{source:getAssetIndexByName("StickerIcon")}),value:storage.stickers.enabled,onValueChange:v2=>storage.stickers.enabled=v2}),jsx(TableRow,{label:"Size",subLabel:"Size of the stickers when sending",icon:jsx(TableRowIcon,{source:getAssetIndexByName("ImageIcon")}),trailing:jsx(Text,{variant:"text-md/medium",children:storage.stickers.size})}),jsx(import_react_native22.View,{style:settingsStyles.slider,children:jsx(Slider,{value:stickerSizeLadder.indexOf(storage.stickers.size)+1,step:1,minimumValue:1,maximumValue:stickerSizeLadder.length,onValueChange:v2=>storage.stickers.size=stickerSizeLadder[v2-1]})}),jsx(TableSwitchRow,{label:"Realify",subLabel:"Turn fake stickers into real ones",icon:jsx(TableRowIcon,{source:getAssetIndexByName("PencilSparkleIcon")}),value:storage.stickers.realify,onValueChange:v2=>storage.stickers.realify=v2})]}),jsxs(TableRowGroup,{title:"Extras",children:[jsx(TableSwitchRow,{label:"Nitro client themes",icon:jsx(TableRowIcon,{source:getAssetIndexByName("PencilIcon")}),value:storage.extra.nitroThemes,onValueChange:v2=>storage.extra.nitroThemes=v2}),jsx(TableSwitchRow,{label:"Custom app icons",icon:jsx(TableRowIcon,{source:getAssetIndexByName("PencilIcon")}),value:storage.extra.appIcons,onValueChange:v2=>storage.extra.appIcons=v2}),jsx(TableSwitchRow,{label:"Free soundboard sounds",icon:jsx(TableRowIcon,{source:getAssetIndexByName("PencilIcon")}),value:storage.extra.soundboard,onValueChange:v2=>storage.extra.soundboard=v2})]}),jsx(import_react_native22.View,{style:{height:12}})]})})}},{external:!1,manageable:!0,enabled:!1})}});function NewPluginsAlert({plugins}){var styles7=useAlertStyles();return jsx(AlertModal,{title:"New Grub Alert",content:`${plugins.length} new plugin${plugins.length!==1?"s have":" has"} been added to Vengeance!`,extraContent:plugins.map((pluh,i,a)=>jsx(Card,{border:"subtle",style:i!==a.length-1&&{marginBottom:-12},children:jsxs(Stack,{direction:"horizontal",spacing:8,children:[jsx(import_react_native23.Image,{source:(pluh.icon&&getAssetIndexByName(pluh.icon))??getAssetIndexByName("UnknownGameIcon"),style:styles7.icon}),jsxs(Stack,{direction:"vertical",spacing:0,style:{flexShrink:1},children:[jsx(Text,{variant:"heading-lg/semibold",children:pluh.name}),jsxs(Text,{variant:"heading-md/medium",color:"text-muted",style:{marginBottom:4},children:["by ",pluh.author]}),jsx(Text,{variant:"text-md/medium",children:pluh.description})]})]})},pluh.id)),actions:jsx(AlertActionButton,{variant:"secondary",text:"Okay"})})}var import_react_native23,useAlertStyles,init_newplugins=__esm({"src/plugins/vengeance/newplugins/index.tsx"(){"use strict";init_react_jsx_runtime();init_src5();init_common();init_components();init_internals();init_colors();import_react_native23=__toESM(require_react_native(),1);registerPlugin({name:"Plugin Notifier",author:"Vengeance",description:"Notifies you when a new plugin is added to Vengeance",id:"vengeance.pluginnotifier",version:"1.0.0",icon:"PencilSparkleIcon"},{afterAppRender({storage}){var plugs=Object.entries(registeredPlugins).filter(([_3,x2])=>!x2.external&&x2.manageable);storage.checkedPlugins=storage.checkedPlugins.filter(x2=>plugs.find(([key])=>x2===key));var newPlugs=plugs.filter(([key])=>!storage.checkedPlugins.includes(key));newPlugs.length&&(storage.checkedPlugins=plugs.map(([key])=>key),openAlert("vengeance.pluginnotifier.newpluginsalert",jsx(NewPluginsAlert,{plugins:newPlugs.map(([_3,val])=>val)})))},initializeStorage(){return{checkedPlugins:Object.entries(registeredPlugins).filter(([_3,x2])=>!x2.external&&x2.manageable).map(([key])=>key)}}},{external:!1,manageable:!0,enabled:!0});useAlertStyles=createStyles({icon:{tintColor:SemanticColor.TEXT_NORMAL,width:20,height:20,marginTop:3}})}});var ApplicationCommandOptionType,ApplicationCommandInputType,ApplicationCommandType,init_commands=__esm({"libraries/modules/src/common/commands.ts"(){"use strict";ApplicationCommandOptionType=function(ApplicationCommandOptionType2){return ApplicationCommandOptionType2[ApplicationCommandOptionType2.SubCommand=1]="SubCommand",ApplicationCommandOptionType2[ApplicationCommandOptionType2.SubCommandGroup=2]="SubCommandGroup",ApplicationCommandOptionType2[ApplicationCommandOptionType2.String=3]="String",ApplicationCommandOptionType2[ApplicationCommandOptionType2.Integer=4]="Integer",ApplicationCommandOptionType2[ApplicationCommandOptionType2.Boolean=5]="Boolean",ApplicationCommandOptionType2[ApplicationCommandOptionType2.User=6]="User",ApplicationCommandOptionType2[ApplicationCommandOptionType2.Channel=7]="Channel",ApplicationCommandOptionType2[ApplicationCommandOptionType2.Role=8]="Role",ApplicationCommandOptionType2[ApplicationCommandOptionType2.Mentionable=9]="Mentionable",ApplicationCommandOptionType2[ApplicationCommandOptionType2.Number=10]="Number",ApplicationCommandOptionType2[ApplicationCommandOptionType2.Attachment=11]="Attachment",ApplicationCommandOptionType2}({}),ApplicationCommandInputType=function(ApplicationCommandInputType2){return ApplicationCommandInputType2[ApplicationCommandInputType2.BuiltIn=0]="BuiltIn",ApplicationCommandInputType2[ApplicationCommandInputType2.BuiltInText=1]="BuiltInText",ApplicationCommandInputType2[ApplicationCommandInputType2.BuiltInIntegration=2]="BuiltInIntegration",ApplicationCommandInputType2[ApplicationCommandInputType2.Bot=3]="Bot",ApplicationCommandInputType2[ApplicationCommandInputType2.Placeholder=4]="Placeholder",ApplicationCommandInputType2}({}),ApplicationCommandType=function(ApplicationCommandType2){return ApplicationCommandType2[ApplicationCommandType2.ChatInput=1]="ChatInput",ApplicationCommandType2[ApplicationCommandType2.User=2]="User",ApplicationCommandType2[ApplicationCommandType2.Message=3]="Message",ApplicationCommandType2}({})}});var import_react_native24,MinimumSupportedBuildNumber2,getDeviceInfo,getDeviceManufacturer,debug_default,init_debug=__esm({"src/plugins/vengeance/commands/cmds/debug.ts"(){"use strict";init_common();init_finders();init_native();init_lazy();init_commands();import_react_native24=__toESM(require_react_native(),1),MinimumSupportedBuildNumber2=ReactNative.Platform.select({default:254e3,ios:66559}),{getDeviceInfo,getDeviceManufacturer}=lazyValue(()=>findByProps("getDeviceInfo")),debug_default={inputType:ApplicationCommandInputType.BuiltIn,name:"debug",description:"Sends helpful debug information in chat",options:[{name:"ephemeral",description:"Sends the message as ephemeral",type:ApplicationCommandOptionType.Boolean}],execute([ephemeral],ctx){var isOutdated=!(Number(ClientInfoModule.Build)>MinimumSupportedBuildNumber2),runtimeProps=HermesInternal.getRuntimeProperties(),PlatformConstants=import_react_native24.Platform.constants,content=["**Vengeance Debug**",`> **Vengeance:** d4ca2de-dirty (${__PYON_LOADER__.loaderName} v${__PYON_LOADER__.loaderVersion})`,`> **Discord:** ${ClientInfoModule.Version} (${ClientInfoModule.Build})`,`> **React:** ${React.version} (**RN** ${runtimeProps["OSS Release Version"]?.slice(7)})`,`> **Hermes:** ${runtimeProps["OSS Release Version"]} (bytecode ${runtimeProps["Bytecode Version"]})`,`> **OS:** ${PlatformConstants.systemName??"Android"} ${PlatformConstants.Release??PlatformConstants.osVersion}${PlatformConstants.Version?` (SDK ${PlatformConstants.Version})`:""}`,`> **Device:** ${getDeviceInfo()} (by ${getDeviceManufacturer()})`,isOutdated&&"> :warning: Using outdated and unsupported version",ClientInfoModule.ReleaseChannel.includes("canary")&&`> :warning: Using release **${ClientInfoModule.ReleaseChannel}**`].filter(row=>!!row).join(`
`);ephemeral?.value?messages.sendBotMessage(ctx.channel.id,content):messages.sendMessage(ctx.channel.id,{content})}}}});var plugins_default,init_plugins=__esm({"src/plugins/vengeance/commands/cmds/plugins.ts"(){"use strict";init_common();init_commands();init_internals();plugins_default={inputType:ApplicationCommandInputType.BuiltIn,name:"plugins",description:"Sends a formatted list of your enabled plugins",options:[{name:"ephemeral",description:"Sends the message as ephemeral",type:ApplicationCommandOptionType.Boolean}],execute([ephemeral],ctx){var allPlugins=Object.values(registeredPlugins),externalPlugins=allPlugins.filter(plugin4=>plugin4.external&&plugin4.enabled),vengeancePlugins=allPlugins.filter(plugin4=>!plugin4.external&&plugin4.id.startsWith("vengeance.")&&plugin4.manageable&&plugin4.enabled),internalPlugins=allPlugins.filter(plugin4=>!plugin4.external&&!plugin4.id.startsWith("vengeance.")&&plugin4.manageable&&plugin4.enabled),mapPlugin=plugin4=>plugin4.name,content=[externalPlugins.length&&`> **External Plugins** (${externalPlugins.length})`,externalPlugins.map(mapPlugin).join(",  "),vengeancePlugins.length&&`> **Vengeance Plugins** (${vengeancePlugins.length})`,vengeancePlugins.map(mapPlugin).join(",  "),internalPlugins.length&&`> **Internal Plugins** (${internalPlugins.length})`,internalPlugins.map(mapPlugin).join(",  ")].filter(row=>!!row).join(`
`);ephemeral?.value?messages.sendBotMessage(ctx.channel.id,content):messages.sendMessage(ctx.channel.id,{content})}}}});var import_react_native25,MinimumSupportedBuildNumber3,getDeviceInfo2,getDeviceManufacturer2,getCurrentUser,message,prime,colorRange,venfetch_default,init_venfetch=__esm({"src/plugins/vengeance/commands/cmds/venfetch.ts"(){"use strict";init_common();init_finders();init_native();init_lazy();init_commands();init_internals();import_react_native25=__toESM(require_react_native(),1),MinimumSupportedBuildNumber3=ReactNative.Platform.select({default:254e3,ios:66559}),{getDeviceInfo:getDeviceInfo2,getDeviceManufacturer:getDeviceManufacturer2}=lazyValue(()=>findByProps("getDeviceInfo")),getCurrentUser=lazyValue(()=>findProp("getCurrentUser")),message=({baseClr,keyClr,titleClr,username,title,discord,os,device,plugins})=>`
\`\`\`ansi
\x1B[0;3${baseClr}m \u2584\u2580\u2580\u2580\u2580\u2580\u2584\u2584\u2584\u2584\u2584\u2584\u2580\u2580\u2580\u2580\u2580\u2584     \x1B[1;4;3${baseClr}mVengeance@${username}\x1B[0;3${titleClr}m ${title}
\x1B[0;3${baseClr}m\u2588                  \u2588    \x1B[1;3${keyClr}mDiscord\x1B[0m ${discord}
\x1B[0;3${baseClr}m\u2588   \u2584\u2584\u2584\u2584     \u2584\u2584\u2584\u2584   \u2588   \x1B[1;3${keyClr}mOS\x1B[0m ${os}
\x1B[0;3${baseClr}m\u2588   \u2580\u2588\u2588\u2588\u2580   \u2580\u2588\u2588\u2588\u2580   \u2588   \x1B[1;3${keyClr}mDevice\x1B[0m ${device}
\x1B[0;3${baseClr}m \u2588                  \u2588   \x1B[1;3${keyClr}mPlugins\x1B[0m ${plugins}
\x1B[0;3${baseClr}m \u2580\u2584\u2584\u2584\u2584\u2584\u2584\u2584\u2584\u2584        \u2588    \x1B[0m
\x1B[0;3${baseClr}m         \u2588      \u2584\u2584\u2580     \x1B[0m\x1B[0;40;30m\u2588\u2593\u2592\u2592\u2591 \x1B[0m   \x1B[0;41;31m\u2588\u2593\u2592\u2592\u2591 \x1B[0m   \x1B[0;44;32m\u2588\u2593\u2592\u2592\u2591 \x1B[0m   \x1B[0;44;33m\u2588\u2593\u2592\u2592\u2591 \x1B[0m
\x1B[0;3${baseClr}m          \u2580\u2580\u2580\u2580\u2580\u2580\u2580       \x1B[0m\x1B[0;43;34m\u2588\u2593\u2592\u2592\u2591 \x1B[0m   \x1B[0;41;35m\u2588\u2593\u2592\u2592\u2591 \x1B[0m   \x1B[0;44;36m\u2588\u2593\u2592\u2592\u2591 \x1B[0m   \x1B[0;42;37m\u2588\u2593\u2592\u2592\u2591 \x1B[0m
\`\`\`
`,prime=524287,colorRange=8,venfetch_default={inputType:ApplicationCommandInputType.BuiltIn,name:"venfetch",aliases:["neofetch","fastfetch","revfetch"],description:"Sends a neofetch/fastfetch inspired message. Like /debug, but more stylish!",options:[{name:"ephemeral",description:"Sends the message as ephemeral",type:ApplicationCommandOptionType.Boolean},{name:"color",description:"Coolor",type:ApplicationCommandOptionType.Integer}],execute(args,ctx){var ephemeral=args.find(a=>a.name==="ephemeral"),color=args.find(a=>a.name==="color"),PlatformConstants=import_react_native25.Platform.constants,isOutdated=!(Number(ClientInfoModule.Build)>MinimumSupportedBuildNumber3),allPlugins=Object.values(registeredPlugins),externalPlugins=allPlugins.filter(plugin4=>plugin4.external&&plugin4.enabled),vengeancePlugins=allPlugins.filter(plugin4=>!plugin4.external&&plugin4.id.startsWith("vengeance.")&&plugin4.manageable&&plugin4.enabled),internalPlugins=allPlugins.filter(plugin4=>!plugin4.external&&!plugin4.id.startsWith("vengeance.")&&plugin4.manageable&&plugin4.enabled),{username,id}=getCurrentUser()??{username:"johndoe",id:prime.toString()},clrMap=[[0,7],[1,5],[2,3],[4,6]],baseClr=color&&Number.isFinite(Number(color.value))?Math.abs(Number(color.value)%colorRange):Number(BigInt(id)/BigInt(prime)%BigInt(8)),keyClr=clrMap.find(([a,b5])=>a===baseClr||b5===baseClr)?.find(x2=>x2!==baseClr)??0,content=message({baseClr,keyClr,titleClr:baseClr===0?7:0,username,title:`d4ca2de-dirty (${__PYON_LOADER__.loaderName} v${__PYON_LOADER__.loaderVersion})`,discord:`${ClientInfoModule.Version} (${ClientInfoModule.Build}) ${isOutdated?"\u26B0":""}${ClientInfoModule.ReleaseChannel.includes("canary")?"\u{1F329}":""}`,os:`${PlatformConstants.systemName??"Android"} ${PlatformConstants.Release??PlatformConstants.osVersion}${PlatformConstants.Version?` (SDK ${PlatformConstants.Version})`:""}`,device:`${getDeviceInfo2()} (by ${getDeviceManufacturer2()})`,plugins:[externalPlugins.length&&`${externalPlugins.length} (external)`,vengeancePlugins.length&&`${vengeancePlugins.length} (vengeance)`,internalPlugins.length&&`${internalPlugins.length} (internal)`].filter(section=>!!section).join(", ")});ephemeral?.value?messages.sendBotMessage(ctx.channel.id,content):messages.sendMessage(ctx.channel.id,{content})}}}});var cmds,init_commands2=__esm({"src/plugins/vengeance/commands/index.ts"(){"use strict";init_common();init_internals();init_commands();init_debug();init_plugins();init_venfetch();cmds=[debug_default,plugins_default,venfetch_default];registerPlugin({name:"Commands",author:"Vengeance",description:`Adds ${cmds.length} awesome QOL commands to the client (${cmds.map(({name})=>`/${name}`).join(", ")})`,id:"vengeance.commands",version:"1.0.0",icon:"SlashBoxIcon"},{afterAppRender({patcher:patcher6}){patcher6.after(commands,"getBuiltInCommands",(_3,ret)=>{var lastId=Math.min(...ret.map(a=>Number(a.id)))-1,cmdussy=[...cmds];for(var cmd of cmds)for(var alias of cmd.aliases??[])cmdussy.push({...cmd,name:alias});return[...ret,...cmdussy.map(({inputType,name,description,options,execute},i)=>({id:(lastId-i).toString(),untranslatedName:name,displayName:name,type:ApplicationCommandType.ChatInput,inputType,applicationId:"-1",untranslatedDescription:description,displayDescription:description,options:options.map(({name:name2,description:description2,type,required})=>({name:name2,displayName:name2,type,description:description2,displayDescription:description2,required})),execute}))]})}},{external:!1,manageable:!0,enabled:!0})}});var ScreenName,init_messages_tab=__esm({"src/plugins/vengeance/messages-tab/index.tsx"(){"use strict";init_react_jsx_runtime();init_internals();init_lazy();ScreenName="palmdevs.messages-tab.messages";registerPlugin({name:"Messages Tab",author:"Palm",description:"Brings the messages tab back",id:"vengeance.palmdevs.messages-tab",version:"1.0.0",icon:"ic_message"},{beforeAppRender({patcher:patcher6,revenge:{modules:modules3}}){var Messages=modules3.findByFilePath("modules/main_tabs_v2/native/tabs/messages/Messages.tsx",!0),useTabBarTabOptions=modules3.findByName("useTabBarTabOptions"),SelectedGuildStore=revenge.modules.findByProps("getLastSelectedGuildId"),RouterUtils=modules3.findByProps("transitionTo"),NavigationBottomTabs=modules3.findByProps("createBottomTabNavigator"),navigation;patcher6.after(NavigationBottomTabs,"createBottomTabNavigator",(_3,Tab)=>{patcher6.before(Tab,"Navigator",([props])=>{var screens=props.children.props.children,origTabBar=props.tabBar;props.tabBar=tbProps=>(navigation=tbProps.navigation,origTabBar(tbProps));var tabBarTabOptions=useTabBarTabOptions();screens.some(screen=>screen?.props?.name===ScreenName)||screens.splice(1,0,jsx(Tab.Screen,{options:tabBarTabOptions.messages({navigation:lazyValue(()=>navigation)}),name:ScreenName,component:()=>Messages.type({renderedViaPlugin:!0})}))})}),patcher6.instead(Messages,"type",([props],orig)=>props.renderedViaPlugin?orig(props):(setImmediate(()=>{var lastSelectedGuildId=SelectedGuildStore.getLastSelectedGuildId();RouterUtils.transitionToGuild(lastSelectedGuildId),navigation.navigate(ScreenName)}),null)),patcher6.instead(RouterUtils,"transitionTo",([path,opts],orig)=>{path.startsWith("/channels/@me")?(opts?.navigationReplace&&navigation.navigate(ScreenName),opts?.openChannel&&orig(path,{navigationReplace:!1,openChannel:opts?.openChannel??!0})):orig(path,opts)}),patcher6.instead(modules3.findProp("Messages","DragPreview"),"type",()=>null)}},{external:!1,manageable:!0,enabled:!1})}});var init_restore_devices_setting=__esm({"src/plugins/vengeance/restore-devices-setting/index.ts"(){"use strict";init_internals();registerPlugin({name:"Restore Devices Setting",author:"Palm",description:"Brings the Devices settings page back",id:"vengeance.palmdevs.restore-devices-setting",version:"1.0.0",icon:"LaptopPhoneIcon"},{beforeAppRender({patcher:patcher6,revenge:{modules:modules3}}){var DevicesSetting=modules3.findByFilePath("modules/main_tabs_v2/native/settings/definitions/DevicesSetting.tsx",!0);patcher6.instead(DevicesSetting,"usePredicate",()=>!0)}},{external:!1,manageable:!0,enabled:!1})}});var init_vengeance=__esm({"src/plugins/vengeance/index.ts"(){"use strict";init_notrack();init_silenttyping();init_quickdelete();init_freenitro();init_newplugins();init_commands2();init_messages_tab();init_restore_devices_setting()}});var plugins_exports={};var init_plugins2=__esm({"src/plugins/index.ts"(){"use strict";init_assets();init_settings2();init_staff_settings();init_developer_settings();init_warnings();init_vengeance()}});init_async_to_generator();init_functions();init_library();init_src();init_constants();init_native();init_src2();init_errors();Object.freeze=Object.seal=o=>o;function initialize(){return _initialize.apply(this,arguments)}function _initialize(){return _initialize=_async_to_generator(function*(){recordTimestamp("Init_Initialize");try{var{createModulesLibrary:createModulesLibrary2}=yield Promise.resolve().then(()=>(init_src3(),src_exports)),ModulesLibraryPromise=createModulesLibrary2(),[{AppLibrary:AppLibrary2},{AssetsLibrary:AssetsLibrary2},UIColorsLibrary,{SettingsUILibrary:SettingsUILibrary2},{ReactJSXLibrary:ReactJSXLibrary2}]=yield Promise.all([Promise.resolve().then(()=>(init_src4(),src_exports2)),Promise.resolve().then(()=>(init_src5(),src_exports3)),Promise.resolve().then(()=>(init_colors(),colors_exports)),Promise.resolve().then(()=>(init_settings(),settings_exports)),Promise.resolve().then(()=>(init_jsx(),jsx_exports))]),ModulesLibrary=yield ModulesLibraryPromise,[{startPlugins:startPlugins2,registerExternalPlugins:registerExternalPlugins2},{awaitStorage:awaitStorage2},{settings:settings2,pluginsStates:pluginsStates2}]=yield Promise.all([Promise.resolve().then(()=>(init_src8(),src_exports6)),Promise.resolve().then(()=>(init_src6(),src_exports4)),Promise.resolve().then(()=>(init_src7(),src_exports5))]);globalThis.revenge={app:AppLibrary2,assets:AssetsLibrary2,modules:ModulesLibrary,react:{jsx:ReactJSXLibrary2},ui:{settings:SettingsUILibrary2,colors:UIColorsLibrary}},yield Promise.resolve().then(()=>(init_plugins2(),plugins_exports)),yield registerExternalPlugins2(),recordTimestamp("Plugins_Registered"),yield awaitStorage2(settings2,pluginsStates2),recordTimestamp("Storage_Initialized"),yield startPlugins2(),recordTimestamp("Plugins_Started")}catch(e){onError(e)}}),_initialize.apply(this,arguments)}function onError(e){logger4.error(`Failed to load Revenge: ${getErrorStack(e)}`),alert([`Failed to load Revenge
`,`Build Number: ${ClientInfoModule.Build}`,getErrorStack(e)].join(`
`))}var requireFunc,patcher5=createPatcherInstance("revenge.library.init"),logger4=createLogger("init"),ErrorTypeWhitelist=[ReferenceError,TypeError,RangeError];Promise._m=(promise,err3)=>{err3&&setTimeout(()=>{promise._h===0&&logger4.error(`Unhandled promise rejection: ${getErrorStack(err3)}`)},ErrorTypeWhitelist.some(it=>err3 instanceof it)?0:2e3)};typeof __r<"u"&&initialize();function onceIndexRequired(){recordTimestamp("Native_RequiredIndex");var batchedBridge=__fbBatchedBridge,callQueue=[],unpatch2=patcher5.instead(batchedBridge,"callFunctionReturnFlushedQueue",(args,orig)=>args[0]==="AppRegistry"||!batchedBridge.getCallableModule(args[0])?(callQueue.push(args),batchedBridge.flushedQueue()):orig.apply(batchedBridge,args),"holdNativeCalls");initialize().then(()=>{recordTimestamp("Init_PromiseResolved"),unpatch2();for(var queue of callQueue)batchedBridge.getCallableModule(queue[0])&&batchedBridge.__callFunction(...queue)}).catch(onError)}Object.defineProperties(globalThis,{__r:{configurable:!0,get:()=>requireFunc,set(metroRequire){requireFunc=function(id){if(id===IndexMetroModuleId)requireFunc=metroRequire,onceIndexRequired();else return metroRequire(id)}}},__d:{configurable:!0,get(){return globalThis.modules??=__c?.(),this.value},set(v2){this.value=v2}}});})();
//# sourceURL=revenge
